(function(_0x189fe8,_0x1bb09b){function _0x7ff419(_0x498daa,_0x365242,_0x2f0237,_0x4a14a5){return _0x45f1(_0x4a14a5-0x1a8,_0x2f0237);}function _0x3d1126(_0x93a750,_0x15795b,_0x14c3c7,_0x2c05ec){return _0x45f1(_0x93a750-0x330,_0x14c3c7);}const _0x519f13=_0x189fe8();while(!![]){try{const _0x3f29f9=-parseInt(_0x7ff419(0x2c0,0x2fa,0x27c,0x2d9))/(-0x1f31+-0x1ce3+0x1407*0x3)*(-parseInt(_0x7ff419(0x27e,0x251,0x219,0x266))/(-0x25f4+0x3*-0x803+0x3dff))+-parseInt(_0x3d1126(0x41b,0x412,0x3c2,0x42e))/(-0x32*-0x7+-0x1df*-0x1+-0x33a)+-parseInt(_0x7ff419(0x333,0x2e7,0x2ce,0x2ed))/(0x6*-0x435+0x3b*0xa3+-0xc4f)+-parseInt(_0x3d1126(0x42c,0x474,0x487,0x413))/(-0x86b*0x1+-0xf7b+0x1*0x17eb)+parseInt(_0x7ff419(0x30d,0x29f,0x2db,0x2e2))/(-0x17e*-0x12+-0x1*0x1f65+0x48f)+parseInt(_0x7ff419(0x273,0x31f,0x31f,0x2bb))/(0x12e6+-0x149f*-0x1+-0x277e)*(parseInt(_0x7ff419(0x313,0x2bc,0x2b2,0x2d4))/(0x1*-0x1c67+-0x18+-0x1*-0x1c87))+-parseInt(_0x3d1126(0x47f,0x4d9,0x45a,0x444))/(-0x2*0x121a+0x3d*0x8b+-0x18f*-0x2);if(_0x3f29f9===_0x1bb09b)break;else _0x519f13['push'](_0x519f13['shift']());}catch(_0x4214ce){_0x519f13['push'](_0x519f13['shift']());}}}(_0x8046,0x20189+0x2a8ef*-0x1+0x309c3));const _0x4dfbc8=(function(){const _0xa65718={};_0xa65718[_0x450b54(-0x268,-0x2ed,-0x231,-0x297)]=function(_0x83ad32,_0x49566f){return _0x83ad32===_0x49566f;};function _0x450b54(_0x3dbd42,_0x1ff6b6,_0x4bf515,_0x1adae7){return _0x45f1(_0x1adae7- -0x380,_0x4bf515);}_0xa65718[_0x450b54(-0x1c8,-0x1f5,-0x279,-0x21e)]='NUYIP';const _0x5c45fe=_0xa65718;function _0x3775da(_0xf2e18,_0x365e84,_0x25cec2,_0x2a0b29){return _0x45f1(_0xf2e18- -0x202,_0x25cec2);}let _0x298916=!![];return function(_0xb78af7,_0x5b10b1){const _0x348e5e={'cVxFh':function(_0x28ea38,_0x44476e){function _0x3bac01(_0x5a92d8,_0x3bf7bf,_0x26ff97,_0x4b73ec){return _0x45f1(_0x4b73ec- -0x1f7,_0x5a92d8);}return _0x5c45fe[_0x3bac01(-0xab,-0xe9,-0xe2,-0x10e)](_0x28ea38,_0x44476e);},'drRlh':_0x5c45fe[_0x570a61(0x2be,0x2f1,0x31b,0x2cd)]},_0x43ea0f=_0x298916?function(){function _0x10819d(_0x5732b7,_0x4a09e7,_0x30ef51,_0x1d7b27){return _0x570a61(_0x30ef51-0x14c,_0x1d7b27,_0x30ef51-0xa6,_0x1d7b27-0x8a);}function _0x2272ae(_0xcdd587,_0x3e7e03,_0x39132c,_0x339bae){return _0x570a61(_0x3e7e03- -0x283,_0xcdd587,_0x39132c-0x19d,_0x339bae-0x1c8);}if(_0x348e5e[_0x2272ae(-0x1d,-0x2f,0x37,-0x65)](_0x2272ae(0x50,-0x13,-0x33,0xd),_0x348e5e[_0x10819d(0x350,0x3e7,0x382,0x3cb)])){if(_0x2815f5){const _0x5b5e00=_0xf33592[_0x2272ae(-0xcf,-0x82,-0x57,-0x27)](_0xe28016,arguments);return _0x23e4c9=null,_0x5b5e00;}}else{if(_0x5b10b1){const _0x1d1251=_0x5b10b1[_0x2272ae(-0x96,-0x82,-0x8b,-0xb6)](_0xb78af7,arguments);return _0x5b10b1=null,_0x1d1251;}}}:function(){};_0x298916=![];function _0x570a61(_0x13f2ad,_0x335a8d,_0x33875a,_0x3eef52){return _0x450b54(_0x13f2ad-0x1d5,_0x335a8d-0x19e,_0x335a8d,_0x13f2ad-0x4dc);}return _0x43ea0f;};}()),_0x2a39f3=_0x4dfbc8(this,function(){const _0xd2ed06={};_0xd2ed06[_0x41e240(-0x172,-0xe3,-0x11a,-0x147)]='(((.+)+)+)'+'+$';function _0x41e240(_0xe67bc2,_0x362600,_0x530073,_0x14e1ab){return _0x45f1(_0x14e1ab- -0x226,_0x362600);}function _0x522761(_0x55ed8a,_0x373530,_0x1bad7d,_0x538b07){return _0x45f1(_0x538b07- -0xeb,_0x1bad7d);}const _0x307f1e=_0xd2ed06;return _0x2a39f3[_0x41e240(-0xe2,-0x16b,-0xf4,-0x148)]()[_0x41e240(-0x1be,-0x18b,-0x14f,-0x170)](_0x307f1e[_0x41e240(-0x156,-0x172,-0x17b,-0x147)])['toString']()[_0x41e240(-0x19d,-0x133,-0x15c,-0x157)+'r'](_0x2a39f3)[_0x522761(-0x32,0x0,-0x19,-0x35)](_0x307f1e['gJvGH']);});_0x2a39f3();import{extension_settings}from'../../../../extensions.js';import{saveSettingsDebounced,eventSource}from'../../../../../script.js';import{extensionName,eventNames}from'./config.js';import{floatBallStateManager}from'./ui-float-ball.js';const ttsCache=new Map();let ttsApi=null,activeTtsRequests=-0xef*-0x20+-0x3*-0x313+-0x2719*0x1,batchToastrInfo=null;function _0x8046(){const _0x474a5e=['lIbjBML0Awf0Aq','v0ruuMC','yxbWswq','mtu0ndaWnhfJAKrXuG','Aw5KzxHpzG','vuXzAwq','CxHqBMq','qu1ntuu','AxrLBq','AhnPwKm','y3vYCMvUDf90Da','BwDxDxi','EM1gEMi','B3j5ksbMB3iGAW','y3jLyxrLt2jQzq','ANLtugy','5OMa5PYj5yYf5zcR6z+Z6iMYici','D01swwG','EfzKvgG','qNbwEvu','BMzZuwW','vw5ftvG','BwTIwwi','tw1vvfi','zxf1zxn0oIa','y0rvBxy','ueNPHy3NVA4GiG','y3rvuKW','CMvQzwn0','qNHQrxe','xsbnAxnZigzVCG','zvfVtNm','z2v0','iIdNMOtMIydMNiLbueNKUk3VViW','zw50','DMfSDwvZ','q29kuei','wxrItxm','igTLEtOG','ywnJzxnZx2TLEq','wK9gB3u','DhrZx2jHBgfUyW','yxbWBhK','Bwf4','zw1PDa','yuXdzgS','y2XLyxi','D3jbs1u','zgLZCgf0y2HfDG','CIbMywLSzwqGCG','DgLTzu91Da','ALbxwLe','BwvpDxq','shPzrey','uKndzxq','C3rYAw5N','DhLWzq','y29UDgv4Df90zq','C3bLywTLCNm','C2vHCMnO','qMjnDLu','xsbbueKGCMvXDq','qvbjioMfJEE9RUoaGG','zxn0igzHAwXLza','zMLSDgvY','C3bLy2LHBf9LzG','DhjPBq','mtC4nJjdAgvArfm','C3bLywTLCL9Pza','yxbWx2LK','Aw11Ba','xsbszwz1BMrPBG','DhrZx3bYB2zPBa','rNb2t3C','CMvKDwnL','C2vLzc10DhmTmG','DwvZDc4','qwfMv04','6AkD5BQM5lIn6lAZ44cc','s3vMDLO','DvfwsvG','Aw5PDfr0C0nHyW','we1OzLy','BMCGBMv3ihjLCq','y29UC3rYDwn0BW','CMvZB3vYy2vFAq','quzoyxu','yxPrwM4','zYbXDw90ysbMBW','swH1u3O','yKjrsuW','CuXWqvG','tfLfrui','zMvJDhm','C3rHCNrmB2fKAq','zhjsBgG','DhKT','tgHRDKu','zxK6ia','Dg9tDhjPBMC','z0P2r0G','5B2t5yMnvfrtiefqsEMfJq','zMLN','uezguxu','C0L3vMS','5Q2J5zYO55sF5OIqia','vfrtienHy2HLia','shnryNO','rxLuA2G','DxbKyxrL','BePyrKG','6ywn572Uici','mZG5ntu5sKXVzLjU','CeDUq1y','BhL2yMW','y2HHCKnVzgvbDa','C3LZDgvTigLUAq','yw5fuNy','BKjRrva','y1DOuhy','zcb3AxrOigvTCa','y2fJAgvlzxK','iIdNMOq','DhrZlwLKlq','zgTrAgu','y1z4rMG','C3bHDgLHBa','D2fYBMLUzW','C3rHDhvZ','nZeYmZGWzKjyz1zn','A3vuzwi','zxH0zw5KzwruAq','DhrZx3jLCxvLCW','s05bALq','qK5hEeq','Aw5MBW','yxbPx2nVBMzPzW','5B2t5yMn6ycj5A6A55Qevfrtiee','xsbiAxqGkg1LBq','Aw5Nx3nWzwfRzq','z0vxwMi','AwDVwNC','sw9LuMO','EvfwrKK','572Uici','igzVCIbRzxK6ia','A2v5CW','zw50CMLLCW','B1HLrM4','r2ncDxi','iIdKUk3KUi3LJixLKkVPN7pOIBiGiG','Bwv0ywrHDge','mtmZn0zpBKznsW','D2rsvLG','y2XVBMvFCxvVDa','vfrtx1fvt1rbxW','xsbgB3jJzsbYzq','zKX2zMm','uNrIv3a','C3rVCeXVywrPBG','AMDwEu0','ze1bAue','tKnmuxC','CL9UzxH0x2nVBG','Dgv4Da','DcbJyw5UB3qGyG','tujvtue','CLzjANa','BgvUz3rO','DcbPBML0AwfSAq','DgLHBgL6zwqU','rLrqqxy','BwvZC2fNzq','Bvj0qKm','vfrtihjLCxvLCW','Df9IywXHBMnPBG','5RkH5PYj5y+V55sO55QeifruuYa','mtiZotjruw5rr00','vfrt','sw4TBwvTB3j5ia','BM93','yMHcB24','mtnTBxLXzgi','CxvVDge','B2r5D0y','iIdML6dMLyJMIjBKUi3LROZMLBtJGii','C3LUDgHLC2LZxW','zxjYB3i','Ehfty3q','C19WCM9MAwXL','C2v0','mtm4oti4ofnRvhfqCG','wNbpwva','CNDewvy','Cuncz00','zNjVBq','vvbeqvrfra','u3PIqwS','C3bLywTLCG','D1vzExa','ALLVteK','shfMExq','mtCZndG4CLngDMTv','ueNPHy3NVA7POP3LUQBLNyFKUi3OTRpJGii','CMvZB2X2zq','CeTHsg4','Bg9N','w1ruuYbdywnOzq','6ycj5lIT55Qevfrtiefqsq'];_0x8046=function(){return _0x474a5e;};return _0x8046();}export const TtsCacheEmitter=new EventTarget();export function updateTtsItemData(_0x1f1a6e,_0x4d2948){function _0x4e6878(_0x56fc91,_0x4e2129,_0x5c1351,_0x1328e0){return _0x45f1(_0x56fc91- -0xc7,_0x4e2129);}const _0x40a14a=ttsCache[_0x22d5cc(0x36f,0x32e,0x308,0x32c)](_0x1f1a6e);if(_0x40a14a){const _0x5e4de3={..._0x40a14a,..._0x4d2948},_0x17bb0d=_0x5e4de3;return ttsCache[_0x22d5cc(0x33c,0x344,0x305,0x32c)](_0x1f1a6e,_0x17bb0d),_0x17bb0d;}function _0x22d5cc(_0x57abba,_0x46e824,_0x1d07ff,_0x4e9ea9){return _0x45f1(_0x57abba-0x203,_0x46e824);}return null;}export function getTtsCache(){return ttsCache;}export function getTtsItem(_0x403b4e){return ttsCache['get'](_0x403b4e);}export function addOrUpdateTtsItem(_0x10a3b6,_0x30d164){const _0x55c60f=ttsCache[_0x3a0056(-0x1ac,-0x162,-0x197,-0x19f)](_0x10a3b6)||{},_0x5858b9={..._0x55c60f,..._0x30d164,'timestamp':Date[_0x3a0056(-0x1b2,-0x21d,-0x183,-0x1dc)]()};function _0x303870(_0x1938cd,_0x204672,_0x3b9754,_0x2c0f55){return _0x45f1(_0x1938cd-0x3d2,_0x204672);}ttsCache[_0x303870(0x50b,0x573,0x4a3,0x52c)](_0x10a3b6,_0x5858b9);const _0x180c9e={};_0x180c9e[_0x303870(0x4c6,0x48a,0x524,0x4c5)]=_0x10a3b6,_0x180c9e[_0x3a0056(-0x21b,-0x160,-0x15a,-0x1b7)]=_0x5858b9;function _0x3a0056(_0xb45628,_0x25dbbf,_0x292ef2,_0x57a5be){return _0x45f1(_0x57a5be- -0x30b,_0xb45628);}const _0x11deb1={};return _0x11deb1['detail']=_0x180c9e,TtsCacheEmitter[_0x3a0056(-0x201,-0x222,-0x289,-0x260)+_0x303870(0x540,0x571,0x57a,0x58d)](new CustomEvent(_0x303870(0x4ba,0x4fa,0x4c0,0x484),_0x11deb1)),_0x5858b9;}export async function initiateTtsRequest(_0xcfc7e8,_0x1439e4=![]){const _0x36d2ee={'dkQhe':function(_0x2fd304,_0x3d168a){return _0x2fd304^_0x3d168a;},'jySPf':_0x520acf(-0x1d8,-0x1a5,-0x19a,-0x1d4),'WDTRg':function(_0x30864b,_0x217f68){return _0x30864b===_0x217f68;},'HzYDF':function(_0x5c1313,_0xab1725){return _0x5c1313||_0xab1725;},'pGnCV':function(_0x2afd6f,_0x2d0f1d){return _0x2afd6f(_0x2d0f1d);},'zmFzb':function(_0x49066e,_0x1dbdda){return _0x49066e===_0x1dbdda;},'XMhfV':_0x20201e(-0x16d,-0x19c,-0x1ac,-0x130)+_0x20201e(-0x1df,-0x186,-0x1a8,-0x22e),'dVVjD':function(_0x404f3d,_0x2862c8){return _0x404f3d<_0x2862c8;},'hzhOy':function(_0x3e389b,_0x208304){return _0x3e389b%_0x208304;},'XvyOm':function(_0x363deb,_0x80accd){return _0x363deb+_0x80accd;},'ZpOYP':function(_0x674e65,_0x143708){return _0x674e65===_0x143708;},'ZOFou':_0x20201e(-0x1d2,-0x1f8,-0x210,-0x19a)+'.0','Hqfyt':'synthesis_'+'quota','rwDYV':'clone_quot'+'a','jYoLI':function(_0x507b6f,_0x73aaf){return _0x507b6f>=_0x73aaf;},'fLvfc':function(_0x272d99,_0x23a26f){return _0x272d99!==_0x23a26f;},'oXeFn':_0x520acf(-0x204,-0x1ef,-0x1f0,-0x1dc),'SugHN':_0x20201e(-0x128,-0x129,-0xd7,-0xe7),'AafWN':function(_0x4d7aff,_0x3b312f){return _0x4d7aff===_0x3b312f;},'BpVyU':function(_0x904849,_0x226c47){return _0x904849===_0x226c47;},'mgWur':function(_0x2de0e9,_0x5a167b){return _0x2de0e9>=_0x5a167b;},'wUYyp':_0x520acf(-0x1a0,-0x1d5,-0x1f0,-0x1e5),'anERv':_0x20201e(-0x162,-0x162,-0x122,-0x1b0),'gEWZb':function(_0x35d765,_0x2bb84b,_0x5e85c4){return _0x35d765(_0x2bb84b,_0x5e85c4);},'jgVyM':function(_0x2dbe2b,_0x448583){return _0x2dbe2b(_0x448583);},'rVIjp':function(_0x3e08dc,_0x868f89){return _0x3e08dc!==_0x868f89;},'igoZw':function(_0x142049,_0x2a911b){return _0x142049-_0x2a911b;},'wrAKU':'ULYid','MBUMA':function(_0x1a2b85,_0x185032){return _0x1a2b85-_0x185032;},'KufvZ':function(_0x56fd43,_0x230997){return _0x56fd43(_0x230997);},'MptsR':'audio/mp3','EyTkh':function(_0x28b1a2,_0x43789c,_0x27ebdd){return _0x28b1a2(_0x43789c,_0x27ebdd);},'HsQbz':'success','nfsQl':function(_0x3dde67,_0x23d93f){return _0x3dde67!==_0x23d93f;},'yVmLl':function(_0x2b2f16){return _0x2b2f16();},'PFFQu':_0x520acf(-0x1d8,-0x1a4,-0x1e3,-0x18b)+_0x20201e(-0x1b3,-0x1c4,-0x203,-0x157)+_0x20201e(-0x1a9,-0x197,-0x1b8,-0x173)+_0x20201e(-0x173,-0x15e,-0x1cc,-0x112),'SqVSu':function(_0x36c862,_0x1a0000){return _0x36c862===_0x1a0000;},'vMEof':'vFZaz','TNElw':_0x20201e(-0x1ab,-0x16f,-0x143,-0x1b8),'dMAiA':'TTS\x20API\x20no'+_0x20201e(-0x174,-0x10e,-0x158,-0x160)+'zed.\x20Call\x20'+_0x20201e(-0x1cc,-0x1df,-0x1ec,-0x16a)+'he\x20first.','kBSys':_0x20201e(-0x18f,-0x194,-0x1ef,-0x14e),'qLpAX':_0x520acf(-0x195,-0x1fb,-0x195,-0x252),'AMMME':function(_0x4f2d1a,_0x5c902f,_0x4a4a89){return _0x4f2d1a(_0x5c902f,_0x4a4a89);},'BNGxD':_0x20201e(-0x137,-0xec,-0x135,-0x193),'EHukm':_0x20201e(-0x1a6,-0x19f,-0x1db,-0x1e0),'RtbWp':function(_0x5b524d,_0x21fe97){return _0x5b524d===_0x21fe97;},'BbMvU':_0x520acf(-0x1d2,-0x16f,-0x1b3,-0x15e),'RCCet':function(_0x6e2341,_0x118eca){return _0x6e2341>_0x118eca;},'EXkDO':_0x520acf(-0x1a0,-0x180,-0x183,-0x15f)};if(!ttsApi){if(_0x36d2ee['SqVSu'](_0x36d2ee['vMEof'],_0x36d2ee['TNElw'])){_0xb1e4ad['log'](_0x520acf(-0x174,-0x188,-0x1c9,-0x173)+_0x20201e(-0x193,-0x1d4,-0x1e4,-0x144)+_0x520acf(-0x135,-0x179,-0x191,-0x174)+_0x20201e(-0x1bb,-0x218,-0x166,-0x157)+_0x18f457);const _0x5260fb={..._0x2dd16b['metadata'],..._0x11a397},_0x305f42={..._0x94c04f};_0x305f42[_0x20201e(-0x186,-0x1a9,-0x191,-0x1e6)]=_0x5260fb;const _0x5708cb=_0x305f42;return _0x14eb58[_0x20201e(-0x151,-0x103,-0x10d,-0x1af)](_0x5708cb);}else throw new Error(_0x36d2ee[_0x520acf(-0x183,-0x1b6,-0x1e6,-0x1c8)]);}const {cacheKey:_0x4b673d,text:_0x183dd1,context_texts:_0x56f424,speaker:_0x33c716,ir_description:_0x357eaa,special_effects:_0x469fbf,spatial:_0xfc5c92,metadata:_0x5845c7}=_0xcfc7e8;if(!_0x183dd1||_0x36d2ee['BpVyU'](_0x183dd1[_0x20201e(-0x1db,-0x175,-0x1ca,-0x1b8)]()[_0x20201e(-0x175,-0x160,-0x176,-0x185)],-0x7e8+-0x994+-0x8be*-0x2)){if(_0x36d2ee['kBSys']==='PFAiz')_0x3495a3['log'](_0x20201e(-0x14e,-0x1ac,-0x136,-0x101)+_0x520acf(-0x1fe,-0x1bb,-0x217,-0x1de)+'generating'+_0x520acf(-0x171,-0x1c6,-0x177,-0x1af)+_0x4c375c+'.');else{const _0x15ccf4=_0x20201e(-0x16f,-0x15f,-0x19a,-0x190)+_0x520acf(-0x1d6,-0x1b2,-0x1f2,-0x20f)+'e\x20initiate'+_0x520acf(-0x1e3,-0x1df,-0x1ba,-0x1f8)+'ty\x20text.';return Promise[_0x20201e(-0x130,-0x10b,-0x176,-0xd3)](new Error(_0x15ccf4));}}const _0x238ff9=_0x36d2ee[_0x20201e(-0x1ce,-0x1de,-0x1ac,-0x210)](getTtsItem,_0x4b673d);if(_0x238ff9&&_0x36d2ee[_0x20201e(-0x15d,-0x18e,-0x19a,-0x12f)](_0x238ff9[_0x20201e(-0x19d,-0x1c2,-0x1f5,-0x134)],_0x36d2ee[_0x20201e(-0x1b2,-0x170,-0x187,-0x1ba)])&&!_0x1439e4){console[_0x20201e(-0x14f,-0xe6,-0x19b,-0x12e)](_0x520acf(-0x1bc,-0x188,-0x1e1,-0x15c)+_0x20201e(-0x193,-0x1cd,-0x1cc,-0x157)+_0x20201e(-0x13f,-0x102,-0x127,-0xed)+_0x20201e(-0x1bb,-0x1e4,-0x196,-0x1fb)+_0x4b673d);const _0x1a093a={..._0x238ff9};_0x1a093a[_0x520acf(-0x218,-0x1c0,-0x1ab,-0x1a3)]={..._0x238ff9[_0x520acf(-0x196,-0x1c0,-0x213,-0x1e4)],..._0x5845c7};const _0x1c113c=_0x1a093a;return Promise['resolve'](_0x1c113c);}_0x1439e4?console[_0x20201e(-0x14f,-0x142,-0x108,-0x14c)](_0x520acf(-0x1d3,-0x188,-0x16b,-0x19d)+_0x520acf(-0x163,-0x1bb,-0x19b,-0x1f0)+'generating'+_0x20201e(-0x18c,-0x148,-0x1f0,-0x158)+_0x4b673d+'.'):_0x36d2ee[_0x520acf(-0x1a2,-0x1fc,-0x199,-0x224)]===_0x20201e(-0x18e,-0x178,-0x1c2,-0x128)?(_0x426345=_0x4e51e8[_0x520acf(-0x239,-0x1e4,-0x1a0,-0x24c)](_0x323f0d),_0x28ca8d=_0x28a214[_0x20201e(-0x1d7,-0x213,-0x1db,-0x174)](_0x36d2ee[_0x520acf(-0x21a,-0x1db,-0x219,-0x237)](_0x330586,_0x3c549d),0x127ca5612+0x135e5*0xa9bb+-0x1570967a8),_0x476544=_0x3dcb0a[_0x520acf(-0x1d4,-0x211,-0x238,-0x270)](_0x4fc24b^_0x38fbd1,-0x66ae275d+-0x4002021f+0x105e58e11)):console[_0x20201e(-0x14f,-0x125,-0x1a1,-0x16c)](_0x520acf(-0x187,-0x188,-0x194,-0x1c9)+_0x20201e(-0x12e,-0xf0,-0x15c,-0xf6)+_0x520acf(-0x14e,-0x160,-0x1b4,-0x13d)+_0x4b673d+(_0x20201e(-0x14c,-0x121,-0x175,-0xef)+_0x20201e(-0x1ca,-0x179,-0x214,-0x1b5)+_0x520acf(-0x269,-0x20b,-0x228,-0x1fb)));_0x36d2ee[_0x520acf(-0x155,-0x17f,-0x1a4,-0x198)](addOrUpdateTtsItem,_0x4b673d,{'cacheKey':_0x4b673d,'text':_0x183dd1,'context_texts':_0x56f424,'speaker':_0x33c716,'speaker_name':_0x33c716,'ir_description':_0x357eaa,'special_effects':_0x469fbf,'spatial':_0xfc5c92,'status':'pending','metadata':_0x5845c7}),activeTtsRequests++;batchToastrInfo&&toastr[_0x520acf(-0x274,-0x229,-0x1f1,-0x248)](batchToastrInfo);const _0x9386b3={};function _0x520acf(_0x2abfc6,_0x56e69f,_0xf99fbb,_0x23a965){return _0x45f1(_0x56e69f- -0x2d2,_0x2abfc6);}_0x9386b3[_0x520acf(-0x240,-0x225,-0x1e9,-0x283)]=0x0,_0x9386b3[_0x20201e(-0x19a,-0x16b,-0x191,-0x16b)+'meOut']=0x0;function _0x20201e(_0x584ddd,_0x1ee5ad,_0x11fd01,_0x25985c){return _0x45f1(_0x584ddd- -0x298,_0x25985c);}batchToastrInfo=toastr[_0x520acf(-0x1d8,-0x1d0,-0x1cc,-0x18c)]('正在生成\x20'+activeTtsRequests+'\x20个语音...',_0x36d2ee[_0x20201e(-0x13d,-0x176,-0xe6,-0xf2)],_0x9386b3),floatBallStateManager[_0x520acf(-0x1c6,-0x1f9,-0x1d1,-0x1c4)+'ng']();try{const _0x2538d3=await new Promise(async(_0x213133,_0x1f68f7)=>{function _0x3636e3(_0x1874b4,_0x36f810,_0x458c8c,_0x2d092e){return _0x520acf(_0x36f810,_0x458c8c-0x272,_0x458c8c-0xaa,_0x2d092e-0x7);}const _0x33e6e7={'NCLQw':function(_0x704310,_0x2ff3d9){return _0x36d2ee['WDTRg'](_0x704310,_0x2ff3d9);},'eQoNs':function(_0xd3becf,_0x28781a){function _0x9d005e(_0x134c8d,_0x2e8eaf,_0x10c051,_0x4dd3f0){return _0x45f1(_0x10c051- -0x2f8,_0x4dd3f0);}return _0x36d2ee[_0x9d005e(-0x260,-0x248,-0x248,-0x251)](_0xd3becf,_0x28781a);},'atvgT':function(_0x572438,_0x5206f2){function _0x3e8cac(_0x1951f0,_0x4ba0c0,_0x5c4959,_0xa21948){return _0x45f1(_0x5c4959- -0x347,_0x4ba0c0);}return _0x36d2ee[_0x3e8cac(-0x208,-0x26e,-0x25b,-0x246)](_0x572438,_0x5206f2);}};let _0x42aabf,_0x71bf81,_0x1f8245,_0x3589b8,_0x5f575f=![],_0x408777=-0x1067+-0xce6+-0x1*-0x1d4d;function _0x23692a(_0x42dc05,_0x44b25c,_0x2df5ea,_0x4d2192){return _0x520acf(_0x44b25c,_0x4d2192- -0xa8,_0x2df5ea-0x1e0,_0x4d2192-0x1a1);}let _0xf233=![];try{const _0xbc639b=extension_settings[extensionName];_0x1f8245=_0xbc639b[_0x3636e3(0x11d,0x156,0xf6,0x11b)+_0x3636e3(0x7f,0x73,0xd8,0xa2)];const _0xcdbed2=_0xbc639b[_0x3636e3(0x94,0x1f,0x63,0x34)+'es'][_0x1f8245];if(!_0xcdbed2)throw new Error('当前TTS配置\x20\x22'+_0x1f8245+'\x22\x20未找到。');const _0x15ceaa=_0xcdbed2[_0x3636e3(0xdd,0x94,0xa3,0xee)+'s']||{};if(_0x36d2ee[_0x23692a(-0x1e0,-0x233,-0x25c,-0x222)](Object['keys'](_0x15ceaa)[_0x23692a(-0x1f8,-0x28b,-0x1fd,-0x257)],-0x15c+-0x17*0x15a+-0x1039*-0x2))throw new Error(_0x36d2ee[_0x23692a(-0x29c,-0x2b8,-0x24c,-0x2ad)]);const _0x64e24=Object[_0x3636e3(0x4a,0x68,0xae,0x4d)](_0x15ceaa)[_0x3636e3(0x7c,-0x9,0x5b,0x8f)](([_0x388fac,_0x4f2543])=>_0x4f2543[_0x23692a(-0x289,-0x25c,-0x286,-0x2c5)]&&_0x4f2543[_0x3636e3(0x94,0x12,0x55,-0xc)][_0x33c716])[_0x3636e3(0x9a,0xa8,0x65,0x65)]((_0x44b22d,[_0x275956,_0x98ed1b])=>({..._0x44b22d,[_0x275956]:_0x98ed1b}),{}),_0x3f4786=Object[_0x23692a(-0x282,-0x225,-0x27d,-0x26d)](_0x64e24);if(_0x36d2ee[_0x3636e3(0x149,0x131,0xed,0x146)](_0x3f4786[_0x3636e3(0xfa,0x5d,0xc3,0x61)],0xd7*-0x22+-0x46*-0x2d+0x1040))throw new Error('在当前TTS配置\x20\x22'+_0x1f8245+(_0x3636e3(0xc0,0x15f,0x10d,0xbe)+'均未找到音色\x20\x22')+_0x33c716+'\x22。');if(_0xbc639b[_0x3636e3(0x9c,0xf6,0x9f,0x3e)+_0x23692a(-0x1f0,-0x25f,-0x2a2,-0x250)+'g']){_0xbc639b[_0x23692a(-0x2bd,-0x2f2,-0x2bf,-0x2d6)+'ing_speake'+_0x3636e3(0x92,0xb6,0xbe,0xef)+_0x23692a(-0x2be,-0x287,-0x2a8,-0x299)]=_0xbc639b['tts_balanc'+_0x23692a(-0x2a1,-0x23e,-0x267,-0x274)+_0x3636e3(0xa5,0xc6,0xbe,0xa0)+_0x3636e3(0xd0,0x92,0x81,0xb9)]||{};const _0x12473a=_0xbc639b['tts_balanc'+_0x23692a(-0x287,-0x227,-0x271,-0x274)+'r_next_con'+_0x23692a(-0x259,-0x2b0,-0x2a2,-0x299)][_0x33c716];let _0x4349c6=_0x3f4786[_0x3636e3(0x10c,0x131,0xf0,0x103)](_0x12473a);if(_0x36d2ee[_0x23692a(-0x27d,-0x278,-0x233,-0x222)](_0x4349c6,-(0x51f*0x4+-0x371+-0x110a)))_0x4349c6=0x1*-0x254f+-0x7e3*-0x3+0xda6*0x1;for(let _0xdc1fbe=0x1a19+0x3*0x2ff+-0x2316;_0x36d2ee['dVVjD'](_0xdc1fbe,_0x3f4786[_0x3636e3(0x6c,0xd2,0xc3,0x11d)]);_0xdc1fbe++){if(_0x36d2ee[_0x23692a(-0x1ff,-0x25e,-0x247,-0x222)](_0x23692a(-0x207,-0x241,-0x23e,-0x232),_0x23692a(-0x2b3,-0x2ed,-0x2a3,-0x2af))){const _0x43cfb2=_0x556f3c[_0x3636e3(0xc9,0x14e,0x10c,0x139)](_0x13a3cb);if(_0x43cfb2){const _0x49b6b2={..._0x43cfb2,..._0x2b01f0},_0x461b92=_0x49b6b2;return _0x3054b5['set'](_0x4d8ff5,_0x461b92),_0x461b92;}return null;}else{const _0xb6f3c3=_0x36d2ee['hzhOy'](_0x36d2ee['XvyOm'](_0x4349c6,_0xdc1fbe),_0x3f4786[_0x3636e3(0x9a,0xc4,0xc3,0xd9)]),_0x1bb70e=_0x3f4786[_0xb6f3c3],_0x487073=_0x64e24[_0x1bb70e],_0x432fc3=_0x183dd1[_0x23692a(-0x26a,-0x223,-0x291,-0x257)],_0x47fcd7=_0x36d2ee['ZpOYP'](_0x487073[_0x3636e3(0x83,0xb6,0x55,0x61)][_0x33c716][_0x23692a(-0x244,-0x2cc,-0x2e6,-0x2aa)+'d'],_0x36d2ee[_0x3636e3(0xa6,0x59,0x43,0x85)]),_0x5f752c=_0x47fcd7?_0x36d2ee[_0x23692a(-0x25d,-0x289,-0x248,-0x236)]:_0x36d2ee[_0x3636e3(0x110,0x8a,0xdc,0xd9)],_0x57f414=_0x487073[_0x5f752c];if(_0x487073[_0x3636e3(0x2d,0x4b,0x60,0x41)]&&_0x487073[_0x23692a(-0x26f,-0x26f,-0x25b,-0x207)]&&(_0x36d2ee[_0x3636e3(0xd9,0x12f,0xed,0x14c)](_0x57f414,-(0x217f+-0x379*0x8+-0x5b6))||_0x36d2ee[_0x23692a(-0x1ce,-0x206,-0x202,-0x237)](_0x57f414,_0x432fc3))){if(_0x36d2ee[_0x23692a(-0x298,-0x204,-0x220,-0x262)](_0x36d2ee[_0x23692a(-0x2b4,-0x20c,-0x2d2,-0x26b)],_0x36d2ee['oXeFn']))_0x100fc0['clone_quot'+'a']+=_0x2e0ff0;else{_0x42aabf=_0x487073,_0x71bf81=_0x1bb70e,_0xbc639b[_0x23692a(-0x2b9,-0x2ee,-0x307,-0x2d6)+_0x3636e3(0x69,0xe5,0xa6,0xda)+_0x23692a(-0x24a,-0x28d,-0x212,-0x25c)+'fig'][_0x33c716]=_0x3f4786[_0x36d2ee['XvyOm'](_0xb6f3c3,-0x145d+-0x1*0x257b+-0x1*-0x39d9)%_0x3f4786[_0x23692a(-0x2a1,-0x22c,-0x23f,-0x257)]],saveSettingsDebounced();break;}}}}}else{if(_0x23692a(-0x1fd,-0x225,-0x2b2,-0x254)===_0x36d2ee['SugHN'])_0xba3a5['clear'](_0x3f3090);else{const _0xc249be=_0xcdbed2['current_ap'+'i_config'],_0xcaedcc=_0x15ceaa[_0xc249be];if(!_0xcaedcc||!_0xcaedcc[_0x23692a(-0x2a9,-0x2b0,-0x318,-0x2ba)]||!_0xcaedcc[_0x23692a(-0x268,-0x224,-0x1a5,-0x207)])throw new Error(_0x3636e3(0x7b,0xec,0xa4,0x65)+'PI配置\x20\x22'+_0xc249be+_0x3636e3(0x7f,0xde,0xd4,0x117));if(!_0xcaedcc[_0x3636e3(0x3f,0x40,0x55,0x26)]||!_0xcaedcc['speakers'][_0x33c716])throw new Error('当前选定的TTS\x20A'+_0x3636e3(0x138,0x159,0x106,0x11a)+_0xc249be+_0x3636e3(0x10e,0x68,0xb1,0xf4)+_0x33c716+'\x22。');const _0x2337af=_0x183dd1[_0x23692a(-0x28f,-0x20b,-0x27e,-0x257)],_0x66825c=_0x36d2ee[_0x3636e3(0xbd,0x21,0x68,0x13)](_0xcaedcc[_0x23692a(-0x2b3,-0x30c,-0x2db,-0x2c5)][_0x33c716][_0x23692a(-0x2c3,-0x2bf,-0x2b1,-0x2aa)+'d'],_0x36d2ee[_0x23692a(-0x2bd,-0x272,-0x2cb,-0x2d7)]),_0x1d74b7=_0x66825c?_0x36d2ee[_0x23692a(-0x1f4,-0x27f,-0x299,-0x236)]:_0x36d2ee[_0x23692a(-0x27b,-0x225,-0x258,-0x23e)],_0x2d0ca6=_0xcaedcc[_0x1d74b7];_0x36d2ee[_0x3636e3(0x10b,0xee,0xff,0x139)](_0x2d0ca6,-(0x20*0xe5+0xdce+-0x2a6d))||_0x36d2ee[_0x3636e3(0xb6,0x107,0xf7,0xe9)](_0x2d0ca6,_0x2337af)?_0x36d2ee[_0x3636e3(0x5f,0x74,0xb8,0x11d)](_0x23692a(-0x2a1,-0x2e1,-0x2b2,-0x29e),_0x36d2ee[_0x3636e3(0x147,0x120,0xe2,0xad)])?(_0x42aabf=_0xcaedcc,_0x71bf81=_0xc249be):_0x1769cf=null:toastr[_0x3636e3(0x45,0x82,0x9a,0x100)](_0x23692a(-0x2bd,-0x2e9,-0x294,-0x29a)+_0x3636e3(0xcc,0xba,0xab,0x7b)+_0xc249be+_0x23692a(-0x2a1,-0x26d,-0x2da,-0x285)+(_0x66825c?'合成':'复刻')+_0x23692a(-0x2ca,-0x28a,-0x281,-0x2b1));}}if(!_0x42aabf){const _0x5429a0=_0x23692a(-0x1d9,-0x219,-0x207,-0x21e)+_0x33c716+('\x22\x20的可用TTS\x20A'+_0x3636e3(0xe7,0x13a,0xe6,0xa6));toastr[_0x23692a(-0x241,-0x2d9,-0x2ac,-0x280)](_0x5429a0);const _0x162cfc={};return _0x162cfc[_0x23692a(-0x2c7,-0x2ad,-0x244,-0x27f)]=_0x36d2ee[_0x3636e3(0x99,0x3c,0x90,0xba)],_0x162cfc['error']=_0x5429a0,addOrUpdateTtsItem(_0x4b673d,_0x162cfc),_0x36d2ee[_0x23692a(-0x2ca,-0x276,-0x27d,-0x28e)](_0x1f68f7,new Error(_0x5429a0));}_0x3589b8=_0x42aabf[_0x3636e3(0xa9,0x62,0x55,0x3b)][_0x33c716];const _0x2d4390=_0x183dd1[_0x23692a(-0x298,-0x25a,-0x1f7,-0x257)],_0x46b60e=_0x36d2ee[_0x23692a(-0x1c4,-0x1ea,-0x1ed,-0x21b)](_0x3589b8[_0x23692a(-0x2d0,-0x2cb,-0x264,-0x2aa)+'d'],_0x3636e3(0x5c,0x66,0x66,0x1a)+'.0'),_0x3b97de=_0x46b60e?_0x36d2ee['Hqfyt']:_0x36d2ee[_0x3636e3(0x87,0x90,0xdc,0xd5)],_0x6da527=_0x42aabf[_0x3b97de];if(_0x36d2ee[_0x3636e3(0xfb,0xbc,0xb8,0x97)](_0x6da527,-(0x3*-0x48b+0xacb*-0x3+-0x1*-0x2e03))&&_0x36d2ee['dVVjD'](_0x6da527,_0x2d4390)){const _0xa38486=_0x23692a(-0x1fd,-0x210,-0x263,-0x22f)+_0x23692a(-0x228,-0x294,-0x2e0,-0x290)+_0x71bf81+'\x22\x20'+(_0x46b60e?'合成':'复刻')+'额度不足\x20(需要:\x20'+_0x2d4390+')。';return toastr[_0x23692a(-0x288,-0x28c,-0x286,-0x280)](_0xa38486),_0x36d2ee[_0x3636e3(0xb7,0x7d,0xa7,0xe3)](addOrUpdateTtsItem,_0x4b673d,{'status':_0x36d2ee[_0x3636e3(0x44,0x34,0x90,0x40)],'error':_0xa38486}),_0x36d2ee['jgVyM'](_0x1f68f7,new Error(_0xa38486));}const _0x372630=_0x42aabf;_0x408777=_0x2d4390,_0xf233=_0x46b60e;if(_0x46b60e&&_0x36d2ee[_0x3636e3(0x101,0xe8,0xc2,0x79)](_0x372630['synthesis_'+_0x23692a(-0x25b,-0x247,-0x244,-0x248)],-(-0x78d+-0x1935*-0x1+-0x11a7)))_0x372630['synthesis_'+_0x3636e3(0xc0,0xd2,0xd2,0x9b)]=Math[_0x23692a(-0x328,-0x2ba,-0x32d,-0x2d4)](-0x1*-0x8de+-0x2*-0x876+0x1*-0x19ca,_0x36d2ee[_0x3636e3(0xcd,0x9c,0xa8,0x92)](_0x372630[_0x23692a(-0x260,-0x290,-0x259,-0x245)+_0x3636e3(0x112,0x9a,0xd2,0xa6)],_0x2d4390)),_0x5f575f=!![];else{if(!_0x46b60e&&_0x36d2ee[_0x3636e3(0xe8,0xc3,0xb8,0x100)](_0x372630[_0x23692a(-0x26c,-0x248,-0x2b7,-0x265)+'a'],-(0x172b*-0x1+0x1*0x5ab+0x1181))){if(_0x3636e3(0xd0,0x143,0xf1,0xc5)!==_0x36d2ee[_0x3636e3(-0x1d,0x80,0x4a,0xb)]){if(typeof _0x146a9b!==_0x3636e3(0x23,0x30,0x52,0x81)||_0x33e6e7[_0x23692a(-0x296,-0x2c5,-0x20f,-0x25d)](_0x2bab35['length'],0x26b0+0x1*-0x1409+0x12a7*-0x1))return'tts-id-emp'+'ty-'+_0x19d43b[_0x3636e3(0x113,0x12a,0xcf,0x132)]();const _0x28e0d6=_0x327564+'|'+_0x33e6e7[_0x23692a(-0x20a,-0x26f,-0x1e2,-0x20f)](_0x16d8ce,'')+'|'+_0x33e6e7[_0x3636e3(0x14a,0x16f,0x10b,0x10e)](_0x71342b,'');return _0x3636e3(0x81,0xb3,0x96,0x2f)+_0x33e6e7['atvgT'](_0x5425ec,_0x28e0d6);}else _0x372630[_0x23692a(-0x27e,-0x275,-0x205,-0x265)+'a']=Math[_0x23692a(-0x277,-0x2af,-0x33b,-0x2d4)](-0x10c8+0x35*0xb9+-0x1585*0x1,_0x36d2ee[_0x3636e3(0xb4,0xa5,0xc1,0x101)](_0x372630[_0x23692a(-0x20a,-0x28d,-0x22a,-0x265)+'a'],_0x2d4390)),_0x5f575f=!![];}}_0x5f575f&&(saveSettingsDebounced(),eventSource['emit'](eventNames['TTS_QUOTA_'+_0x23692a(-0x1ed,-0x220,-0x219,-0x23b)]));const _0x513bc8={..._0xcfc7e8};_0x513bc8[_0x3636e3(0x10d,0xde,0xee,0xd7)]=_0x42aabf['app_id'],_0x513bc8['accessKey']=_0x42aabf['access_key'],_0x513bc8[_0x23692a(-0x220,-0x208,-0x1fe,-0x239)]=_0x3589b8[_0x23692a(-0x300,-0x2b1,-0x2eb,-0x2bb)],_0x513bc8['resourceId']=_0x3589b8[_0x3636e3(0xb5,0x6a,0x70,0x63)+'d'];const _0x405c74=_0x513bc8,{audioBuffer:_0x1bfe45}=await _0x36d2ee[_0x3636e3(0x77,0x47,0x6a,0x97)](ttsApi,_0x405c74),_0x2acbaf={};_0x2acbaf[_0x23692a(-0x273,-0x291,-0x2ef,-0x2c7)]=_0x36d2ee['MptsR'];const _0x57fc11=new Blob([_0x1bfe45],_0x2acbaf),_0x69801d=URL[_0x23692a(-0x1e4,-0x1e0,-0x262,-0x220)+_0x3636e3(0x153,0x12e,0x107,0xb5)](_0x57fc11),_0x5f35c5=_0x36d2ee[_0x3636e3(0x93,0x63,0x87,0xa1)](addOrUpdateTtsItem,_0x4b673d,{'status':_0x36d2ee[_0x3636e3(0xa2,0xee,0x86,0x9a)],'audioBuffer':_0x1bfe45,'audioBlob':_0x57fc11,'audioUrl':_0x69801d,'text':_0xcfc7e8[_0x23692a(-0x1fc,-0x25b,-0x252,-0x25b)],'context_texts':_0xcfc7e8[_0x23692a(-0x29d,-0x277,-0x2b4,-0x2c6)+'xts'],'speaker':_0x3589b8[_0x23692a(-0x2ab,-0x286,-0x2e5,-0x2bb)],'speaker_name':_0xcfc7e8[_0x3636e3(0x146,0xdc,0xe1,0xd6)],'ir_description':_0xcfc7e8['ir_descrip'+'tion'],'special_effects':_0xcfc7e8[_0x3636e3(0x1d,0x2d,0x5c,-0x5)+_0x3636e3(0x39,0x3a,0x78,0xa9)],'spatial':_0xcfc7e8[_0x3636e3(0xcc,0x3a,0x99,0xfa)]});_0x36d2ee[_0x3636e3(0x7e,0x123,0xbb,0x75)](_0x213133,_0x5f35c5);}catch(_0x4a2075){console[_0x3636e3(0xa0,0x104,0xd6,0x84)](_0x23692a(-0x220,-0x1ef,-0x1e9,-0x230)+_0x3636e3(-0x5,0x52,0x58,0xb1)+_0x23692a(-0x2ef,-0x2b4,-0x30b,-0x2c0)+'\x20for\x20'+_0x4b673d+':',_0x4a2075);if(_0x5f575f&&_0x42aabf){console[_0x3636e3(0x125,0x104,0xe9,0xa1)](_0x23692a(-0x279,-0x230,-0x272,-0x230)+_0x23692a(-0x2bd,-0x2e1,-0x254,-0x2b8)+_0x3636e3(0x9a,0x2c,0x73,0x9c)+_0x3636e3(0xaf,0x9e,0x4c,0x15)+_0x3636e3(0xd9,0x12f,0x104,0x140)+_0x4b673d);if(_0xf233&&_0x36d2ee[_0x3636e3(0xd3,0xe4,0x100,0x15c)](_0x42aabf[_0x3636e3(0xb3,0x71,0xd5,0xd3)+_0x23692a(-0x269,-0x1e4,-0x24f,-0x248)],-(-0x1*-0x1b7f+0x7a*-0x2b+0x7*-0x100)))_0x42aabf[_0x3636e3(0xfb,0x8f,0xd5,0x93)+_0x23692a(-0x219,-0x28e,-0x25f,-0x248)]+=_0x408777;else{if(!_0xf233&&_0x42aabf[_0x23692a(-0x2b4,-0x216,-0x23b,-0x265)+'a']!==-(-0x12b*-0xb+-0xa6*0x3b+0x196a)){if(_0x3636e3(0x44,0x72,0x4e,0x7d)!==_0x3636e3(0x105,0x78,0xb0,0xd3))_0x42aabf[_0x3636e3(0x4e,0x62,0xb5,0xaa)+'a']+=_0x408777;else{const _0x4e962e={};_0x4e962e[_0x23692a(-0x320,-0x2f5,-0x292,-0x2cd)]=0x0,_0x4e962e['extendedTi'+'meOut']=0x0,_0x40f059=_0x31844e[_0x3636e3(0xfa,0x42,0xa2,0xb1)](_0x23692a(-0x23f,-0x28c,-0x2f7,-0x296)+_0x39c4b2+'\x20个语音...',_0x36d2ee['jySPf'],_0x4e962e);}}}_0x36d2ee['yVmLl'](saveSettingsDebounced),eventSource[_0x23692a(-0x2b6,-0x301,-0x2a5,-0x2d3)](eventNames[_0x23692a(-0x26e,-0x239,-0x25b,-0x264)+_0x3636e3(0x10f,0xbb,0xdf,0x121)]);}_0x36d2ee['EyTkh'](addOrUpdateTtsItem,_0x4b673d,{'status':_0x36d2ee['anERv'],'error':_0x4a2075[_0x23692a(-0x27c,-0x21f,-0x2ba,-0x253)]||_0x36d2ee[_0x3636e3(0x4c,0x6f,0x6a,0x4c)](String,_0x4a2075)}),_0x1f68f7(_0x4a2075);}});return _0x2538d3;}finally{if(_0x36d2ee[_0x20201e(-0x197,-0x1eb,-0x143,-0x1f3)]===_0x36d2ee['EHukm'])return _0x2b6aae;else{activeTtsRequests--,floatBallStateManager[_0x520acf(-0x1e3,-0x1b8,-0x1ed,-0x201)+'g']();batchToastrInfo&&(_0x36d2ee[_0x20201e(-0x17f,-0x180,-0x158,-0x1be)](_0x36d2ee[_0x20201e(-0x1e1,-0x1c5,-0x1a1,-0x23c)],_0x36d2ee['BbMvU'])?toastr[_0x20201e(-0x1ef,-0x1c3,-0x1dc,-0x1b5)](batchToastrInfo):(_0x42e8cc=_0x17c58d,_0x2031dc[_0x20201e(-0x14f,-0x1b1,-0x19a,-0x192)](_0x36d2ee[_0x520acf(-0x22d,-0x1f0,-0x202,-0x1a1)])));if(_0x36d2ee[_0x520acf(-0x1e6,-0x221,-0x289,-0x1c7)](activeTtsRequests,-0x267b*0x1+0x752*0x1+-0x1f29*-0x1)){const _0x2102e3={};_0x2102e3[_0x20201e(-0x1eb,-0x1fd,-0x19a,-0x187)]=0x0,_0x2102e3[_0x520acf(-0x17c,-0x1d4,-0x19e,-0x1a8)+_0x20201e(-0x1e9,-0x24c,-0x1e3,-0x23a)]=0x0,batchToastrInfo=toastr[_0x20201e(-0x196,-0x1d5,-0x134,-0x136)]('正在生成\x20'+activeTtsRequests+'\x20个语音...',_0x36d2ee[_0x520acf(-0x1c1,-0x177,-0x19b,-0x168)],_0x2102e3);}else _0x36d2ee[_0x520acf(-0x1cf,-0x17a,-0x118,-0x19e)](_0x20201e(-0x146,-0x12d,-0x103,-0x16c),_0x36d2ee['EXkDO'])?batchToastrInfo=null:(_0x3a8672=_0x571abc,_0x423460=_0x16bbc9);}}}function _0x45f1(_0x1be0f2,_0x44a61a){const _0x5d7b1b=_0x8046();return _0x45f1=function(_0x161076,_0x219c60){_0x161076=_0x161076-(-0x1*-0x1c73+-0xdb1*-0x2+-0x13a*0x2d);let _0x5cf824=_0x5d7b1b[_0x161076];if(_0x45f1['UjnyBy']===undefined){var _0x4be1a4=function(_0x2e061c){const _0x2d2fad='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x32654d='',_0x2c5a75='',_0xb9a1f5=_0x32654d+_0x4be1a4;for(let _0x47752d=-0x1bd1+-0xd36+0x48f*0x9,_0x499582,_0x5172d2,_0x370966=-0x808+-0xae3+0x12eb;_0x5172d2=_0x2e061c['charAt'](_0x370966++);~_0x5172d2&&(_0x499582=_0x47752d%(0x10ac+0x2*0x670+-0x1d88)?_0x499582*(-0x1c75+0x605+0x16*0x108)+_0x5172d2:_0x5172d2,_0x47752d++%(0x254c+0x1*0x883+-0x13*0x269))?_0x32654d+=_0xb9a1f5['charCodeAt'](_0x370966+(-0x63b+-0x51b*0x2+0x107b))-(-0x4d5*0x2+0xf4*0x15+-0xa50)!==-0xcf3*-0x1+0x9d*-0x31+0x111a?String['fromCharCode'](0x1ff3+0x243*0x3+-0x25bd&_0x499582>>(-(-0x4*0x31e+-0xdf9*-0x2+-0xf78)*_0x47752d&-0x1*-0x1592+0x8*-0x3c1+-0x16a*-0x6)):_0x47752d:-0x2*-0x7f0+0x2a2*-0x3+-0x7fa){_0x5172d2=_0x2d2fad['indexOf'](_0x5172d2);}for(let _0x3a8672=0x253b+0x25f1*0x1+0x12cb*-0x4,_0x571abc=_0x32654d['length'];_0x3a8672<_0x571abc;_0x3a8672++){_0x2c5a75+='%'+('00'+_0x32654d['charCodeAt'](_0x3a8672)['toString'](-0x2da+0x3e1*-0x6+0x346*0x8))['slice'](-(0x20*-0xc9+-0x19db+-0x39*-0xe5));}return decodeURIComponent(_0x2c5a75);};_0x45f1['YsvhRD']=_0x4be1a4,_0x1be0f2=arguments,_0x45f1['UjnyBy']=!![];}const _0x1ba1cd=_0x5d7b1b[-0xd74+-0x1c96+-0x1*-0x2a0a],_0x58207c=_0x161076+_0x1ba1cd,_0x2e13a7=_0x1be0f2[_0x58207c];if(!_0x2e13a7){const _0x423460=function(_0x16bbc9){this['RNexnb']=_0x16bbc9,this['iAiGVz']=[0x10*0x20e+0x62e+-0x270d,-0x1446+-0x1df6+0x323c,0x1*-0x262b+0x4*-0x980+0x11*0x47b],this['arPobb']=function(){return'newState';},this['XzQuQy']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['hqEPQY']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x423460['prototype']['XwsxcU']=function(){const _0x54d188=new RegExp(this['XzQuQy']+this['hqEPQY']),_0x130602=_0x54d188['test'](this['arPobb']['toString']())?--this['iAiGVz'][-0x8d0+0xb81+-0x2b0*0x1]:--this['iAiGVz'][-0x23d6+0xbc7+0x180f];return this['JKhdyk'](_0x130602);},_0x423460['prototype']['JKhdyk']=function(_0x28973c){if(!Boolean(~_0x28973c))return _0x28973c;return this['OUevSJ'](this['RNexnb']);},_0x423460['prototype']['OUevSJ']=function(_0x1da2b9){for(let _0x35faf6=0xc1*-0x19+-0x141e+0x26f7,_0x54f23f=this['iAiGVz']['length'];_0x35faf6<_0x54f23f;_0x35faf6++){this['iAiGVz']['push'](Math['round'](Math['random']())),_0x54f23f=this['iAiGVz']['length'];}return _0x1da2b9(this['iAiGVz'][-0x3*0x2cd+0xd70+-0x509]);},new _0x423460(_0x45f1)['XwsxcU'](),_0x5cf824=_0x45f1['YsvhRD'](_0x5cf824),_0x1be0f2[_0x58207c]=_0x5cf824;}else _0x5cf824=_0x2e13a7;return _0x5cf824;},_0x45f1(_0x1be0f2,_0x44a61a);}export function getSpeakers(){const _0x164d91={};_0x164d91[_0x27d771(0x3e1,0x386,0x418,0x3ec)]=function(_0x948d33,_0x4882f8){return _0x948d33!==_0x4882f8;},_0x164d91[_0x2d18f6(-0x21b,-0x1e1,-0x21b,-0x204)]='ZfqpR',_0x164d91[_0x2d18f6(-0x24c,-0x1fb,-0x298,-0x20e)]='CujLY';const _0xbf3309=_0x164d91,_0x5a5ae2=extension_settings[extensionName];function _0x2d18f6(_0x5c1860,_0x2a1b2d,_0x51ec16,_0x4b67a0){return _0x45f1(_0x5c1860- -0x38c,_0x2a1b2d);}const _0x57ba1b=_0x5a5ae2[_0x27d771(0x3ce,0x419,0x402,0x409)+_0x2d18f6(-0x254,-0x204,-0x234,-0x22b)],_0x1974c9=_0x5a5ae2[_0x27d771(0x33b,0x345,0x303,0x336)+'es'][_0x57ba1b];if(!_0x1974c9||!_0x1974c9[_0x27d771(0x37b,0x3b8,0x3b3,0x399)+'s'])return[];const _0x1252e8=new Map();function _0x27d771(_0x397971,_0x349b37,_0x469cd9,_0x577a1a){return _0x45f1(_0x397971-0x278,_0x469cd9);}const _0x1c435c=_0x1974c9[_0x27d771(0x37b,0x398,0x350,0x394)+'s'];for(const _0xa725b9 in _0x1c435c){if(_0xbf3309[_0x2d18f6(-0x223,-0x25f,-0x1f1,-0x260)](_0xbf3309[_0x27d771(0x3e9,0x3c9,0x391,0x3af)],_0xbf3309[_0x2d18f6(-0x24c,-0x290,-0x29a,-0x22a)])){const _0x15c713=_0x1c435c[_0xa725b9];if(_0x15c713[_0x2d18f6(-0x2d7,-0x325,-0x334,-0x2a1)])for(const _0x564a1b in _0x15c713[_0x27d771(0x32d,0x357,0x2e6,0x382)]){!_0x1252e8['has'](_0x564a1b)&&_0x1252e8[_0x27d771(0x3b1,0x40f,0x405,0x414)](_0x564a1b,{'name':_0x564a1b,..._0x15c713[_0x27d771(0x32d,0x2cc,0x2d9,0x350)][_0x564a1b]});}}else return _0xf1d7d7[_0x2d18f6(-0x220,-0x23a,-0x1f8,-0x1c5)](_0x5d2132);}return Array[_0x2d18f6(-0x24e,-0x1f5,-0x28f,-0x275)](_0x1252e8[_0x2d18f6(-0x21d,-0x247,-0x237,-0x20a)]());}export function initTtsCache(_0x1566d3){function _0x48443a(_0x42aa27,_0x4b62c3,_0x451525,_0x1d3e2a){return _0x45f1(_0x42aa27-0x7b,_0x1d3e2a);}function _0x5816f0(_0x1efa60,_0x2d871c,_0x2b4961,_0x5ae728){return _0x45f1(_0x2b4961-0x1ab,_0x1efa60);}ttsApi=_0x1566d3,console[_0x5816f0(0x299,0x2d0,0x2f4,0x30e)](_0x48443a(0x1a9,0x150,0x1c9,0x1fd)+'TTS\x20Cache\x20'+'system\x20ini'+_0x5816f0(0x2cb,0x2ff,0x2d0,0x2b4));}function cyrb53(_0x4431d3,_0x39c6df=0x1*0x209+0x1*0x192d+-0x1b36){const _0x17a3b6={};_0x17a3b6['nBkEP']=function(_0x4db783,_0x4525e2){return _0x4db783^_0x4525e2;},_0x17a3b6[_0xa8539d(-0x101,-0x113,-0x14f,-0xca)]=function(_0x3f41c0,_0x1409df){return _0x3f41c0<_0x1409df;},_0x17a3b6['wMRYh']=function(_0x51e6e0,_0x2e1cbf){return _0x51e6e0!==_0x2e1cbf;},_0x17a3b6['azQZn']=_0x565560(0x480,0x454,0x4aa,0x4a9),_0x17a3b6[_0x565560(0x4ae,0x4b3,0x4b3,0x481)]=_0xa8539d(-0x79,-0xa7,-0xbb,-0x3e),_0x17a3b6['odywF']=function(_0x40b78f,_0x9e4fda){return _0x40b78f^_0x9e4fda;},_0x17a3b6['AFNau']=function(_0x225f0a,_0x17d1d){return _0x225f0a>>>_0x17d1d;},_0x17a3b6[_0xa8539d(-0x6c,-0x3b,-0x17,-0x46)]=function(_0x438684,_0x542245){return _0x438684^_0x542245;},_0x17a3b6[_0x565560(0x4be,0x42d,0x455,0x4a0)]=function(_0x5c06a3,_0x43b43f){return _0x5c06a3>>>_0x43b43f;},_0x17a3b6['xqSct']=function(_0x3efbb5,_0x5092c5){return _0x3efbb5+_0x5092c5;},_0x17a3b6[_0xa8539d(-0xd4,-0x95,-0x12d,-0xcd)]=function(_0x5b3a86,_0x26799a){return _0x5b3a86*_0x26799a;},_0x17a3b6[_0x565560(0x415,0x429,0x419,0x441)]=function(_0x1d0db4,_0x1a2ce0){return _0x1d0db4&_0x1a2ce0;};const _0x328ba6=_0x17a3b6;function _0xa8539d(_0x5a88d3,_0x4d3eb5,_0x5731d8,_0x5c3e2d){return _0x45f1(_0x5a88d3- -0x1a9,_0x5731d8);}let _0x1382ff=_0x328ba6['nBkEP'](0xe4e768e9+0x9fb08a30+-0x1*0xa5ea342a,_0x39c6df),_0x288ec8=_0x328ba6[_0x565560(0x41b,0x44c,0x446,0x3e1)](-0x5435321a+-0x4ac8f71*0x17+-0x995*-0x1adf38,_0x39c6df);function _0x565560(_0x2f25ad,_0x4521c1,_0x1032e0,_0x1a65a6){return _0x45f1(_0x1032e0-0x355,_0x2f25ad);}for(let _0xe95cbe=0x1bb4+0xae7+0x269b*-0x1,_0x27c828;_0x328ba6['aLCdk'](_0xe95cbe,_0x4431d3[_0xa8539d(-0x86,-0x68,-0x7e,-0x2a)]);_0xe95cbe++){if(_0x328ba6[_0x565560(0x4d8,0x517,0x4b2,0x4cc)](_0x328ba6[_0xa8539d(-0xd7,-0x70,-0x81,-0xa5)],_0x328ba6[_0x565560(0x4d1,0x508,0x4b3,0x4a0)]))_0x27c828=_0x4431d3['charCodeAt'](_0xe95cbe),_0x1382ff=Math[_0xa8539d(-0xe8,-0x9d,-0xee,-0x101)](_0x328ba6[_0x565560(0x40a,0x444,0x446,0x48e)](_0x1382ff,_0x27c828),0xe8ed540b+0x74947b31+-0xbf4a558b),_0x288ec8=Math[_0x565560(0x415,0x3de,0x416,0x47b)](_0x288ec8^_0x27c828,0x45e90368+0x1*-0x8b80c25d+-0x29d41*-0x3f0a);else{const _0x3551c2=_0x4e8a07['apply'](_0x2bbe8f,arguments);return _0x3f7e6f=null,_0x3551c2;}}return _0x1382ff=_0x328ba6[_0x565560(0x4c2,0x476,0x488,0x439)](Math[_0x565560(0x3b3,0x3cf,0x416,0x428)](_0x328ba6[_0xa8539d(-0xb8,-0xf2,-0xfc,-0xe8)](_0x1382ff,_0x328ba6[_0x565560(0x426,0x3cc,0x426,0x3e2)](_0x1382ff,0x25b8*-0x1+-0xca4+0x326c)),0xc361c174+0x2c960ee8+-0x6a0c05f1),Math[_0x565560(0x444,0x3fd,0x416,0x458)](_0x288ec8^_0x288ec8>>>-0x1*-0x155+-0x1b4f+0x1a07,-0x295133*-0x53e+-0x70*-0x1df0ff+0x22fe6ab5*-0x1)),_0x288ec8=Math[_0xa8539d(-0xe8,-0x9a,-0x115,-0x11e)](_0x288ec8^_0x328ba6[_0x565560(0x441,0x400,0x426,0x45d)](_0x288ec8,0xa01+0x1912+-0x2303*0x1),-0xb59c508f+-0x8533a98b+0x1c0bbc485)^Math['imul'](_0x328ba6[_0xa8539d(-0x6c,-0x79,-0x2b,-0xb3)](_0x1382ff,_0x328ba6[_0xa8539d(-0xa9,-0xba,-0x93,-0xb0)](_0x1382ff,0x6*-0x2f1+0x24d1+-0x131e)),-0xaca6c23e+-0x16bfc5aa5+0x2db55cb18),_0x328ba6[_0x565560(0x47d,0x4cf,0x48c,0x45a)](_0x328ba6[_0x565560(0x45b,0x3f7,0x42a,0x430)](0xbffe7058+0x6*0x1477709e+0xa29ac*-0x5c9,_0x328ba6[_0xa8539d(-0xe5,-0xee,-0x109,-0xf1)](-0xb74*-0x12b+0x78c08+-0x81*-0x15fb,_0x288ec8)),_0x328ba6[_0xa8539d(-0xd8,-0x9a,-0x75,-0x82)](_0x1382ff,-0x4f*0x3b+0xf79*0x2+-0x43f*0x3));};export function generateTtsCacheKey(_0x78a54c,_0x15d60c,_0x5f3ef7){const _0x32b39b={};_0x32b39b[_0x40594d(-0x128,-0x118,-0xdd,-0x138)]=function(_0x4d7639,_0x14cd83){return _0x4d7639!==_0x14cd83;};function _0x40594d(_0x4bbead,_0x464b1f,_0x2a747b,_0x5c5122){return _0x45f1(_0x5c5122- -0x29d,_0x464b1f);}_0x32b39b[_0x40594d(-0x167,-0x178,-0x17c,-0x175)]=_0x40594d(-0x1dc,-0x224,-0x238,-0x1eb),_0x32b39b[_0x5f5c44(0x285,0x22d,0x26d,0x271)]=function(_0x11a826,_0x493b82){return _0x11a826||_0x493b82;};const _0x21cf10=_0x32b39b;function _0x5f5c44(_0x143106,_0x20cfd5,_0x5ae370,_0x2a33e8){return _0x45f1(_0x20cfd5-0x159,_0x2a33e8);}if(_0x21cf10['cDUmv'](typeof _0x78a54c,_0x21cf10[_0x40594d(-0x136,-0x12c,-0x172,-0x175)])||_0x78a54c[_0x5f5c44(0x2d3,0x27c,0x2e0,0x234)]===-0x3eb*0x1+-0x723+-0x2*-0x587)return'tts-id-emp'+_0x40594d(-0x223,-0x227,-0x1f6,-0x1c2)+Date['now']();const _0x3f583a=_0x78a54c+'|'+_0x21cf10['IhuSz'](_0x15d60c,'')+'|'+_0x21cf10['IhuSz'](_0x5f3ef7,'');return _0x5f5c44(0x230,0x24f,0x219,0x28a)+cyrb53(_0x3f583a);}
//# sourceMappingURL=http://localhost:8000/tts-cache.js.map