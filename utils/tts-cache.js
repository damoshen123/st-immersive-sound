(function(_0x801ff7,_0x753f0){const _0x1d6d57=_0x801ff7();function _0x4fb6e3(_0xe5cfe8,_0x56caba,_0x713443,_0x53020d){return _0x3c87(_0x713443-0x16c,_0x56caba);}function _0x11dcc8(_0x37904e,_0x45f5e7,_0x10e5c1,_0x1592fe){return _0x3c87(_0x45f5e7- -0x2b9,_0x10e5c1);}while(!![]){try{const _0x2b8a6a=parseInt(_0x11dcc8(-0x9d,-0xc4,-0xec,-0x11a))/(0xafd+-0x8f5+-0x207)+parseInt(_0x4fb6e3(0x3ad,0x3ea,0x3d4,0x378))/(-0x44b+-0x2177+0x25c4)*(parseInt(_0x4fb6e3(0x360,0x355,0x36d,0x387))/(0x79f+0x230*-0xd+0x1f*0xac))+parseInt(_0x11dcc8(-0x44,-0x2f,-0x6e,-0x58))/(0xb25+0x2*-0x368+-0x451)+-parseInt(_0x11dcc8(-0x67,-0x30,-0x3e,-0x11))/(-0xc81+-0x745*-0x4+-0x108e)*(-parseInt(_0x4fb6e3(0x3df,0x366,0x3ae,0x3b5))/(-0x17d+0x191+0x1*-0xe))+-parseInt(_0x11dcc8(0x1f,-0x36,-0x38,-0x50))/(0x51+0xc55+-0xc9f)+-parseInt(_0x11dcc8(-0x61,-0x90,-0x44,-0xc7))/(-0xb1*0xc+-0x1*0x2441+0x2c95)+-parseInt(_0x11dcc8(-0x50,-0x35,-0x3d,-0x4f))/(-0xf00+-0xb14+-0x5*-0x539);if(_0x2b8a6a===_0x753f0)break;else _0x1d6d57['push'](_0x1d6d57['shift']());}catch(_0x4f0805){_0x1d6d57['push'](_0x1d6d57['shift']());}}}(_0x4bee,0x2235b*-0x1+0x5*-0x2503+0xd5d64));const _0x3206be=(function(){let _0x4af738=!![];return function(_0x2ac325,_0x5f3566){const _0x9c7ea6=_0x4af738?function(){function _0x490589(_0x53cc84,_0x302222,_0x5975c1,_0x19b0b2){return _0x3c87(_0x53cc84-0x1b6,_0x302222);}if(_0x5f3566){const _0x2de4df=_0x5f3566[_0x490589(0x435,0x459,0x492,0x42c)](_0x2ac325,arguments);return _0x5f3566=null,_0x2de4df;}}:function(){};return _0x4af738=![],_0x9c7ea6;};}()),_0x4a1ba6=_0x3206be(this,function(){const _0x26bfcc={};function _0x52c4d7(_0x4628b1,_0x4aa58d,_0x2f352a,_0x1fc52c){return _0x3c87(_0x2f352a-0x152,_0x1fc52c);}_0x26bfcc['tceCR']='(((.+)+)+)'+'+$';function _0x4fbf51(_0x21a8f7,_0x577ee2,_0x2f1414,_0x3fb80c){return _0x3c87(_0x2f1414-0x1d5,_0x577ee2);}const _0x2b6768=_0x26bfcc;return _0x4a1ba6[_0x4fbf51(0x3fe,0x396,0x3ec,0x3d0)]()[_0x52c4d7(0x323,0x3c5,0x380,0x368)](_0x2b6768['tceCR'])[_0x4fbf51(0x413,0x431,0x3ec,0x3dc)]()[_0x4fbf51(0x445,0x3a7,0x3f3,0x3a5)+'r'](_0x4a1ba6)['search'](_0x4fbf51(0x40a,0x421,0x45d,0x470)+'+$');});_0x4a1ba6();function _0x4bee(){const _0x28d980=['t21tvfy','igTLEtOG','5OMa5PYj5yYf5zcR6z+Z6iMYici','qvbjioMfJEE9RUoaGG','iIdNMOtMIydMNiLbueNKUk3VViW','C2vLzc10DhmTmG','A2HQswu','5B2t5yMnvfrtiefqsEMfJq','zMvJDhm','DxbKyxrL','ueNPHy3NVA7POP3LUQBLNyFKUi3OTRpJGii','q3f1seO','DhrZlwLKlwvTCa','wM1XsLi','s2r5CxO','sLH1tuW','ios4QUIVREMFSY4UlG','odq2nZu0rvHUweTS','CK1cqu0','DevUuxq','5zYO5B2t5yMnvfrt6ywn572Uici','qKvhAM8','surkr2q','t2nKvxK','iIdNMOq','DhrZx2jHBgfUyW','yxHxuw4','tNHbzu0','C19WCM9MAwXL','mtC1mtm4ofn0tw5ytG','C3bLy2LHBf9LzG','vvbeqvrfra','DMfSDwvZ','v3Hpt3a','vfrtiefqssbUBW','zsbPBML0Awf0zq','ueNPHy3NVA4GiG','Aw11Ba','zLzjweW','y2fJAgvlzxK','CMvZB2X2zq','zcb3AxrOigvTCa','DhjPBq','zw50','zYbXDw90ysbMBW','AguGzMLYC3qU','BMCGBMv3ihjLCq','zxK6ia','DhrZx3bYB2zPBa','Av9JB25MAwC','BLHzsu8','Dg9tDhjPBMC','igzVCIa','DgnyEMy','A2zjrNO','Aw5MBW','y0Lxtfe','z2v0','y29UC3rYDwn0BW','s2P2tLq','DgLHBgL6zwqU','yxbPx2nVBMzPzW','C2v0','z0Pwz1K','CMvZB3vYy2vjza','6AkD5BQM5lIn6lAZicJPNidOPOe6ia','AxjFzgvZy3jPCa','CMvZB3vYy2vFAq','y3vYCMvUDf90Da','nJu3ntK3nM1Pu21Xsa','BwvZC2fNzq','iIdML6dMLyJMIjBKUi3LROZMLBtJGii','BwvpDxq','iIdNMOtLJ6/NLkHuvfmGqq','C2vHCMnO','vfrtx1fvt1rbxW','BgvUz3rO','shrgtwu','BfP3CwK','z2vUzxjHDgLUzW','5B2t5yMn6ycj5A6A55Qevfrtiee','vfrt','uwn6tfK','ywnJzxnZx2TLEq','uwrVELu','ru5Hu0O','zw1PDa','BLPjAwm','Aw5Nx3nWzwfRzq','B3j5ksbMB3iGAW','t3P1Ce0','C3rYAw5N','qK14vKi','CMvQzwn0','nZy4ndGWvvDNz1L6','sw4TBwvTB3j5ia','sfLUru8','C1nIt2S','y3vYCMvUDf9HCa','xsbszwz1BMrPBG','yMnLEe0','r3LJyLy','rvL4vMS','xsbgB3jJzsbYzq','DgLTzu91Da','zgv0ywLS','uK9os3C','Bg9N','EhrZ','yxvKAw9cBg9I','yxvKAw8VBxaZ','y2XVBMvFCxvVDa','C3bLywTLCG','yxbWx2LK','zNjVBq','AxrLBq','CgvUzgLUzW','5B2t5yMnvfrt6ywn572Uici','CL9UzxH0x2nVBG','ufvuqwK','5Q2J5zYO55sF5OIqia','rM5Uwxy','iIdMNkRMIB7LIldJGii','Dgv4Da','DhrZx3jLCxvLCW','q21sAgS','6AkD5BQM5lIn6lAZ44cc','y29UDgv4Df90zq','C3rHCNrmB2fKAq','sgvTwKy','suvlzMu','wvLcB1K','mMjAEe9xsq','zgLZCgf0y2HfDG','D2fYBMLUzW','vfrtihjLCxvLCW','DgLVBG','Aw5PDfr0C0nHyW','tLv4uui','y3ziz08','lIbjBML0Awf0Aq','DhLWzq','z2TOsNK','y3rvuKW','Bwv0ywrHDge','C3rHDhvZ','BgnZEKS','Bwf4','572Uici','zxf1zxn0oIa','zxH0zw5KzwruAq','twPdA08','CIbMywLSzwqGCG','yxbWswq','wLbMrLu','yxbWBhK','ywnJzxnZs2v5','Ehbuz2K','yxvKAw9vCMW','mty2ote1mer5whPOAa','mZmXndeYnfvVCuvZrW','6ycj5lIT55Qevfrtiefqsq','w1ruuYbdywnOzq','C3bLywTLCL9Pza','kcGOlISPkYKRkq','nunqtvPqAa','mJiZmZCYnfL2A3LTvW','zxjYB3i','wxDprLy','C3LUDgHLC2LZxW','yMjdwMq','AgfZ','CxvVDge','zMLN','uvvJCKu','suTVsLO','BxrRy0O','C3rVCeXVywrPBG','C3vJy2vZCW','BM93','C3bHDgLHBa','C3bLywTLCNm','igzVCIbRzxK6ia','y2XLyxi','yxfZCxq','svjNChq','DgvtD3C','C3LZDgvTigLUAq','A2v5CW'];_0x4bee=function(){return _0x28d980;};return _0x4bee();}import{extension_settings}from'../../../../extensions.js';import{saveSettingsDebounced,eventSource}from'../../../../../script.js';import{extensionName,eventNames}from'./config.js';import{floatBallStateManager}from'./ui-float-ball.js';const ttsCache=new Map();let ttsApi=null,activeTtsRequests=0x2*0x153+-0x216+-0x8*0x12,batchToastrInfo=null;export const TtsCacheEmitter=new EventTarget();export function updateTtsItemData(_0x8cc41f,_0x5aeaab){function _0x483e72(_0x19dc38,_0x551e82,_0x2413fa,_0x191314){return _0x3c87(_0x551e82-0x352,_0x2413fa);}function _0x57ca35(_0x536472,_0x3106a7,_0x31a43d,_0x11d488){return _0x3c87(_0x11d488- -0x2db,_0x536472);}const _0x5ce9f7=ttsCache[_0x483e72(0x5bc,0x56f,0x513,0x514)](_0x8cc41f);if(_0x5ce9f7){const _0x3f0482={..._0x5ce9f7,..._0x5aeaab},_0x1248cf=_0x3f0482;return ttsCache[_0x57ca35(-0xec,-0x6c,-0x116,-0xb9)](_0x8cc41f,_0x1248cf),_0x1248cf;}return null;}export function getTtsCache(){return ttsCache;}export function getTtsItem(_0x276812){function _0x44186a(_0x361e60,_0x47bd09,_0x4a8938,_0x28a0c8){return _0x3c87(_0x4a8938-0x295,_0x361e60);}return ttsCache[_0x44186a(0x4ff,0x4fd,0x4b2,0x47b)](_0x276812);}export function addOrUpdateTtsItem(_0x3dd721,_0x23321c){const _0x26c9e3={};_0x26c9e3['IDJGd']=_0x5e7626(0x547,0x536,0x548,0x583);const _0x3517f5=_0x26c9e3,_0x22bfed=ttsCache['get'](_0x3dd721)||{},_0x5391f5={..._0x22bfed,..._0x23321c,'timestamp':Date[_0x7a7135(0x5d,0x43,0x77,0x11)]()};ttsCache['set'](_0x3dd721,_0x5391f5);const _0x1fbfbb={};_0x1fbfbb[_0x7a7135(0x8e,0x9a,0xd8,0xd7)]=_0x3dd721,_0x1fbfbb[_0x7a7135(0xda,0x126,0xca,0xc5)]=_0x5391f5;const _0x50caad={};function _0x5e7626(_0x28e31e,_0x461ef7,_0x3e341a,_0x296bf2){return _0x3c87(_0x28e31e-0x35a,_0x461ef7);}_0x50caad[_0x5e7626(0x5a7,0x5fe,0x5b0,0x5dd)]=_0x1fbfbb;function _0x7a7135(_0x57a29d,_0x2c741a,_0x33e1ce,_0x4d0a61){return _0x3c87(_0x57a29d- -0x17d,_0x2c741a);}return TtsCacheEmitter[_0x7a7135(0xec,0xe2,0x10b,0xbc)+_0x7a7135(0x92,0x57,0x58,0xb0)](new CustomEvent(_0x3517f5[_0x7a7135(0x7d,0xae,0x54,0x26)],_0x50caad)),_0x5391f5;}function _0x3c87(_0x2bf388,_0x44ee98){const _0x5c72c4=_0x4bee();return _0x3c87=function(_0x527603,_0x17bc1f){_0x527603=_0x527603-(0x50a+0x1*0x1c7c+0x2*-0xfd9);let _0xc3afc5=_0x5c72c4[_0x527603];if(_0x3c87['rSYnFS']===undefined){var _0x3b50a1=function(_0xb14614){const _0x1d1448='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x38c3e5='',_0x43b7ca='',_0x1a5677=_0x38c3e5+_0x3b50a1;for(let _0x2aefee=0x1*0x12ac+-0x778*-0x1+0x1de*-0xe,_0x235cd4,_0x28ca1f,_0x4d5776=0xdbb+0xf*0xab+-0xbe*0x20;_0x28ca1f=_0xb14614['charAt'](_0x4d5776++);~_0x28ca1f&&(_0x235cd4=_0x2aefee%(-0x1*-0x1e47+-0xaf1+-0x1352)?_0x235cd4*(-0x16d1+0x1*-0xd0b+0x241c)+_0x28ca1f:_0x28ca1f,_0x2aefee++%(0x58d*-0x7+0x4f*0x69+0x678))?_0x38c3e5+=_0x1a5677['charCodeAt'](_0x4d5776+(-0x8f3+-0x1ae8+-0x1*-0x23e5))-(-0x1f5a*-0x1+-0x172c*-0x1+-0x367c)!==-0x1861+-0x259f*0x1+0x3e00?String['fromCharCode'](-0xdac+-0x29*0x1+0xd*0x124&_0x235cd4>>(-(-0x1*-0x1fe8+-0x1003+0xfe3*-0x1)*_0x2aefee&0x2*0xc4d+0x207a+-0x390e)):_0x2aefee:-0x1349+0x24d*0xb+-0x606){_0x28ca1f=_0x1d1448['indexOf'](_0x28ca1f);}for(let _0x4fb207=0xd00+0x1fb9*0x1+-0x6b*0x6b,_0x1e76fe=_0x38c3e5['length'];_0x4fb207<_0x1e76fe;_0x4fb207++){_0x43b7ca+='%'+('00'+_0x38c3e5['charCodeAt'](_0x4fb207)['toString'](-0x1ccf*-0x1+0x12*0x97+-0xd1f*0x3))['slice'](-(0x1fd6+-0xdbf+-0x3*0x607));}return decodeURIComponent(_0x43b7ca);};_0x3c87['NFFuWQ']=_0x3b50a1,_0x2bf388=arguments,_0x3c87['rSYnFS']=!![];}const _0x5e026d=_0x5c72c4[-0x148f+0x37d*-0x3+0x169*0x16],_0x1e5356=_0x527603+_0x5e026d,_0x3bae73=_0x2bf388[_0x1e5356];if(!_0x3bae73){const _0x50a619=function(_0x62fb23){this['YOeOOI']=_0x62fb23,this['fsYOWa']=[-0x5*-0x737+0xba0+-0x7f3*0x6,0x587*-0x1+-0xe2f+0x2*0x9db,-0x1cd7+0xf7f*0x1+0x1*0xd58],this['bBUKrf']=function(){return'newState';},this['VIgkKI']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['vsFxlL']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x50a619['prototype']['JAKrdT']=function(){const _0x460743=new RegExp(this['VIgkKI']+this['vsFxlL']),_0x4e7e37=_0x460743['test'](this['bBUKrf']['toString']())?--this['fsYOWa'][0x2328+0x44c+0x2773*-0x1]:--this['fsYOWa'][0xd6d+0x6a4+-0x1411];return this['jVLKKR'](_0x4e7e37);},_0x50a619['prototype']['jVLKKR']=function(_0x2c92ba){if(!Boolean(~_0x2c92ba))return _0x2c92ba;return this['hmRHDB'](this['YOeOOI']);},_0x50a619['prototype']['hmRHDB']=function(_0x994b70){for(let _0x2bf4d2=0x138*-0x9+-0x1*-0x1fdd+-0x14e5,_0x23135a=this['fsYOWa']['length'];_0x2bf4d2<_0x23135a;_0x2bf4d2++){this['fsYOWa']['push'](Math['round'](Math['random']())),_0x23135a=this['fsYOWa']['length'];}return _0x994b70(this['fsYOWa'][-0x191*-0x10+0x6b*0x25+0x7d*-0x53]);},new _0x50a619(_0x3c87)['JAKrdT'](),_0xc3afc5=_0x3c87['NFFuWQ'](_0xc3afc5),_0x2bf388[_0x1e5356]=_0xc3afc5;}else _0xc3afc5=_0x3bae73;return _0xc3afc5;},_0x3c87(_0x2bf388,_0x44ee98);}export async function initiateTtsRequest(_0x1450ed,_0x4d5500=![]){const _0x241db0={'Kdyqz':_0x5f37b1(0x312,0x2f6,0x2ea,0x35c),'zWSMH':function(_0x3552fa,_0x260631){return _0x3552fa===_0x260631;},'NxAeM':'没有可用的\x20TTS\x20'+_0x5f37b1(0x30c,0x34b,0x351,0x33c),'wQVTi':function(_0x505148,_0x47f4e4){return _0x505148===_0x47f4e4;},'FnnYv':function(_0x1594fc,_0x4bb3ba){return _0x1594fc%_0x4bb3ba;},'cIWLQ':function(_0x149959,_0x1e2a5f){return _0x149959+_0x1e2a5f;},'PrRcV':function(_0x2eb00c,_0x45ed52){return _0x2eb00c===_0x45ed52;},'xpTgi':_0x13e177(0x54a,0x504,0x541,0x4af)+'quota','aqsqt':_0x5f37b1(0x378,0x3cc,0x33b,0x322)+'a','gkhJy':function(_0x1804d1,_0x3cf7b9){return _0x1804d1===_0x3cf7b9;},'hfHfF':function(_0x33a571,_0x1b7ac2){return _0x33a571>=_0x1b7ac2;},'fVIXL':function(_0x76c15){return _0x76c15();},'NUxQB':_0x5f37b1(0x30e,0x367,0x2f4,0x30b)+'.0','lZwqi':function(_0x550900,_0x1b59db){return _0x550900>=_0x1b59db;},'NGdWK':function(_0x3a0bd5,_0x4a77f5,_0x86f56f){return _0x3a0bd5(_0x4a77f5,_0x86f56f);},'BEGjo':'error','IKoJZ':function(_0x186c63,_0x3fdfe1){return _0x186c63(_0x3fdfe1);},'IEKfe':function(_0x5b87f7,_0x13dcf7){return _0x5b87f7!==_0x13dcf7;},'tcXzf':function(_0x20d799,_0x14b35e){return _0x20d799<_0x14b35e;},'EYxVk':function(_0x5a473e,_0x42b88c,_0x4826c1){return _0x5a473e(_0x42b88c,_0x4826c1);},'IzfXV':function(_0x4a867a,_0x5cd8d6){return _0x4a867a(_0x5cd8d6);},'cvHgO':function(_0x359a76,_0x2d48a2){return _0x359a76!==_0x2d48a2;},'bbCZd':function(_0x2ee8b5,_0x56e284){return _0x2ee8b5-_0x56e284;},'rMBAM':function(_0x5ea18f){return _0x5ea18f();},'WNVOd':_0x13e177(0x505,0x4c9,0x50b,0x48e),'yZVcX':function(_0x1df894,_0x552d2c,_0x4fe84a){return _0x1df894(_0x552d2c,_0x4fe84a);},'GycbV':function(_0x154913,_0x198d8f){return _0x154913(_0x198d8f);},'WxOOp':function(_0x5a00d4,_0x223f44){return _0x5a00d4&&_0x223f44;},'mtkcJ':function(_0x7749ce,_0xe98d88){return _0x7749ce!==_0xe98d88;},'zvRkA':function(_0x907933){return _0x907933();},'HYnEO':function(_0x34272e,_0x2b4434,_0x2b7eff){return _0x34272e(_0x2b4434,_0x2b7eff);},'tEnQt':'(((.+)+)+)'+'+$','MjCkO':function(_0x426516,_0xe3dde6){return _0x426516!==_0xe3dde6;},'nXYIO':_0x5f37b1(0x3a3,0x384,0x3bc,0x3bf),'WpWmR':_0x5f37b1(0x318,0x2e1,0x2e4,0x354),'ofFkQ':function(_0x168a8d,_0x554ec1){return _0x168a8d===_0x554ec1;},'wgVoG':function(_0x2c1611,_0x253b78){return _0x2c1611(_0x253b78);},'PUTAi':'success','HtFMe':_0x13e177(0x42c,0x458,0x4aa,0x45d),'OmSTV':function(_0xc66644,_0x14a734,_0x3fd0fa){return _0xc66644(_0x14a734,_0x3fd0fa);},'FLaUD':_0x5f37b1(0x37d,0x3cc,0x3a3,0x397),'CmRhk':'LWxmQ','sNGPY':_0x13e177(0x4fb,0x4ac,0x4a9,0x47d),'Plemm':function(_0x31e005,_0x2ef268){return _0x31e005===_0x2ef268;},'OcdUy':_0x13e177(0x4a2,0x4ad,0x464,0x4b3),'WCMud':function(_0x3a006c,_0x408f7c){return _0x3a006c>_0x408f7c;},'RONKw':function(_0x12b1de,_0x366de1){return _0x12b1de!==_0x366de1;},'QUcrE':'OjDGn','ENaSJ':_0x5f37b1(0x38a,0x3d4,0x3ce,0x3aa)};if(!ttsApi){if(_0x241db0[_0x5f37b1(0x3a0,0x3b1,0x3e7,0x35b)](_0x241db0[_0x13e177(0x4a5,0x48d,0x434,0x4e0)],_0x241db0['WpWmR']))throw new Error(_0x5f37b1(0x32b,0x2f6,0x2fd,0x2fe)+'t\x20initiali'+'zed.\x20Call\x20'+_0x13e177(0x494,0x4e4,0x514,0x511)+_0x13e177(0x4ab,0x488,0x4b6,0x44c));else return _0x2445a7;}const {cacheKey:_0x1ea35f,text:_0x497a63,context_texts:_0x1269d6,speaker:_0x3ea608,ir_description:_0x553007,special_effects:_0x12d1b8,spatial:_0x38a28b,metadata:_0xb3b586}=_0x1450ed;if(!_0x497a63||_0x241db0['ofFkQ'](_0x497a63[_0x5f37b1(0x333,0x363,0x379,0x2fe)]()[_0x13e177(0x4ed,0x4a7,0x477,0x459)],0x1bb4+-0x13ba+0x2*-0x3fd)){const _0x153971=_0x13e177(0x4dc,0x4e2,0x53f,0x53f)+'t\x20cannot\x20b'+_0x5f37b1(0x32c,0x2dc,0x318,0x35b)+_0x5f37b1(0x332,0x376,0x31d,0x349)+'ty\x20text.';return Promise[_0x5f37b1(0x366,0x346,0x358,0x33a)](new Error(_0x153971));}const _0x47ed96=_0x241db0['wgVoG'](getTtsItem,_0x1ea35f);if(_0x47ed96&&_0x241db0[_0x13e177(0x4b8,0x4e9,0x53e,0x509)](_0x47ed96['status'],_0x241db0[_0x5f37b1(0x380,0x34f,0x36f,0x35a)])&&!_0x4d5500){console[_0x13e177(0x4fe,0x4c6,0x4a9,0x475)](_0x5f37b1(0x3ab,0x36b,0x393,0x3d9)+']\x20Hit\x20(mem'+_0x13e177(0x496,0x4b4,0x4c9,0x4c8)+_0x13e177(0x4af,0x48a,0x4db,0x493)+_0x1ea35f);const _0x33e489={..._0x47ed96};_0x33e489[_0x5f37b1(0x399,0x3bf,0x385,0x361)]={..._0x47ed96['metadata'],..._0xb3b586};const _0x1202f3=_0x33e489;return Promise[_0x5f37b1(0x331,0x2d6,0x376,0x318)](_0x1202f3);}if(_0x4d5500){if(_0x241db0[_0x5f37b1(0x2fc,0x34f,0x2d8,0x336)](_0x241db0['HtFMe'],_0x241db0[_0x5f37b1(0x356,0x39f,0x312,0x323)])){const _0x46196b=_0x119aea[_0x24e874];if(_0x46196b[_0x5f37b1(0x301,0x302,0x2c0,0x34d)])for(const _0x34b8a4 in _0x46196b[_0x5f37b1(0x301,0x2f2,0x2a5,0x2a9)]){!_0x377e59[_0x5f37b1(0x3b4,0x3bf,0x386,0x39c)](_0x34b8a4)&&_0x2ae542[_0x5f37b1(0x347,0x2ec,0x360,0x386)](_0x34b8a4,{'name':_0x34b8a4,..._0x46196b[_0x5f37b1(0x301,0x2a7,0x345,0x34b)][_0x34b8a4]});}}else console[_0x13e177(0x4a7,0x4c6,0x488,0x4af)](_0x13e177(0x49f,0x4fd,0x54a,0x4a3)+_0x13e177(0x4c5,0x4c2,0x46f,0x508)+_0x13e177(0x4ae,0x4aa,0x491,0x4a1)+_0x5f37b1(0x302,0x356,0x33b,0x31d)+_0x1ea35f+'.');}else console[_0x5f37b1(0x374,0x390,0x3cb,0x378)](_0x13e177(0x531,0x4fd,0x4b2,0x529)+']\x20Miss\x20for'+_0x13e177(0x464,0x45c,0x461,0x42b)+_0x1ea35f+(_0x13e177(0x495,0x4e7,0x53e,0x519)+_0x13e177(0x4c1,0x489,0x49a,0x45a)+'uest.'));function _0x13e177(_0x1a1ca1,_0xb237f1,_0x5b577a,_0x2ccce9){return _0x3c87(_0xb237f1-0x277,_0x1a1ca1);}_0x241db0[_0x5f37b1(0x309,0x2d6,0x2b6,0x2c4)](addOrUpdateTtsItem,_0x1ea35f,{'cacheKey':_0x1ea35f,'text':_0x497a63,'context_texts':_0x1269d6,'speaker':_0x3ea608,'speaker_name':_0x3ea608,'ir_description':_0x553007,'special_effects':_0x12d1b8,'spatial':_0x38a28b,'status':_0x241db0['FLaUD'],'metadata':_0xb3b586}),activeTtsRequests++;if(batchToastrInfo){if(_0x241db0['CmRhk']!==_0x241db0[_0x13e177(0x508,0x4d8,0x531,0x52f)]){const _0x139e1b=_0x5c2b8e[_0x5f37b1(0x342,0x317,0x383,0x312)](_0x478ffb)||{},_0x59ccbc={..._0x139e1b,..._0x46e73d,'timestamp':_0x4fe4b7[_0x13e177(0x482,0x451,0x416,0x450)]()};_0xe77198[_0x13e177(0x499,0x499,0x4a5,0x4b9)](_0x568c14,_0x59ccbc);const _0x2f8cfb={};_0x2f8cfb['cacheKey']=_0x82dd0c,_0x2f8cfb[_0x13e177(0x498,0x4ce,0x4b5,0x4d3)]=_0x59ccbc;const _0x5b5f42={};return _0x5b5f42[_0x5f37b1(0x372,0x318,0x385,0x328)]=_0x2f8cfb,_0x1ee9cc['dispatchEv'+'ent'](new _0x1ea054(_0x241db0[_0x5f37b1(0x317,0x32e,0x312,0x2fa)],_0x5b5f42)),_0x59ccbc;}else toastr['clear'](batchToastrInfo);}const _0x18f89b={};_0x18f89b[_0x5f37b1(0x371,0x388,0x325,0x3bc)]=0x0;function _0x5f37b1(_0x269a31,_0x16eb13,_0xe512a8,_0x33c3c7){return _0x3c87(_0x269a31-0x125,_0x33c3c7);}_0x18f89b[_0x13e177(0x516,0x4f1,0x51e,0x4d9)+_0x5f37b1(0x351,0x38a,0x361,0x359)]=0x0,batchToastrInfo=toastr[_0x5f37b1(0x340,0x37b,0x2e7,0x31d)]('正在生成\x20'+activeTtsRequests+_0x13e177(0x44a,0x46b,0x41e,0x4a1),_0x241db0['sNGPY'],_0x18f89b),floatBallStateManager[_0x13e177(0x519,0x4db,0x4a1,0x4ab)+'ng']();try{const _0x502e36=await new Promise(async(_0x51e909,_0x416cc2)=>{function _0x2fb14a(_0x4705a4,_0x45276b,_0x4e55b4,_0x371798){return _0x5f37b1(_0x45276b- -0x127,_0x45276b-0x1b4,_0x4e55b4-0x1d7,_0x4e55b4);}let _0x328eac,_0x1243cb,_0x544eec,_0x22a747;function _0xc53408(_0x192f0e,_0x11693b,_0x287f56,_0x22c91c){return _0x5f37b1(_0x192f0e- -0x1f5,_0x11693b-0x1ec,_0x287f56-0x4d,_0x11693b);}let _0x3b7d7b=![],_0x769c9e=-0xa9f+0x122e+-0x78f*0x1,_0xe8bf56=![];try{const _0x3a25c1=extension_settings[extensionName];_0x544eec=_0x3a25c1[_0xc53408(0x158,0x156,0x112,0x128)+_0xc53408(0x130,0x153,0x182,0xe1)];const _0x5647c2=_0x3a25c1[_0x2fb14a(0x1b4,0x212,0x253,0x246)+'es'][_0x544eec];if(!_0x5647c2)throw new Error(_0x2fb14a(0x2a2,0x257,0x296,0x27b)+_0x544eec+_0x2fb14a(0x264,0x25c,0x265,0x283));const _0x1b4717=_0x5647c2[_0xc53408(0x151,0x1a9,0x170,0x197)+'s']||{};if(_0x241db0['zWSMH'](Object['keys'](_0x1b4717)['length'],0xd0*0x7+-0x2508+0x4*0x7d6))throw new Error(_0x241db0[_0x2fb14a(0x20f,0x1fd,0x1ba,0x1a6)]);const _0x247801=Object['entries'](_0x1b4717)['filter'](([_0x15a0f5,_0x535eb4])=>_0x535eb4[_0x2fb14a(0x1cc,0x1da,0x22f,0x1c9)]&&_0x535eb4[_0xc53408(0x10c,0xca,0xee,0x136)][_0x3ea608])['reduce']((_0x2227fa,[_0x1cf617,_0xe92993])=>({..._0x2227fa,[_0x1cf617]:_0xe92993}),{}),_0x57ab0a=Object[_0xc53408(0x113,0xcb,0x13d,0xe0)](_0x247801);if(_0x57ab0a['length']===-0x68d+0x6b*-0x47+-0x1*-0x243a)throw new Error(_0xc53408(0x128,0x118,0x116,0x14c)+_0x544eec+(_0xc53408(0x118,0xc6,0x143,0x11b)+'均未找到音色\x20\x22')+_0x3ea608+'\x22。');if(_0x3a25c1[_0xc53408(0x190,0x1aa,0x1c5,0x144)+'t_balancin'+'g']){_0x3a25c1['tts_balanc'+_0xc53408(0x16c,0x1b5,0x121,0x180)+_0x2fb14a(0x267,0x258,0x2a5,0x293)+'fig']=_0x3a25c1[_0xc53408(0x12d,0x160,0x113,0x18c)+_0x2fb14a(0x1df,0x23a,0x248,0x1f3)+'r_next_con'+_0xc53408(0x104,0xe0,0xbd,0xf5)]||{};const _0x11068a=_0x3a25c1[_0x2fb14a(0x1c0,0x1fb,0x248,0x250)+_0xc53408(0x16c,0x116,0x13a,0x181)+'r_next_con'+_0xc53408(0x104,0xb9,0x14e,0x10b)][_0x3ea608];let _0x279bdc=_0x57ab0a['indexOf'](_0x11068a);if(_0x241db0['wQVTi'](_0x279bdc,-(-0x1*-0x24a1+0x1bb*0x1+-0x265b)))_0x279bdc=0xb19*-0x2+-0x481*-0x1+-0x287*-0x7;for(let _0x457f55=-0xd80+0x8af+0x4d1;_0x457f55<_0x57ab0a['length'];_0x457f55++){const _0x3bf467=_0x241db0[_0xc53408(0x18d,0x1d1,0x1b6,0x16f)](_0x241db0[_0xc53408(0x14c,0x178,0x104,0x12a)](_0x279bdc,_0x457f55),_0x57ab0a['length']),_0x41a377=_0x57ab0a[_0x3bf467],_0x1cef7e=_0x247801[_0x41a377],_0x21ffbd=_0x497a63[_0x2fb14a(0x233,0x22e,0x1fa,0x1ee)],_0x42c8f6=_0x241db0['PrRcV'](_0x1cef7e['speakers'][_0x3ea608][_0x2fb14a(0x1c6,0x225,0x1cd,0x251)+'d'],_0xc53408(0x119,0x133,0x156,0x12b)+'.0'),_0x2a764f=_0x42c8f6?_0x241db0['xpTgi']:_0x241db0['aqsqt'],_0x4b07aa=_0x1cef7e[_0x2a764f];if(_0x1cef7e[_0xc53408(0x185,0x1b5,0x19a,0x187)]&&_0x1cef7e['access_key']&&(_0x241db0[_0xc53408(0x1a2,0x201,0x191,0x1bb)](_0x4b07aa,-(-0x1fe8+-0xcdb+-0xbf*-0x3c))||_0x241db0['hfHfF'](_0x4b07aa,_0x21ffbd))){_0x328eac=_0x1cef7e,_0x1243cb=_0x41a377,_0x3a25c1[_0x2fb14a(0x1b1,0x1fb,0x257,0x22d)+_0xc53408(0x16c,0x18d,0x17f,0x181)+'r_next_con'+_0xc53408(0x104,0xc4,0xf2,0x11a)][_0x3ea608]=_0x57ab0a[_0x241db0['FnnYv'](_0x3bf467+(0x7fa*0x3+0xe50+-0x263d),_0x57ab0a['length'])],_0x241db0[_0x2fb14a(0x1b2,0x208,0x247,0x214)](saveSettingsDebounced);break;}}}else{const _0x4b3aeb=_0x5647c2[_0x2fb14a(0x279,0x244,0x26d,0x20d)+'i_config'],_0x4ff6a6=_0x1b4717[_0x4b3aeb];if(!_0x4ff6a6||!_0x4ff6a6[_0x2fb14a(0x221,0x253,0x230,0x222)]||!_0x4ff6a6['access_key'])throw new Error(_0x2fb14a(0x27e,0x232,0x1fb,0x266)+_0xc53408(0x138,0x183,0x192,0x119)+_0x4b3aeb+_0x2fb14a(0x1f5,0x229,0x20c,0x223));if(!_0x4ff6a6[_0x2fb14a(0x1dc,0x1da,0x1e3,0x181)]||!_0x4ff6a6[_0x2fb14a(0x17d,0x1da,0x1da,0x1da)][_0x3ea608])throw new Error(_0xc53408(0x164,0x118,0x191,0x127)+_0xc53408(0x138,0x136,0x11c,0x157)+_0x4b3aeb+'\x22\x20中不包含音色\x20\x22'+_0x3ea608+'\x22。');const _0x2dfc22=_0x497a63[_0xc53408(0x160,0x14a,0x133,0x19a)],_0x312b55=_0x4ff6a6['speakers'][_0x3ea608][_0x2fb14a(0x239,0x225,0x231,0x20d)+'d']===_0x241db0[_0xc53408(0x19e,0x1f9,0x14e,0x1ac)],_0x3c9789=_0x312b55?_0x241db0[_0xc53408(0x1b1,0x1ad,0x1c2,0x201)]:_0x241db0[_0xc53408(0x10f,0x141,0x126,0x16d)],_0x3cddaf=_0x4ff6a6[_0x3c9789];_0x3cddaf===-(-0x1b7*-0xd+-0x1196+-0x4b4)||_0x241db0[_0x2fb14a(0x214,0x230,0x276,0x261)](_0x3cddaf,_0x2dfc22)?(_0x328eac=_0x4ff6a6,_0x1243cb=_0x4b3aeb):toastr[_0xc53408(0x19a,0x166,0x1c1,0x19c)](_0xc53408(0x11b,0xcd,0x106,0xdb)+_0x2fb14a(0x2c2,0x276,0x2b0,0x2aa)+_0x4b3aeb+'\x22\x20的'+(_0x312b55?'合成':'复刻')+_0x2fb14a(0x262,0x260,0x291,0x222));}if(!_0x328eac){const _0x477d20=_0xc53408(0x116,0xe5,0x108,0x138)+_0x3ea608+(_0x2fb14a(0x216,0x22b,0x215,0x21e)+_0xc53408(0x11e,0x16f,0xe8,0x152));return toastr[_0xc53408(0x19a,0x153,0x162,0x1b8)](_0x477d20),_0x241db0['NGdWK'](addOrUpdateTtsItem,_0x1ea35f,{'status':_0x241db0['BEGjo'],'error':_0x477d20}),_0x241db0[_0x2fb14a(0x20c,0x1d4,0x180,0x1fe)](_0x416cc2,new Error(_0x477d20));}_0x22a747=_0x328eac['speakers'][_0x3ea608];const _0x5f30a3=_0x497a63[_0x2fb14a(0x23f,0x22e,0x237,0x278)],_0x2a4094=_0x241db0['zWSMH'](_0x22a747[_0x2fb14a(0x23b,0x225,0x209,0x27e)+'d'],_0x241db0[_0x2fb14a(0x242,0x26c,0x265,0x271)]),_0x26488d=_0x2a4094?_0x241db0['xpTgi']:_0x241db0[_0x2fb14a(0x1de,0x1dd,0x219,0x1b7)],_0x47a924=_0x328eac[_0x26488d];if(_0x241db0[_0x2fb14a(0x262,0x264,0x298,0x2b4)](_0x47a924,-(-0x1*0xbf0+-0x2469+-0x2*-0x182d))&&_0x241db0[_0xc53408(0x149,0x19e,0x11d,0x156)](_0x47a924,_0x5f30a3)){const _0x532c1a=_0xc53408(0x1b5,0x173,0x205,0x16d)+'配置\x20\x22'+_0x1243cb+'\x22\x20'+(_0x2a4094?'合成':'复刻')+_0x2fb14a(0x1ce,0x223,0x248,0x213)+_0x5f30a3+')。';return toastr[_0xc53408(0x19a,0x151,0x1ed,0x1c4)](_0x532c1a),_0x241db0[_0xc53408(0x17a,0x181,0x12a,0x1c0)](addOrUpdateTtsItem,_0x1ea35f,{'status':_0x241db0[_0xc53408(0x129,0x164,0x137,0x17d)],'error':_0x532c1a}),_0x241db0['IzfXV'](_0x416cc2,new Error(_0x532c1a));}const _0x4b45b2=_0x328eac;_0x769c9e=_0x5f30a3,_0xe8bf56=_0x2a4094;if(_0x2a4094&&_0x241db0[_0x2fb14a(0x237,0x264,0x220,0x290)](_0x4b45b2[_0x2fb14a(0x27f,0x28b,0x2db,0x255)+_0xc53408(0x1c0,0x166,0x1f0,0x1bd)],-(-0x1*0x204b+-0x2322+0x436e*0x1)))_0x4b45b2[_0xc53408(0x1bd,0x1cd,0x1a1,0x1ea)+_0x2fb14a(0x23d,0x28e,0x23c,0x254)]=Math[_0x2fb14a(0x2b4,0x275,0x248,0x2ac)](-0x2c9*-0xd+0x3c9+-0x27fe,_0x4b45b2[_0x2fb14a(0x2d0,0x28b,0x2d9,0x29e)+_0x2fb14a(0x293,0x28e,0x281,0x2c3)]-_0x5f30a3),_0x3b7d7b=!![];else!_0x2a4094&&_0x241db0[_0xc53408(0x19f,0x199,0x166,0x176)](_0x4b45b2[_0x2fb14a(0x291,0x251,0x2a0,0x251)+'a'],-(0x186c+-0x38*0x71+0x4d))&&(_0x4b45b2[_0xc53408(0x183,0x161,0x176,0x169)+'a']=Math[_0xc53408(0x1a7,0x16f,0x1a4,0x1f2)](-0x2*0x102f+0x3f2*0x2+0x187a,_0x241db0[_0x2fb14a(0x2d8,0x28c,0x249,0x27e)](_0x4b45b2[_0xc53408(0x183,0x139,0x12f,0x1d4)+'a'],_0x5f30a3)),_0x3b7d7b=!![]);_0x3b7d7b&&(_0x241db0[_0xc53408(0x126,0x142,0x154,0xef)](saveSettingsDebounced),eventSource[_0xc53408(0x16a,0x142,0x10e,0x188)](eventNames[_0xc53408(0x15f,0x1a8,0x11d,0x13d)+_0xc53408(0x133,0x13f,0x156,0x188)]));const _0x2b7773={..._0x1450ed};_0x2b7773[_0xc53408(0x1ad,0x17d,0x1f0,0x1df)]=_0x328eac['app_id'],_0x2b7773[_0xc53408(0x1b0,0x168,0x1e2,0x1eb)]=_0x328eac[_0xc53408(0x167,0x158,0x176,0x11c)],_0x2b7773[_0xc53408(0x184,0x187,0x186,0x1aa)]=_0x22a747['speaker_id'],_0x2b7773[_0xc53408(0x154,0x132,0x138,0x184)]=_0x22a747[_0xc53408(0x157,0x144,0x161,0x191)+'d'];const _0x346697=_0x2b7773,{audioBuffer:_0x423eb0}=await _0x241db0['IKoJZ'](ttsApi,_0x346697),_0x602c26={};_0x602c26[_0xc53408(0x1a1,0x1f4,0x1c4,0x143)]=_0x241db0['WNVOd'];const _0x171da3=new Blob([_0x423eb0],_0x602c26),_0x550662=URL['createObje'+_0x2fb14a(0x249,0x271,0x299,0x2a2)](_0x171da3),_0x27b268={};_0x27b268[_0xc53408(0x1a5,0x16f,0x15b,0x196)]=_0xc53408(0x109,0xba,0x119,0x14f),_0x27b268['audioBuffe'+'r']=_0x423eb0,_0x27b268[_0x2fb14a(0x23e,0x24f,0x27c,0x2ab)]=_0x171da3,_0x27b268[_0x2fb14a(0x270,0x280,0x23f,0x241)]=_0x550662,_0x27b268[_0x2fb14a(0x2b9,0x25d,0x2b1,0x271)]=_0x1450ed[_0x2fb14a(0x213,0x25d,0x2a8,0x265)],_0x27b268[_0xc53408(0x193,0x1bc,0x1be,0x1f1)+_0x2fb14a(0x260,0x24e,0x1fb,0x224)]=_0x1450ed['context_te'+_0xc53408(0x180,0x148,0x18b,0x197)],_0x27b268[_0xc53408(0x184,0x1dd,0x196,0x155)]=_0x22a747[_0x2fb14a(0x2c1,0x285,0x2ad,0x242)],_0x27b268['speaker_na'+'me']=_0x1450ed['speaker'],_0x27b268[_0xc53408(0x156,0x10c,0x145,0x13e)+_0x2fb14a(0x226,0x26a,0x26c,0x282)]=_0x1450ed[_0x2fb14a(0x1c7,0x224,0x219,0x262)+'tion'],_0x27b268[_0xc53408(0x132,0x14f,0xf9,0x175)+_0x2fb14a(0x247,0x1ea,0x205,0x1cf)]=_0x1450ed[_0xc53408(0x132,0x18f,0x12f,0x16e)+'fects'],_0x27b268[_0xc53408(0x10b,0x163,0xea,0xee)]=_0x1450ed[_0xc53408(0x10b,0x141,0x123,0x111)];const _0x150535=_0x241db0['yZVcX'](addOrUpdateTtsItem,_0x1ea35f,_0x27b268);_0x241db0[_0xc53408(0x179,0x11b,0x11b,0x12b)](_0x51e909,_0x150535);}catch(_0x4495c2){console[_0xc53408(0x1bb,0x17e,0x160,0x1e1)](_0x2fb14a(0x252,0x284,0x295,0x2c5)+']\x20API\x20requ'+'est\x20failed'+_0x2fb14a(0x205,0x216,0x25d,0x216)+_0x1ea35f+':',_0x4495c2);if(_0x241db0[_0x2fb14a(0x1af,0x203,0x247,0x1b1)](_0x3b7d7b,_0x328eac)){console[_0xc53408(0x17f,0x187,0x13b,0x1da)](_0x2fb14a(0x2a8,0x284,0x283,0x267)+_0x2fb14a(0x213,0x245,0x271,0x296)+_0xc53408(0x140,0x14a,0x17d,0xfa)+_0x2fb14a(0x240,0x27a,0x228,0x261)+_0x2fb14a(0x24e,0x277,0x26e,0x2d0)+_0x1ea35f);if(_0xe8bf56&&_0x241db0[_0xc53408(0x19f,0x190,0x14b,0x151)](_0x328eac[_0xc53408(0x1bd,0x175,0x1e5,0x189)+'quota'],-(-0x2302*0x1+0x1*-0x7bb+0x2abe)))_0x328eac[_0xc53408(0x1bd,0x19c,0x18f,0x1eb)+'quota']+=_0x769c9e;else!_0xe8bf56&&_0x241db0[_0x2fb14a(0x212,0x1d5,0x194,0x19d)](_0x328eac[_0xc53408(0x183,0x198,0x1a8,0x137)+'a'],-(-0x584+0x144c+-0xec7))&&(_0x328eac[_0xc53408(0x183,0x13a,0x148,0x186)+'a']+=_0x769c9e);_0x241db0['zvRkA'](saveSettingsDebounced),eventSource['emit'](eventNames[_0x2fb14a(0x233,0x22d,0x1dd,0x1fd)+_0xc53408(0x133,0xd4,0x130,0x15d)]);}_0x241db0[_0xc53408(0x174,0x11c,0x1a1,0x1b2)](addOrUpdateTtsItem,_0x1ea35f,{'status':_0x2fb14a(0x2a0,0x289,0x22f,0x297),'error':_0x4495c2[_0xc53408(0x15a,0x124,0x13e,0x164)]||String(_0x4495c2)}),_0x241db0['IKoJZ'](_0x416cc2,_0x4495c2);}});return _0x502e36;}finally{if(_0x241db0['Plemm'](_0x241db0[_0x13e177(0x49b,0x472,0x45c,0x485)],'ThUcf')){const _0x57bbd7=_0x479b8e[_0x5f37b1(0x36b,0x343,0x3ab,0x360)+_0x13e177(0x4e4,0x48c,0x432,0x48c)],_0x525e08=_0x2dd12e[_0x57bbd7];if(!_0x525e08||!_0x525e08[_0x5f37b1(0x37a,0x383,0x380,0x390)]||!_0x525e08[_0x13e177(0x4bf,0x4ae,0x47c,0x4d9)])throw new _0x504435(_0x13e177(0x48c,0x4ab,0x4bc,0x488)+_0x13e177(0x477,0x47f,0x4a4,0x454)+_0x57bbd7+_0x5f37b1(0x350,0x2f4,0x39e,0x39f));if(!_0x525e08[_0x5f37b1(0x301,0x2b2,0x2ee,0x35b)]||!_0x525e08['speakers'][_0x4e46ef])throw new _0x42903f('当前选定的TTS\x20A'+'PI配置\x20\x22'+_0x57bbd7+'\x22\x20中不包含音色\x20\x22'+_0x599962+'\x22。');const _0x7cb293=_0x1536e2[_0x5f37b1(0x355,0x366,0x38b,0x367)],_0x14d0bd=_0x525e08[_0x13e177(0x49b,0x453,0x468,0x426)][_0x310819]['resource_i'+'d']===_0x241db0['NUxQB'],_0xf211ef=_0x14d0bd?_0x241db0[_0x13e177(0x517,0x4f8,0x54c,0x4e0)]:_0x13e177(0x4c3,0x4ca,0x500,0x4f7)+'a',_0x5d2893=_0x525e08[_0xf211ef];_0x241db0[_0x13e177(0x4e2,0x4e9,0x4e9,0x4ec)](_0x5d2893,-(0xea1+-0x1ca1+0x2cd*0x5))||_0x241db0[_0x5f37b1(0x357,0x3a8,0x319,0x384)](_0x5d2893,_0x7cb293)?(_0x2bf388=_0x525e08,_0x44ee98=_0x57bbd7):_0x5c72c4[_0x5f37b1(0x38f,0x3c0,0x383,0x369)]('当前TTS\x20API配'+_0x13e177(0x4d8,0x4ef,0x4d9,0x495)+_0x57bbd7+_0x5f37b1(0x321,0x36e,0x371,0x344)+(_0x14d0bd?'合成':'复刻')+'额度不足。');}else{activeTtsRequests--,floatBallStateManager[_0x5f37b1(0x2fd,0x31e,0x2d7,0x30c)+'g']();batchToastrInfo&&toastr[_0x13e177(0x481,0x455,0x3ff,0x410)](batchToastrInfo);if(_0x241db0['WCMud'](activeTtsRequests,-0x1867*-0x1+0x3*-0x10d+0x11*-0x140)){const _0x3eb53c={};_0x3eb53c['timeOut']=0x0,_0x3eb53c[_0x5f37b1(0x39f,0x39f,0x3b2,0x39e)+_0x13e177(0x482,0x4a3,0x4d7,0x4c9)]=0x0,batchToastrInfo=toastr[_0x5f37b1(0x340,0x346,0x332,0x30f)](_0x5f37b1(0x381,0x357,0x325,0x381)+activeTtsRequests+_0x5f37b1(0x319,0x320,0x321,0x313),_0x13e177(0x493,0x4ac,0x4f6,0x46c),_0x3eb53c);}else{if(_0x241db0[_0x5f37b1(0x373,0x355,0x379,0x3bd)](_0x241db0[_0x13e177(0x425,0x44c,0x446,0x43e)],_0x241db0[_0x13e177(0x47f,0x4b0,0x4e3,0x4d1)]))batchToastrInfo=null;else return _0x1c5a97['toString']()['search'](cHWSxc[_0x5f37b1(0x31c,0x304,0x327,0x2ee)])[_0x13e177(0x4aa,0x48e,0x46a,0x4d8)]()[_0x5f37b1(0x343,0x35c,0x398,0x35c)+'r'](_0x4f0169)[_0x5f37b1(0x353,0x36b,0x352,0x31b)](cHWSxc[_0x5f37b1(0x31c,0x35d,0x2cb,0x361)]);}}}}export function getSpeakers(){function _0x695e57(_0x28a286,_0x52e6c6,_0x165b9e,_0x2edb28){return _0x3c87(_0x165b9e- -0x325,_0x52e6c6);}const _0x4a48d4={};_0x4a48d4[_0x695e57(-0xee,-0xee,-0x13b,-0x14b)]=_0x17f779(-0x139,-0xde,-0xf5,-0x144);const _0x12145a=_0x4a48d4,_0x442f0d=extension_settings[extensionName],_0x45d788=_0x442f0d['current_tt'+'s_profile'],_0x5ceb69=_0x442f0d[_0x695e57(-0xf5,-0xed,-0x111,-0x103)+'es'][_0x45d788];if(!_0x5ceb69||!_0x5ceb69[_0x695e57(-0xdd,-0x130,-0x104,-0xce)+'s'])return[];function _0x17f779(_0x448b96,_0x4bfd26,_0x3ab587,_0x49fe03){return _0x3c87(_0x3ab587- -0x318,_0x49fe03);}const _0xe3bc9b=new Map(),_0x51cdf9=_0x5ceb69['api_config'+'s'];for(const _0x1dd0cc in _0x51cdf9){if(_0x17f779(-0x9a,-0x9e,-0xd0,-0x85)!==_0x12145a[_0x17f779(-0xd6,-0x100,-0x12e,-0x12a)]){const _0x2060e6=_0x51cdf9[_0x1dd0cc];if(_0x2060e6[_0x17f779(-0x166,-0x146,-0x13c,-0x135)])for(const _0x4e81c4 in _0x2060e6[_0x17f779(-0x164,-0x118,-0x13c,-0xe5)]){!_0xe3bc9b[_0x695e57(-0xd1,-0xc3,-0x96,-0x81)](_0x4e81c4)&&_0xe3bc9b['set'](_0x4e81c4,{'name':_0x4e81c4,..._0x2060e6[_0x695e57(-0x109,-0x105,-0x149,-0x14b)][_0x4e81c4]});}}else return _0x17f779(-0xff,-0x163,-0x128,-0x155)+'ty-'+_0x412ff1[_0x695e57(-0x173,-0x168,-0x14b,-0x127)]();}return Array[_0x17f779(-0xe8,-0xc0,-0xc2,-0x8e)](_0xe3bc9b[_0x695e57(-0x12c,-0x169,-0x121,-0xe7)]());}export function initTtsCache(_0x5e84e8){const _0xba2645={};_0xba2645[_0x27cd22(-0x116,-0x8b,-0xd2,-0xe0)]=_0x2e8cc3(0x59,-0x3,0xa,0xa2)+'TTS\x20Cache\x20'+_0x2e8cc3(-0x8,0x1c,-0x67,-0x24)+_0x2e8cc3(0x36,0x7,-0x1f,0x4b);function _0x2e8cc3(_0x5231a2,_0x29e3fa,_0x4fbd1b,_0x94dfc7){return _0x3c87(_0x5231a2- -0x1ea,_0x29e3fa);}function _0x27cd22(_0x5730ef,_0x30d08d,_0x18dd35,_0x547cd5){return _0x3c87(_0x18dd35- -0x30d,_0x5730ef);}const _0xf2495d=_0xba2645;ttsApi=_0x5e84e8,console[_0x2e8cc3(0x65,0x57,0x9e,0x73)](_0xf2495d['nZIic']);}function cyrb53(_0x1927ea,_0x563aa4=0x160*-0x4+-0x1*0x1a15+0x1f95){function _0x515153(_0x5cd1e9,_0x2541c6,_0x22fb79,_0x410263){return _0x3c87(_0x410263-0x1a7,_0x22fb79);}const _0x3bda5f={};_0x3bda5f['kfIFz']=function(_0x25a23c,_0x3481f8){return _0x25a23c^_0x3481f8;},_0x3bda5f[_0x515153(0x420,0x413,0x431,0x433)]=function(_0x2f546b,_0x1c43cd){return _0x2f546b<_0x1c43cd;},_0x3bda5f[_0x515153(0x41f,0x3b7,0x434,0x3df)]=function(_0x21efc2,_0x488dbc){return _0x21efc2^_0x488dbc;},_0x3bda5f[_0x515153(0x3b3,0x3a6,0x3a2,0x3e7)]=function(_0x4b0282,_0x437559){return _0x4b0282>>>_0x437559;},_0x3bda5f[_0x515153(0x3b9,0x3fd,0x438,0x3ec)]=function(_0x5327d9,_0x4c67f7){return _0x5327d9>>>_0x4c67f7;},_0x3bda5f[_0x515153(0x3de,0x39f,0x347,0x3a5)]=function(_0x56ac89,_0x55029b){return _0x56ac89>>>_0x55029b;},_0x3bda5f['CquHJ']=function(_0xd0852a,_0x200929){return _0xd0852a^_0x200929;},_0x3bda5f[_0x515153(0x344,0x356,0x3db,0x387)]=function(_0x1e6c21,_0x5e0f93){return _0x1e6c21>>>_0x5e0f93;},_0x3bda5f[_0x515153(0x372,0x3c7,0x40c,0x3c6)]=function(_0x8c67ff,_0x560495){return _0x8c67ff+_0x560495;},_0x3bda5f[_0x87353d(0x150,0xf6,0x16d,0x123)]=function(_0x4e65f8,_0x2db7f9){return _0x4e65f8*_0x2db7f9;};function _0x87353d(_0x56a8a1,_0x35cddf,_0x579b5d,_0x1ddc64){return _0x3c87(_0x56a8a1- -0xee,_0x35cddf);}const _0x193080=_0x3bda5f;let _0x117769=_0x193080['kfIFz'](0x1f65276b*0xb+-0x167599e27+-0x229*-0x6d9135,_0x563aa4),_0x657e88=0xcd1d*0x652b+0x5f1f9374+-0x2f*0x2595ac4^_0x563aa4;for(let _0x1fc075=-0x5*0x463+0x15*0x139+-0x1df*0x2,_0x5141c8;_0x193080[_0x87353d(0x19e,0x19e,0x1a7,0x1f9)](_0x1fc075,_0x1927ea[_0x87353d(0x142,0x110,0x10f,0x166)]);_0x1fc075++){_0x5141c8=_0x1927ea['charCodeAt'](_0x1fc075),_0x117769=Math[_0x515153(0x3c2,0x3fc,0x385,0x3b0)](_0x193080[_0x515153(0x3cb,0x3df,0x3b7,0x3c1)](_0x117769,_0x5141c8),0x21dc7684*0x7+0x3f*-0x364921f+0x86f031b6),_0x657e88=Math[_0x515153(0x406,0x3ed,0x3fd,0x3b0)](_0x657e88^_0x5141c8,0xe9*-0x6c7574+0xea52425+0xb3472704);}return _0x117769=_0x193080['QdozU'](Math[_0x515153(0x3bb,0x384,0x3b1,0x3b0)](_0x193080[_0x87353d(0x12c,0x14e,0x156,0x168)](_0x117769,_0x193080['BMxVB'](_0x117769,-0x55d+0x126f+-0xd02)),0xc4c1f94c+0x174748f1*-0x2+-0x10479cff),Math[_0x87353d(0x11b,0x17a,0x171,0xdc)](_0x193080[_0x87353d(0x14a,0x11a,0x18b,0x161)](_0x657e88,_0x193080['sSbOk'](_0x657e88,0x9*0x1c9+0x24ac+0x1190*-0x3)),-0x440c1829+-0x12d3d1dac+0x233fbe40a)),_0x657e88=Math[_0x87353d(0x11b,0x16f,0x148,0xdf)](_0x193080[_0x515153(0x436,0x38e,0x3c9,0x3df)](_0x657e88,_0x193080[_0x87353d(0x110,0xda,0xfb,0x110)](_0x657e88,0x1bd9+0x1f0b+-0x1f6*0x1e)),-0x3b951600+-0x4c384dc7+-0x2f96e*-0x5aaf)^Math['imul'](_0x193080[_0x87353d(0x101,0xb7,0xc6,0xee)](_0x117769,_0x193080[_0x515153(0x3df,0x396,0x34f,0x387)](_0x117769,-0x2623*-0x1+-0x51a*-0x1+-0x2b30)),0x1*-0x361665ac+0x2fb10900+0xc9180ae1),_0x193080['KjvNT'](_0x193080[_0x515153(0x403,0x396,0x3a9,0x3e5)](-0x49bc*0x49bf7+0x1945ec*-0x67a+0x2f78ad2dc,-0x202d7f+0x27bb42+0x18723c&_0x657e88),_0x193080[_0x515153(0x3e5,0x335,0x3d8,0x387)](_0x117769,-0x1db4+-0x3*0x866+0x36e6));};export function generateTtsCacheKey(_0x7a4614,_0x370234,_0x2cbaf1){const _0x433215={};_0x433215[_0x2f3e15(0xd1,0xab,0x77,0x9a)]=_0x5e4fde(0x169,0x15b,0x142,0x176),_0x433215[_0x2f3e15(0xb3,0x9b,0xed,0x107)]=function(_0x772fba,_0x18212d){return _0x772fba===_0x18212d;},_0x433215['lcszK']=function(_0x42899e,_0x2cbc66){return _0x42899e||_0x2cbc66;};function _0x5e4fde(_0x2cd5b5,_0x542b76,_0x4d2f40,_0x9f466){return _0x3c87(_0x2cd5b5- -0xd6,_0x9f466);}const _0xbb9dfe=_0x433215;if(typeof _0x7a4614!==_0xbb9dfe[_0x2f3e15(0x7f,0xc4,0x77,0x5e)]||_0xbb9dfe[_0x5e4fde(0x191,0x179,0x14b,0x17a)](_0x7a4614[_0x5e4fde(0x15a,0x180,0x170,0x17a)],-0x87*0x9+0x1*0x215e+-0x1*0x1c9f))return'tts-id-emp'+'ty-'+Date[_0x5e4fde(0x104,0x102,0x146,0x12b)]();function _0x2f3e15(_0x2b7d86,_0x23dab5,_0x201bf0,_0x417e51){return _0x3c87(_0x201bf0- -0x17a,_0x23dab5);}const _0x2d0ca9=_0x7a4614+'|'+_0xbb9dfe[_0x5e4fde(0x1a0,0x176,0x1f5,0x1a3)](_0x370234,'')+'|'+_0xbb9dfe[_0x2f3e15(0xcc,0x141,0xfc,0x157)](_0x2cbaf1,'');return'tts-id-'+cyrb53(_0x2d0ca9);}
//# sourceMappingURL=http://localhost:8000/tts-cache.js.map