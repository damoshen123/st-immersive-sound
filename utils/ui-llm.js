(function(_0x4a28a1,_0x39ca3e){function _0x7a3b26(_0x4f2572,_0x277bd5,_0x5dbc11,_0x168869){return _0xac29(_0x168869-0x83,_0x5dbc11);}const _0x18a7d8=_0x4a28a1();function _0x552861(_0x49ce20,_0x5147a2,_0x364aa1,_0x2a9a3b){return _0xac29(_0x364aa1-0x1bc,_0x49ce20);}while(!![]){try{const _0x347943=-parseInt(_0x552861(0x37a,0x31d,0x357,0x281))/(0x1142+0x84*0xf+0x1*-0x18fd)*(-parseInt(_0x7a3b26(0x22c,0x1b1,0x20c,0x280))/(0x1e+0x81*0xe+-0x106*0x7))+parseInt(_0x7a3b26(0x1ba,0x292,0x214,0x28c))/(-0xc5f+-0x1061+0x25*0xc7)*(parseInt(_0x552861(0x431,0x523,0x462,0x525))/(-0xa*0x1de+-0x1*0x62e+0x18de))+-parseInt(_0x7a3b26(0x2ca,0x1c2,0x24a,0x1ed))/(-0x9c8+0x801+-0x4*-0x73)+-parseInt(_0x7a3b26(0x2fb,0x259,0x36a,0x301))/(0x1ebd+-0x1*0x15a7+-0x910)+-parseInt(_0x7a3b26(0x146,0x148,0x1be,0x213))/(0x1611+-0xe4*0x5+-0x1*0x1196)*(-parseInt(_0x7a3b26(0x242,0x1ce,0x159,0x1d7))/(0x862+-0x2*0xcf1+0x1188))+-parseInt(_0x552861(0x287,0x337,0x32a,0x2f7))/(-0x6f*-0x11+-0x3*-0x7ca+-0x5*0x624)*(parseInt(_0x552861(0x483,0x478,0x491,0x4c7))/(-0x123e+-0x4d*0x64+0x305c))+parseInt(_0x552861(0x3f7,0x362,0x3ae,0x39c))/(-0x9da+-0x25fa*-0x1+-0x1c15);if(_0x347943===_0x39ca3e)break;else _0x18a7d8['push'](_0x18a7d8['shift']());}catch(_0x4009b7){_0x18a7d8['push'](_0x18a7d8['shift']());}}}(_0x121d,-0x3ebbc+0x99e22+0xc5e*-0x7));const _0x16b72d=(function(){const _0x161bc5={};_0x161bc5[_0x860016(0x367,0x3a7,0x3e9,0x32f)]=_0x860016(0x49e,0x542,0x45f,0x4b5),_0x161bc5[_0x860016(0x4c7,0x571,0x4f2,0x53b)]=_0x1e6b85(0x1fa,0x14d,0x19b,0x184);function _0x1e6b85(_0x288cf5,_0x41e65b,_0x211960,_0x59d329){return _0xac29(_0x211960-0x36,_0x59d329);}function _0x860016(_0x4e3573,_0x59e24b,_0x2e4ff5,_0x1533b6){return _0xac29(_0x2e4ff5-0x2a6,_0x4e3573);}_0x161bc5['EChji']=function(_0x57da0e,_0x204be9){return _0x57da0e!==_0x204be9;},_0x161bc5['WAhHm']=_0x860016(0x4cb,0x389,0x3ec,0x408);const _0x3be19d=_0x161bc5;let _0xa92edd=!![];return function(_0x4f04cb,_0x559c9a){function _0x5246fc(_0x1fbf1e,_0x26cfcc,_0x495af5,_0x2e90c6){return _0x860016(_0x1fbf1e,_0x26cfcc-0x1de,_0x26cfcc- -0x3a7,_0x2e90c6-0x11d);}const _0x4ed5da={};function _0x34b1a8(_0x15620e,_0x42cf46,_0x3d0863,_0xa6f555){return _0x1e6b85(_0x15620e-0x101,_0x42cf46-0xbd,_0x42cf46-0x56,_0xa6f555);}_0x4ed5da[_0x5246fc(0x1e4,0x1ee,0x196,0x154)]=_0x3be19d[_0x5246fc(0x109,0x42,0x26,0x93)],_0x4ed5da[_0x34b1a8(0x29b,0x1e7,0x26b,0x18e)]=function(_0x5d48a4,_0x1daf84){return _0x5d48a4!==_0x1daf84;},_0x4ed5da[_0x34b1a8(0x285,0x2f5,0x3d8,0x21f)]=_0x3be19d[_0x5246fc(0x12a,0x14b,0xf0,0xb3)];const _0x72012b=_0x4ed5da;if(_0x3be19d[_0x34b1a8(0x13b,0x203,0x222,0x27c)](_0x34b1a8(0x23c,0x1c1,0xfb,0x294),_0x3be19d['WAhHm'])){const _0xeed87a=_0xa92edd?function(){function _0x1c2494(_0x18dcf6,_0x4987b5,_0x43eab7,_0x2c8db9){return _0x5246fc(_0x2c8db9,_0x18dcf6-0x394,_0x43eab7-0x21,_0x2c8db9-0x1ea);}function _0x4014b4(_0x1a2143,_0x63d6e1,_0x8fc7,_0x36310b){return _0x5246fc(_0x8fc7,_0x63d6e1- -0x11b,_0x8fc7-0x1c1,_0x36310b-0xfc);}if(_0x559c9a){if(_0x72012b['CiJng'](_0x72012b[_0x1c2494(0x4fc,0x4bb,0x42f,0x559)],_0x4014b4(-0xd,-0xb7,-0x8,-0x139)))_0x5779a5[_0x1c2494(0x3ed,0x379,0x442,0x45e)](_0x72012b[_0x4014b4(0xeb,0xd3,0x81,0x5c)],![]),_0x3d21e9=null,_0x23bb8c[_0x1c2494(0x45c,0x4f7,0x4ab,0x438)+'g']();else{const _0x544975=_0x559c9a[_0x4014b4(-0x184,-0xe8,-0x1a7,-0x165)](_0x4f04cb,arguments);return _0x559c9a=null,_0x544975;}}}:function(){};return _0xa92edd=![],_0xeed87a;}else _0x1d11e7[_0x5246fc(0x1b7,0x14a,0x107,0x1d1)](_0x34b1a8(0x268,0x290,0x351,0x1d9)+_0x173830[_0x34b1a8(0x35c,0x281,0x2ea,0x2d3)]);};}()),_0x3bf88c=_0x16b72d(this,function(){function _0x49eee0(_0x4bb66e,_0x5a8f7a,_0x36fc37,_0x98bb42){return _0xac29(_0x98bb42-0x2e,_0x5a8f7a);}function _0x375915(_0xb0654b,_0x11e0fe,_0x1a8c7b,_0x428cb1){return _0xac29(_0xb0654b-0x188,_0x1a8c7b);}return _0x3bf88c[_0x375915(0x2fa,0x285,0x292,0x222)]()['search']('(((.+)+)+)'+'+$')[_0x49eee0(0x225,0x1d6,0x1ef,0x1a0)]()[_0x49eee0(0x2bf,0x3cb,0x283,0x2f9)+'r'](_0x3bf88c)[_0x375915(0x2ca,0x316,0x2b1,0x377)]('(((.+)+)+)'+'+$');});_0x3bf88c();import{extension_settings}from'../../../../extensions.js';import{saveSettingsDebounced,eventSource}from'../../../../../script.js';import{extensionName,eventNames}from'./config.js';import{floatBallStateManager}from'./ui-float-ball.js';let profileSelect,apiUrlInput,apiKeyInput,modelSelect,fetchModelsButton,temperatureSlider,temperatureValue,topPSlider,topPValue,maxTokensSlider,maxTokensValue,testHistoryContainer,testButton,resultTextarea,llmTestModeToggle,combinedPromptTextarea,currentLLMRequestController;export function updateCombinedPrompt(_0x3ed5d4){function _0x4515d0(_0x581a25,_0x23b118,_0x28bd10,_0x2ed52a){return _0xac29(_0x581a25- -0x8f,_0x2ed52a);}combinedPromptTextarea&&combinedPromptTextarea[_0x4515d0(0x1df,0x2aa,0x1f9,0x1ba)](_0x3ed5d4);}export function isLLMRequestActive(){return!!currentLLMRequestController;}export function abortLLMRequest(){const _0x47e016={};_0x47e016['ihZvl']='LLM\x20请求已中止。';const _0x459665=_0x47e016;function _0x1a5c8e(_0x3eb31a,_0x29050e,_0x49a788,_0x20794a){return _0xac29(_0x49a788- -0x157,_0x3eb31a);}function _0x2c0fd5(_0xbefd1,_0x1f7794,_0x2095f7,_0x5f4ed4){return _0xac29(_0x1f7794-0x284,_0xbefd1);}currentLLMRequestController&&(currentLLMRequestController['abort'](),toastr[_0x2c0fd5(0x3ae,0x402,0x4a7,0x4b3)](_0x459665[_0x2c0fd5(0x41b,0x4e2,0x4e4,0x5b8)]));}function renderHistory(_0x9665fa=[]){function _0x45f80b(_0x4f580e,_0x3a4256,_0x10da8b,_0x144c05){return _0xac29(_0x10da8b- -0x5b,_0x4f580e);}const _0x46fbb0={};_0x46fbb0[_0x54d8ce(0x437,0x55e,0x4ab,0x4b5)]=function(_0x5eca80,_0x17c023){return _0x5eca80+_0x17c023;};const _0x3d5412=_0x46fbb0;testHistoryContainer[_0x54d8ce(0x4bf,0x53a,0x4d6,0x532)]();function _0x54d8ce(_0x40211f,_0x1707b9,_0x497450,_0x2e6a7){return _0xac29(_0x497450-0x28e,_0x2e6a7);}for(let _0x45814d=-0x2db+0x2055+-0x1d7a;_0x45814d<0x1981+-0x19bf+0x41*0x1;_0x45814d++){const _0x507448={};_0x507448[_0x45f80b(0x266,0x151,0x1b9,0x28e)]='',_0x507448[_0x45f80b(0x179,0xfa,0x1bd,0xdc)]='';const _0x13a88a=_0x9665fa[_0x45814d]||_0x507448,_0x3e5b1a=$(_0x54d8ce(0x597,0x536,0x531,0x56b)+_0x54d8ce(0x4ef,0x4b9,0x4b3,0x47a)+_0x45f80b(0x1db,0x26b,0x243,0x293)+_0x54d8ce(0x479,0x4aa,0x49f,0x54e)+_0x45f80b(0x153,0x2b1,0x22c,0x2b1)+_0x45f80b(0x277,0x1ba,0x261,0x218)+_0x45f80b(0x30c,0x244,0x27c,0x2e0)+_0x45f80b(0x1ab,0x181,0xe1,0x99)+_0x45f80b(0x90,0x1d7,0x14a,0x17b)+'用户\x20#'+(_0x45814d+(0x35e*-0x9+0x1beb*-0x1+0x3a3a))+(_0x45f80b(0x20b,0xbb,0x16a,0x231)+_0x54d8ce(0x38f,0x32a,0x3ca,0x307)+_0x54d8ce(0x547,0x4f4,0x502,0x433)+_0x54d8ce(0x4f9,0x531,0x526,0x463)+'=\x22st-is-te'+_0x54d8ce(0x4a7,0x458,0x43b,0x36f)+_0x45f80b(0x23e,0x20d,0x168,0x1e1)+_0x45f80b(0x46,0x6,0xe4,0x3a)+_0x54d8ce(0x43f,0x3ca,0x48d,0x3f1)+_0x54d8ce(0x603,0x4ed,0x57e,0x4de)+_0x54d8ce(0x5e6,0x551,0x556,0x486)+'\x22>')+_0x13a88a[_0x54d8ce(0x3c0,0x530,0x4a2,0x492)]+(_0x54d8ce(0x512,0x4bd,0x4af,0x4bf)+_0x54d8ce(0x449,0x472,0x43f,0x3e2)+'\x20\x20\x20\x20\x20\x20\x20\x20<l'+'abel>AI\x20#')+_0x3d5412[_0x54d8ce(0x404,0x46b,0x4ab,0x421)](_0x45814d,0x196e+0x2e3*-0xb+0x21c*0x3)+(_0x54d8ce(0x3fc,0x4f0,0x453,0x46d)+_0x45f80b(0x153,0x69,0xe1,0x190)+_0x45f80b(0x218,0x13f,0x219,0x2e9)+_0x45f80b(0x253,0x18d,0x23d,0x209)+_0x54d8ce(0x51d,0x4ba,0x561,0x4bb)+'xtarea\x20st-'+_0x54d8ce(0x49b,0x463,0x451,0x3c0)+_0x45f80b(0x358,0x302,0x28b,0x331)+_0x54d8ce(0x55c,0x48e,0x4b1,0x4ab)+_0x45f80b(0x145,0x1f2,0x16d,0x233)+_0x54d8ce(0x41a,0x456,0x490,0x48e)+_0x54d8ce(0x378,0x3a2,0x428,0x4fa))+_0x13a88a[_0x45f80b(0x183,0x296,0x1bd,0x182)]+(_0x54d8ce(0x52c,0x442,0x4af,0x558)+'>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20</div>'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20'));testHistoryContainer[_0x45f80b(0x89,0x93,0x132,0x202)](_0x3e5b1a);}}function _0xac29(_0x123201,_0x1245ed){const _0x4d4953=_0x121d();return _0xac29=function(_0x5ce6cc,_0x5a4690){_0x5ce6cc=_0x5ce6cc-(0x241e+-0x1f7*0x10+-0x37d);let _0x4509ae=_0x4d4953[_0x5ce6cc];if(_0xac29['VZvYpA']===undefined){var _0x514a56=function(_0x32d41f){const _0x52f988='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0xecd3a2='',_0x573e92='',_0x5a7b90=_0xecd3a2+_0x514a56;for(let _0x25aced=-0x1e42+-0xfea+0x2e2c,_0x4df346,_0x1e17ef,_0x2ab8bb=-0xb92*-0x2+-0x7*-0x21e+0x2*-0x12fb;_0x1e17ef=_0x32d41f['charAt'](_0x2ab8bb++);~_0x1e17ef&&(_0x4df346=_0x25aced%(0x2026+-0x1a9*0x17+0x60d)?_0x4df346*(-0x38b*0x5+0x16cb+-0x4d4)+_0x1e17ef:_0x1e17ef,_0x25aced++%(-0x120d*-0x1+0x1680+0x481*-0x9))?_0xecd3a2+=_0x5a7b90['charCodeAt'](_0x2ab8bb+(-0x1c7+-0x1*0xb17+0xce8))-(0x12e*0x4+0xb65+-0x1013)!==-0xdad+0xca*0x26+-0x104f?String['fromCharCode'](0x1*-0xb5d+0x1db3+-0x1*0x1157&_0x4df346>>(-(-0x7*-0x22+0xa3c+0x1*-0xb28)*_0x25aced&0x1d21*0x1+-0x1*-0x2314+0x1*-0x402f)):_0x25aced:-0x3*-0x7f+-0x11*0x4d+0x3a0){_0x1e17ef=_0x52f988['indexOf'](_0x1e17ef);}for(let _0x30be9e=0x88e*-0x1+-0x1f30+0x27be,_0x120ff9=_0xecd3a2['length'];_0x30be9e<_0x120ff9;_0x30be9e++){_0x573e92+='%'+('00'+_0xecd3a2['charCodeAt'](_0x30be9e)['toString'](-0x1*0x919+0x23db+0x11*-0x192))['slice'](-(0x1*-0x175f+0x1511+0x10*0x25));}return decodeURIComponent(_0x573e92);};_0xac29['bSlURg']=_0x514a56,_0x123201=arguments,_0xac29['VZvYpA']=!![];}const _0x1a61ff=_0x4d4953[-0x500+-0x5*-0x11b+-0x87],_0x1ff9ef=_0x5ce6cc+_0x1a61ff,_0x500516=_0x123201[_0x1ff9ef];if(!_0x500516){const _0x44feb2=function(_0x2c010e){this['PrBRdj']=_0x2c010e,this['zVqrBH']=[0x332*-0xc+0xe6f+0x17ea,0x150b*0x1+-0x100f+-0xb*0x74,0x419*-0x3+0x95f*0x1+0x2ec],this['HmjKes']=function(){return'newState';},this['FRSmIB']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['Jwhmuq']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x44feb2['prototype']['vwYqQE']=function(){const _0xcfa360=new RegExp(this['FRSmIB']+this['Jwhmuq']),_0x1a5ad0=_0xcfa360['test'](this['HmjKes']['toString']())?--this['zVqrBH'][0x10ea+-0x31f+-0x2*0x6e5]:--this['zVqrBH'][0x1fa5*-0x1+-0xdc3+0x2d68];return this['wxErVJ'](_0x1a5ad0);},_0x44feb2['prototype']['wxErVJ']=function(_0x825ca3){if(!Boolean(~_0x825ca3))return _0x825ca3;return this['AsOShP'](this['PrBRdj']);},_0x44feb2['prototype']['AsOShP']=function(_0x12a465){for(let _0x47df9b=-0x49*0x1+-0x169c+-0x1*-0x16e5,_0x10a302=this['zVqrBH']['length'];_0x47df9b<_0x10a302;_0x47df9b++){this['zVqrBH']['push'](Math['round'](Math['random']())),_0x10a302=this['zVqrBH']['length'];}return _0x12a465(this['zVqrBH'][0x6b3*-0x5+0x1*0x184f+0x930]);},new _0x44feb2(_0xac29)['vwYqQE'](),_0x4509ae=_0xac29['bSlURg'](_0x4509ae),_0x123201[_0x1ff9ef]=_0x4509ae;}else _0x4509ae=_0x500516;return _0x4509ae;},_0xac29(_0x123201,_0x1245ed);}function loadLLMProfiles(){const _0xaf1d7d={};_0xaf1d7d[_0x337d11(-0x12f,-0x183,-0x126,-0x100)]=function(_0xf33af1,_0x27094f){return _0xf33af1===_0x27094f;},_0xaf1d7d[_0x44bf6c(0x28b,0x26c,0x2a0,0x286)]='change';const _0x1f69f4=_0xaf1d7d,_0x2219a3=extension_settings[extensionName][_0x44bf6c(0x387,0x1f2,0x23e,0x2cc)+'es']||{},_0x3d96e0=extension_settings[extensionName]['current_ll'+'m_profile'];profileSelect[_0x44bf6c(0x2e4,0x1eb,0x1d7,0x21d)]();function _0x337d11(_0x169831,_0xaffc36,_0x519f7b,_0x3f8917){return _0xac29(_0x3f8917- -0x385,_0x519f7b);}function _0x44bf6c(_0x5484c8,_0x378b91,_0x36b6f5,_0x1d710c){return _0xac29(_0x1d710c- -0x2b,_0x5484c8);}Object[_0x44bf6c(0x181,0x2ef,0x26a,0x22c)](_0x2219a3)[_0x337d11(-0x1b2,-0xb0,-0x1c9,-0x16c)](_0x5ab0b4=>{function _0x3df4b0(_0x4d7a4e,_0x247c01,_0x3fedef,_0x1e94a5){return _0x337d11(_0x4d7a4e-0xb4,_0x247c01-0x5b,_0x1e94a5,_0x4d7a4e-0x17b);}const _0x4ed35f=new Option(_0x5ab0b4,_0x5ab0b4,_0x1f69f4[_0x448c5f(0x4fb,0x59c,0x551,0x523)](_0x5ab0b4,_0x3d96e0),_0x5ab0b4===_0x3d96e0);function _0x448c5f(_0x3adb14,_0x1ce78f,_0x440d60,_0x5c0363){return _0x337d11(_0x3adb14-0xa,_0x1ce78f-0x58,_0x5c0363,_0x3adb14-0x5fb);}profileSelect[_0x3df4b0(-0x7d,-0xab,-0xab,0x9)](_0x4ed35f);}),profileSelect[_0x44bf6c(0x27f,0x1fc,0x2ff,0x243)]()&&profileSelect[_0x337d11(-0x295,-0x20c,-0x125,-0x1d5)](_0x1f69f4[_0x44bf6c(0x290,0x2a0,0x1d9,0x286)]);}function onProfileSelectChange(){function _0x57d430(_0x520ad7,_0x2f038c,_0x8df4a9,_0x58abeb){return _0xac29(_0x58abeb-0x115,_0x520ad7);}const _0x2d4ecf={'CNUyi':function(_0x42322a,_0x444f75){return _0x42322a(_0x444f75);},'YSOrU':_0x415d45(0x5bf,0x643,0x65e,0x616),'TCRYn':_0x57d430(0x42b,0x352,0x3ab,0x3f5),'wPTZW':_0x57d430(0x3ac,0x350,0x31f,0x2c9)+_0x415d45(0x5c4,0x537,0x591,0x52f),'eFTRD':function(_0x675cfa){return _0x675cfa();},'XbETX':_0x57d430(0x23e,0x25f,0x3c9,0x31b)},_0x1e571f=_0x2d4ecf[_0x415d45(0x4a0,0x3fd,0x41e,0x467)]($,this)['val']();if(!_0x1e571f)return;const _0x1038c3=extension_settings[extensionName]['llm_profil'+'es'],_0x53b66c=_0x1038c3[_0x1e571f];function _0x415d45(_0x2bad05,_0x3f91b0,_0xe34f1a,_0x2ff401){return _0xac29(_0x2ff401-0x322,_0x3f91b0);}if(_0x53b66c){if(_0x2d4ecf['YSOrU']===_0x2d4ecf[_0x415d45(0x586,0x4d2,0x51b,0x51c)]){const {id:_0x46b681}=_0x127367;if(!_0x46b681)return;_0x35c960['log'](_0x415d45(0x510,0x5e2,0x626,0x56f)+'获取请求\x20(ID:\x20'+_0x46b681+')');const _0x231ae3=_0x2ad1ed(),_0x1e354c={};_0x1e354c['prompt']=_0x231ae3,_0x1e354c['id']=_0x46b681,_0x1e21ae[_0x415d45(0x491,0x553,0x520,0x4ec)](_0x8ec2c3[_0x415d45(0x5a0,0x55f,0x459,0x4cc)+'OMPT_RESPO'+_0x415d45(0x694,0x53b,0x62d,0x5f3)],_0x1e354c);}else{apiUrlInput[_0x57d430(0x2ad,0x39b,0x405,0x383)](_0x53b66c[_0x415d45(0x507,0x52d,0x53e,0x4b7)]||''),apiKeyInput[_0x57d430(0x466,0x2eb,0x2c8,0x383)](_0x53b66c[_0x415d45(0x5ef,0x67c,0x631,0x5db)]||''),modelSelect[_0x57d430(0x2ea,0x313,0x41b,0x35d)]();const _0x30412e=_0x53b66c[_0x57d430(0x27d,0x2fb,0x3e8,0x34b)]||_0x2d4ecf[_0x415d45(0x64a,0x63d,0x5f5,0x584)];modelSelect[_0x57d430(0x208,0x2fa,0x36d,0x2a2)](new Option(_0x30412e,_0x30412e,!![],!![]));const _0x8ff40b=_0x53b66c[_0x57d430(0x34c,0x3a3,0x38f,0x3ee)+'e']??-0xc8+0x1839*0x1+-0x11*0x161+0.7;temperatureSlider[_0x57d430(0x3b7,0x388,0x328,0x383)](_0x8ff40b),temperatureValue[_0x415d45(0x5ab,0x5ff,0x550,0x590)](_0x8ff40b);const _0x257fe4=_0x53b66c[_0x57d430(0x453,0x3f6,0x444,0x3c8)]??-0x3*-0x43+-0x20a2+-0x9*-0x38a;topPSlider['val'](_0x257fe4),topPValue[_0x57d430(0x2c7,0x36f,0x456,0x383)](_0x257fe4);const _0x34ae50=_0x53b66c['max_tokens']??0xee9+-0x4*0x5d5+0x15*0x7f;maxTokensSlider['val'](_0x34ae50),maxTokensValue[_0x415d45(0x5a7,0x4b9,0x631,0x590)](_0x34ae50),_0x2d4ecf[_0x415d45(0x438,0x4f1,0x3ce,0x467)](renderHistory,_0x53b66c['history']),extension_settings[extensionName][_0x415d45(0x595,0x524,0x60f,0x592)+_0x415d45(0x492,0x3fc,0x438,0x49a)]=_0x1e571f,_0x2d4ecf[_0x415d45(0x641,0x597,0x4f9,0x57c)](saveSettingsDebounced);}}llmTestModeToggle[_0x415d45(0x3cf,0x448,0x4bc,0x47c)](_0x2d4ecf[_0x57d430(0x26b,0x35a,0x412,0x34d)],extension_settings[extensionName][_0x415d45(0x5f6,0x69a,0x532,0x5dc)+'e']);}function collectProfileDataFromUI(){function _0x12138e(_0x8efc21,_0x2263b0,_0x3f8627,_0xbc8653){return _0xac29(_0x3f8627-0x2cd,_0x8efc21);}const _0x3de0dc={'vbSfq':function(_0x5c90a1,_0x361fa6){return _0x5c90a1!==_0x361fa6;},'nvdNY':'XbXCu','rAsAd':function(_0x579f4c,_0x2e7867){return _0x579f4c(_0x2e7867);},'Ijzxb':_0x30483d(0x109,0x67,0xab,0x5c)+_0x12138e(0x479,0x49d,0x4cd,0x507)+_0x12138e(0x5b0,0x4fe,0x4d4,0x482),'qzgKT':_0x30483d(0x4f,0x67,0x13e,0xa2)+'-history-a'+_0x12138e(0x3f2,0x3bb,0x48e,0x3ef),'iZBIR':_0x12138e(0x54d,0x498,0x4d8,0x528)+_0x30483d(0xb8,0x118,0x1b4,0xe3)+_0x30483d(-0xcd,-0x2b,-0xe0,-0xe),'CTigB':function(_0x62aea9,_0x2990a5){return _0x62aea9(_0x2990a5);},'ZEMIP':function(_0x41689b,_0x2264f8){return _0x41689b(_0x2264f8);},'IgjsX':function(_0xc0724,_0x3ae1e5,_0x2332b3){return _0xc0724(_0x3ae1e5,_0x2332b3);}};function _0x30483d(_0x213d90,_0x33230c,_0x30e401,_0x209fad){return _0xac29(_0x33230c- -0x1a4,_0x209fad);}const _0xcf8d70=[];return _0x3de0dc['rAsAd']($,_0x3de0dc[_0x12138e(0x51f,0x4cf,0x59b,0x4c1)])[_0x12138e(0x4e2,0x38e,0x45e,0x3eb)](function(){function _0x3582f4(_0x6f04ab,_0x143386,_0x36eb83,_0x2c4912){return _0x12138e(_0x6f04ab,_0x143386-0x1c,_0x36eb83- -0x3d2,_0x2c4912-0x165);}function _0xe95e55(_0x2d8ae4,_0x29961f,_0x385ad3,_0x540349){return _0x12138e(_0x385ad3,_0x29961f-0x176,_0x540349- -0x31a,_0x540349-0x173);}if(_0x3de0dc[_0xe95e55(0xf2,0x1bc,0x164,0x1bf)](_0x3de0dc[_0x3582f4(0x12b,0x1ee,0x12e,0x10b)],_0x3de0dc[_0x3582f4(0x142,0x4d,0x12e,0xf5)]))_0x455613[_0x3516f8][_0x3582f4(0x1e4,0x11f,0x1f2,0x1fa)+'es'][_0xa0fc84]=_0x4e1624[_0x487b69],_0x4ff395++;else{const _0x8e9fcf=_0x3de0dc[_0x3582f4(0x4,0x162,0x9b,0xa7)]($,this)[_0xe95e55(0x1c0,0x2f9,0x249,0x23b)](_0x3de0dc[_0x3582f4(0x29f,0x294,0x1e7,0x296)])[_0x3582f4(0x157,0x239,0x169,0x11b)](),_0x74727=_0x3de0dc[_0xe95e55(0x194,0x1a5,0x189,0x153)]($,this)[_0xe95e55(0x2ff,0x17a,0x24b,0x23b)](_0x3de0dc[_0x3582f4(0x1ad,0x1eb,0x168,0x1ba)])[_0x3582f4(0xc0,0x1f5,0x169,0x152)](),_0x4fe9d1={};_0x4fe9d1[_0xe95e55(0x1cc,0x131,0x1e9,0x1c7)]=_0x8e9fcf,_0x4fe9d1[_0xe95e55(0x150,0x276,0x10e,0x1cb)]=_0x74727,_0xcf8d70['push'](_0x4fe9d1);}}),{'api_url':apiUrlInput[_0x12138e(0x51f,0x607,0x53b,0x5e2)](),'api_key':apiKeyInput[_0x12138e(0x5d6,0x58f,0x53b,0x473)](),'model':modelSelect[_0x12138e(0x5cf,0x5f3,0x53b,0x5e4)](),'temperature':_0x3de0dc[_0x30483d(0x150,0xee,0x1a2,0xa5)](parseFloat,temperatureSlider['val']()),'top_p':_0x3de0dc[_0x12138e(0x390,0x4c4,0x420,0x380)](parseFloat,topPSlider[_0x12138e(0x582,0x4fb,0x53b,0x5ae)]()),'max_tokens':_0x3de0dc[_0x12138e(0x4c2,0x549,0x549,0x4a9)](parseInt,maxTokensSlider[_0x12138e(0x5d4,0x599,0x53b,0x5e2)](),-0x21fd+0x1*0x463+0x1da4),'history':_0xcf8d70};}function onSaveProfileClick(){const _0x1c1e35={'EANln':'请求失败','XaFix':function(_0x2e22ac,_0x382cb6){return _0x2e22ac===_0x382cb6;},'FNJSt':_0x15a8f7(0x1ad,0x246,0x218,0x1cd),'PqXIh':_0x20aa30(0x51f,0x4e6,0x563,0x5be),'llpXr':function(_0x2e2268){return _0x2e2268();}};function _0x15a8f7(_0x5d0171,_0x486759,_0x2e526f,_0x199115){return _0xac29(_0x486759-0x77,_0x2e526f);}const _0x4a1db0=profileSelect['val']();function _0x20aa30(_0x1652a8,_0x143c4a,_0x31eedc,_0x1d8219){return _0xac29(_0x1652a8-0x335,_0x31eedc);}if(!_0x4a1db0){if(_0x1c1e35[_0x20aa30(0x4ec,0x4fa,0x449,0x421)](_0x20aa30(0x504,0x597,0x531,0x47a),_0x1c1e35['FNJSt'])){toastr[_0x15a8f7(0x271,0x209,0x2c2,0x2bd)](_0x1c1e35['PqXIh']);return;}else throw new _0x11893e(_0x92293f[_0x20aa30(0x580,0x57c,0x54b,0x5f0)]?_0x22ae9b[_0x20aa30(0x580,0x5f2,0x5f9,0x4e6)][_0x20aa30(0x52a,0x57a,0x4cd,0x5fa)]:_0x1c1e35[_0x15a8f7(0x269,0x1bf,0x161,0x1bd)]);}extension_settings[extensionName]['llm_profil'+'es'][_0x4a1db0]=_0x1c1e35['llpXr'](collectProfileDataFromUI),_0x1c1e35[_0x20aa30(0x4ba,0x459,0x43a,0x477)](saveSettingsDebounced),toastr[_0x20aa30(0x5f3,0x574,0x5b9,0x697)](_0x15a8f7(0x1a7,0x1c4,0x209,0x2a8)+_0x4a1db0+'\x22\x20已保存。');}function onSaveAsProfileClick(){const _0x59836f={'VGqJe':_0x5205a3(0x307,0x2d8,0x29c,0x29a),'gpjri':function(_0xbad53b){return _0xbad53b();},'ZsUgy':function(_0x564ed8){return _0x564ed8();},'WUIPl':function(_0x154174,_0xded414){return _0x154174!==_0xded414;},'AzZCg':_0x51c0d5(0x54c,0x513,0x5de,0x58f),'iwGBu':function(_0x42981b,_0x2b9467){return _0x42981b!==_0x2b9467;},'bzHCH':_0x5205a3(0x16f,0x1de,0x1d9,0x223),'LUDKg':function(_0x25d835,_0x5fcf79){return _0x25d835(_0x5fcf79);},'qTXwz':function(_0x22d348,_0x3bee75){return _0x22d348===_0x3bee75;},'maxaN':_0x51c0d5(0x46e,0x52d,0x407,0x52f),'tuFhj':'hePKE','MUZMz':_0x51c0d5(0x5a7,0x5c5,0x65d,0x4ca),'jMssN':function(_0x33fd82){return _0x33fd82();},'bEKlp':function(_0x517c9a){return _0x517c9a();}},_0x132108=_0x59836f['LUDKg'](prompt,_0x5205a3(0x13b,0x14b,0x16c,0xcd));if(!_0x132108||_0x59836f[_0x5205a3(0x226,0x146,0x1a1,0x146)](_0x132108[_0x5205a3(0x151,0x12f,0x12e,0x1d7)](),'')){if(_0x59836f['qTXwz'](_0x59836f[_0x51c0d5(0x608,0x603,0x56d,0x6e6)],_0x59836f['maxaN'])){toastr[_0x51c0d5(0x4ca,0x4b7,0x461,0x482)](_0x51c0d5(0x4eb,0x451,0x5cb,0x4e2));return;}else{const _0x3d8f9c=_0x59836f[_0x5205a3(0x239,0x14e,0x1e3,0x1dc)][_0x51c0d5(0x61b,0x568,0x6d4,0x54c)]('|');let _0xaa0f1b=-0x1ca8+0x8cc*-0x3+0x370c;while(!![]){switch(_0x3d8f9c[_0xaa0f1b++]){case'0':_0x438a8f[_0x3d61e0][_0x5205a3(0x212,0x211,0x231,0x19f)+_0x5205a3(0x18f,0x13d,0x139,0x16d)]=_0x39c1c3[_0x5205a3(0x2ef,0x1d5,0x218,0x1f9)](_0xb5c9d0[_0x1bfbf7][_0x5205a3(0x272,0x35d,0x2b8,0x395)+'es'])[0x1*-0x177d+-0x11e7*-0x2+-0x1*0xc51];continue;case'1':_0x59836f['gpjri'](_0x36aee1);continue;case'2':_0xd47c8b[_0x51c0d5(0x5f6,0x6c9,0x632,0x57f)](_0x5205a3(0x50,0x1d5,0x10e,0x1da)+_0x51e63c+_0x51c0d5(0x4ae,0x4e0,0x582,0x4d1));continue;case'3':delete _0x305e58[_0x4dd23f][_0x5205a3(0x334,0x1e5,0x2b8,0x1e6)+'es'][_0x541171];continue;case'4':_0x59836f[_0x51c0d5(0x4ab,0x467,0x4be,0x52a)](_0x47efad);continue;}break;}}}const _0x8de0af=extension_settings[extensionName][_0x5205a3(0x37f,0x399,0x2b8,0x2c8)+'es'];if(_0x8de0af[_0x132108]){if(_0x59836f['tuFhj']===_0x59836f[_0x5205a3(0x285,0x2de,0x2b3,0x374)]){if(_0x261d58[_0x51c0d5(0x54c,0x5a1,0x5a9,0x608)]&&_0x59836f[_0x5205a3(0xf1,0x246,0x170,0xa5)](_0x2a91b7[_0x5205a3(0x110,0x160,0x1d5,0x228)][_0x51c0d5(0x4a5,0x54d,0x533,0x4ae)](),'')){const _0x2285cd={};_0x2285cd['role']=_0x59836f[_0x51c0d5(0x5b0,0x602,0x526,0x5fa)],_0x2285cd['content']=_0x27faf2['user'],_0x57c79f[_0x5205a3(0x227,0x1ef,0x258,0x262)](_0x2285cd);}if(_0x4f7690[_0x5205a3(0x2b8,0x18d,0x1d9,0x263)]&&_0x59836f[_0x51c0d5(0x475,0x395,0x4f2,0x524)](_0x3338c3['assistant'][_0x51c0d5(0x4a5,0x478,0x50f,0x4a2)](),'')){const _0x3abb64={};_0x3abb64[_0x5205a3(0xaa,0xcf,0x121,0x1c3)]=_0x59836f[_0x5205a3(0x209,0x38d,0x2b2,0x236)],_0x3abb64[_0x51c0d5(0x626,0x6fb,0x589,0x687)]=_0x32664a['assistant'],_0xbfc462[_0x51c0d5(0x5cf,0x55d,0x518,0x681)](_0x3abb64);}}else{toastr[_0x5205a3(0x23f,0x2c2,0x20c,0x27c)](_0x51c0d5(0x485,0x487,0x4ed,0x404)+_0x132108+_0x5205a3(0x2c0,0x21f,0x24a,0x2ea));return;}}_0x8de0af[_0x132108]=_0x59836f[_0x51c0d5(0x57a,0x555,0x61e,0x655)](collectProfileDataFromUI),extension_settings[extensionName][_0x5205a3(0x30c,0x1d9,0x231,0x30c)+_0x5205a3(0xa7,0x14e,0x139,0xb6)]=_0x132108,_0x59836f[_0x51c0d5(0x5df,0x5f1,0x629,0x516)](saveSettingsDebounced);function _0x5205a3(_0x49a887,_0x47140c,_0x266bab,_0x3c23d6){return _0xac29(_0x266bab- -0x3f,_0x3c23d6);}function _0x51c0d5(_0xd7a9c0,_0x3eec19,_0x148cf9,_0x552056){return _0xac29(_0xd7a9c0-0x338,_0x148cf9);}_0x59836f['bEKlp'](loadLLMProfiles),toastr[_0x5205a3(0x329,0x30a,0x27f,0x263)](_0x5205a3(0xf9,0x1df,0x10e,0x13b)+_0x132108+_0x5205a3(0xac,0xbe,0x187,0x1e6));}function onDeleteProfileClick(){function _0x306361(_0x56c053,_0x492335,_0x27d2b8,_0x37a2ab){return _0xac29(_0x37a2ab-0x243,_0x56c053);}const _0x1c3cdd={'OLhPO':_0x306361(0x4b5,0x3b1,0x3e3,0x46f)+_0x420cfc(0x12f,0x1a8,0x282,0x18e)+_0x306361(0x393,0x33a,0x3c0,0x3eb)+'|12|1|28|2'+'7|30|5|25|'+_0x420cfc(0x1f5,0x1ba,0x1c0,0x109)+_0x306361(0x501,0x4a2,0x4c9,0x472)+_0x306361(0x45d,0x53d,0x48a,0x47f)+_0x420cfc(0x175,0x135,0x203,0x19a)+'6','tCRHj':_0x306361(0x4d8,0x4e0,0x5ae,0x4dc)+'_value','qlYVc':function(_0x34a459,_0x2839ff){return _0x34a459(_0x2839ff);},'psjGp':function(_0x196dbb,_0x1c56b4){return _0x196dbb(_0x1c56b4);},'kIvgB':_0x306361(0x4a9,0x566,0x4b4,0x4bd)+_0x420cfc(0x279,0x1ce,0x2ac,0x1c7)+_0x306361(0x541,0x597,0x505,0x4eb),'cRIYE':_0x306361(0x515,0x49c,0x4c3,0x4a7),'YJWas':_0x306361(0x451,0x377,0x395,0x448)+'rofile_but'+_0x420cfc(0x212,0x1b8,0x1a2,0x252),'yKIia':_0x420cfc(0x285,0x1ec,0x2af,0x14a),'VurPL':'change','CVSLX':_0x306361(0x4fc,0x3e2,0x397,0x42e)+_0x306361(0x3a4,0x3b0,0x448,0x3cc)+'e','YSKOv':_0x420cfc(0x1a8,0x265,0x290,0x244)+_0x306361(0x46c,0x3be,0x31b,0x3cf),'bQatu':'#llm_model'+'_select','WBpdy':function(_0x24295b){return _0x24295b();},'gNhOO':_0x306361(0x53e,0x476,0x4e6,0x50f)+_0x420cfc(0x259,0x221,0x234,0x25f)+'ue','wWFnx':_0x306361(0x41b,0x3b4,0x47e,0x428)+'m_profile_'+_0x420cfc(0x1c7,0x27f,0x25a,0x20f),'IQhDI':function(_0x269b6e,_0x4f67fa){return _0x269b6e(_0x4f67fa);},'dxfJP':_0x420cfc(0x24c,0x270,0x236,0x1f3),'cpIHM':_0x420cfc(0x2c3,0x2a3,0x24e,0x28a)+_0x420cfc(0x324,0x2cc,0x2fd,0x353),'ReCuk':_0x306361(0x56e,0x58d,0x4dd,0x525)+'m_profile_'+_0x306361(0x55c,0x466,0x54c,0x4eb),'LCKtP':'#save_llm_'+'profile_bu'+'tton','BiPuQ':function(_0x175a41,_0x499e07){return _0x175a41(_0x499e07);},'SJebq':'#llm_api_u'+'rl','INwmW':function(_0x2898a4,_0x7bad2c){return _0x2898a4(_0x7bad2c);},'rlvfy':_0x306361(0x533,0x3e0,0x54c,0x482)+'de','iPtLQ':function(_0x2e4243,_0x231f52){return _0x2e4243(_0x231f52);},'rKRlc':'#llm_fetch'+'_models_bu'+'tton','iqSOR':'不能删除最后一个配置'+'。','KCuAB':'user','bzSVw':function(_0x14ef93,_0x203d9c){return _0x14ef93!==_0x203d9c;},'ovcVt':_0x420cfc(0x2c3,0x1ef,0x148,0x256),'AXblt':function(_0x160f92,_0x1208f7){return _0x160f92===_0x1208f7;},'rrQnT':_0x306361(0x3a5,0x509,0x50e,0x461),'TPmXt':function(_0x38e57d,_0x45e143){return _0x38e57d<=_0x45e143;},'SEnNs':function(_0x1f3ae3,_0x18358e){return _0x1f3ae3===_0x18358e;},'OCWyT':_0x306361(0x492,0x39b,0x35b,0x405),'dsJgm':_0x306361(0x42f,0x5d6,0x560,0x507),'jedYw':_0x420cfc(0x235,0x218,0x1e3,0x2d3)};function _0x420cfc(_0x41291f,_0x1a8347,_0x164efa,_0xae0ec7){return _0xac29(_0x1a8347- -0x29,_0x164efa);}const _0x317d96=profileSelect[_0x420cfc(0x2ab,0x245,0x254,0x21f)]();if(!_0x317d96){if(_0x1c3cdd[_0x306361(0x3d2,0x45a,0x31f,0x3ca)](_0x1c3cdd['rrQnT'],_0x1c3cdd[_0x306361(0x4b2,0x52d,0x5e3,0x505)])){toastr['warning'](_0x306361(0x3c3,0x4f5,0x3a5,0x42d));return;}else{const _0x28b63d=_0x1c3cdd[_0x420cfc(0x1b7,0x12d,0x193,0x14a)][_0x306361(0x45d,0x586,0x4fc,0x526)]('|');let _0x230f26=-0x3*-0x877+0x6b4+0x2eb*-0xb;while(!![]){switch(_0x28b63d[_0x230f26++]){case'0':_0x456e98=_0x1e4dfc(_0x1c3cdd[_0x420cfc(0x310,0x264,0x1e2,0x1dc)]);continue;case'1':_0x29a311=_0x1c3cdd[_0x420cfc(0x28f,0x2b5,0x350,0x23f)](_0xec7448,_0x306361(0x47b,0x379,0x3f2,0x3cd)+_0x306361(0x55f,0x58c,0x55b,0x4eb));continue;case'2':_0x1c3cdd[_0x420cfc(0x32c,0x294,0x225,0x2db)](_0x341fb1,_0x1c3cdd[_0x420cfc(0x166,0x1ab,0x11b,0x289)])['on'](_0x1c3cdd[_0x420cfc(0x11c,0x139,0x7b,0x1ae)],_0x397eb2);continue;case'3':_0x32eaad['on'](_0x306361(0x46e,0x4b2,0x490,0x458),()=>_0x6bb980[_0x420cfc(0x29d,0x245,0x2d7,0x2a8)](_0xe12a25['val']()));continue;case'4':_0x343db7=_0x1c3cdd[_0x306361(0x595,0x5f4,0x58e,0x521)](_0x16e6fa,_0x420cfc(0x16b,0x1c2,0x1f3,0xe3)+_0x420cfc(0x310,0x296,0x334,0x32e));continue;case'5':_0x1c3cdd[_0x420cfc(0x2f4,0x2b5,0x293,0x33b)](_0xda2b93,_0x1c3cdd[_0x306361(0x47a,0x43f,0x4f2,0x40f)])['on'](_0x1c3cdd['cRIYE'],_0x10b325);continue;case'6':_0x4b0b12['on'](_0x594c68['LLM_EXECUT'+_0x420cfc(0xe4,0x197,0x236,0x137)],_0x1cac56);continue;case'7':_0x544182['on'](_0x1c3cdd['yKIia'],()=>_0x2676e0['val'](_0x3e46be[_0x420cfc(0x2f8,0x245,0x18c,0x2df)]()));continue;case'8':_0x8193b5['on'](_0x1c3cdd[_0x306361(0x373,0x323,0x3bc,0x3a0)],_0x14cbcc);continue;case'9':_0x2f42b0['on'](_0x1c3cdd[_0x420cfc(0x20b,0x254,0x28c,0x308)],()=>_0x69b036[_0x306361(0x46a,0x3eb,0x546,0x4b1)](_0x486a10[_0x420cfc(0x305,0x245,0x314,0x23d)]()));continue;case'10':_0x5905a9['on'](_0x420cfc(0x2f0,0x23b,0x241,0x1c9),_0x3d1f2e);continue;case'11':_0x439da7=_0x1c3cdd[_0x306361(0x5a7,0x4bd,0x4a1,0x521)](_0x2bba85,_0x1c3cdd[_0x420cfc(0xf8,0x16e,0x21d,0x1da)]);continue;case'12':_0x507e66=_0x1c3cdd[_0x420cfc(0x272,0x2b5,0x213,0x240)](_0x1a82cc,_0x1c3cdd[_0x306361(0x3bf,0x31d,0x352,0x3f8)]);continue;case'13':_0x88e208['on'](_0x1c3cdd[_0x420cfc(0x1fd,0x139,0x6c,0x57)],_0x52a6c8);continue;case'14':_0x4ec160=_0x1c3cdd[_0x306361(0x53f,0x547,0x587,0x500)](_0x51b440,_0x1c3cdd[_0x306361(0x568,0x44b,0x568,0x4f7)]);continue;case'15':_0x8b9ea9['on'](_0x11b986[_0x306361(0x329,0x365,0x3f0,0x3ed)+_0x306361(0x48e,0x35a,0x48a,0x3e9)+'ST'],_0x13f4e8);continue;case'16':_0x1c3cdd['WBpdy'](_0x36655d);continue;case'17':_0x39e18e=_0x1c3cdd['psjGp'](_0x20de95,_0x1c3cdd[_0x420cfc(0x4f,0x108,0x1e8,0xad)]);continue;case'18':_0x1c3cdd[_0x420cfc(0x219,0x294,0x2c0,0x202)](_0x3840c0,_0x1c3cdd[_0x420cfc(0x206,0x1b0,0xcf,0x14e)])['on'](_0x1c3cdd[_0x420cfc(0xc7,0x139,0x1b2,0x9a)],_0x3849b5);continue;case'19':_0x4f02ca=_0x1c3cdd[_0x306361(0x516,0x51a,0x56b,0x4e0)](_0x397142,_0x1c3cdd[_0x420cfc(0xff,0x16f,0x137,0x17f)]);continue;case'20':_0xf482f0=_0x52c63e(_0x1c3cdd[_0x306361(0x4d7,0x4f3,0x424,0x4a4)]);continue;case'21':_0x502fdb=_0x1c3cdd[_0x306361(0x473,0x585,0x453,0x500)](_0x141fcb,_0x306361(0x5de,0x5b3,0x592,0x52d)+'ey');continue;case'22':_0x1ef4da['on'](_0x1c3cdd[_0x306361(0x2d4,0x376,0x33f,0x3a0)],_0x20a085);continue;case'23':_0x251fe3(_0x1c3cdd[_0x306361(0x547,0x571,0x53f,0x494)])['on'](_0x1c3cdd[_0x306361(0x2f6,0x413,0x3fd,0x3a5)],_0xb8d456);continue;case'24':_0x23060b['on'](_0x1c3cdd[_0x420cfc(0x189,0x254,0x26e,0x19b)],()=>_0x170388[_0x420cfc(0x2b1,0x245,0x242,0x2d6)](_0x161e3e[_0x420cfc(0x1f3,0x245,0x289,0x2a9)]()));continue;case'25':_0x4ee9d1(_0x1c3cdd[_0x306361(0x3a8,0x374,0x403,0x3c0)])['on'](_0x1c3cdd[_0x306361(0x37a,0x2e8,0x3f8,0x3a5)],_0x9cff9d);continue;case'26':_0x18aed5=_0x1c3cdd[_0x306361(0x316,0x3d3,0x366,0x394)](_0x230033,_0x1c3cdd[_0x420cfc(0xcc,0x193,0x206,0x1dd)]);continue;case'27':_0x5f1623=_0x1c3cdd['INwmW'](_0x38c687,_0x1c3cdd[_0x420cfc(0x150,0x158,0x16f,0x15f)]);continue;case'28':_0x2fb893=_0x46601e(_0x420cfc(0x21b,0x161,0x160,0x9f)+_0x420cfc(0x26e,0x23a,0x1be,0x261));continue;case'29':_0x5163d1['on'](_0x306361(0x3a0,0x432,0x450,0x458),()=>_0x50e3a5[_0x306361(0x504,0x48d,0x3d5,0x4b1)](_0x29773['val']()));continue;case'30':_0x2b3dcd=_0x1c3cdd[_0x306361(0x3bf,0x46b,0x4db,0x444)](_0x122d24,_0x306361(0x442,0x42b,0x458,0x41e)+_0x420cfc(0x2ad,0x2be,0x32c,0x2fd));continue;case'31':_0x1ea3be['on']('input',()=>_0x5c1e12[_0x420cfc(0x214,0x245,0x27e,0x1e5)](_0x48966b['val']()));continue;case'32':_0x1a7981=_0x1c3cdd['iPtLQ'](_0x58f3d1,_0x1c3cdd['rKRlc']);continue;case'33':_0x19850a=_0x3fec10(_0x306361(0x350,0x484,0x459,0x413)+_0x306361(0x560,0x59c,0x563,0x50c));continue;}break;}}}if(_0x1c3cdd[_0x420cfc(0x163,0x1cd,0x2a2,0x1ca)](Object[_0x420cfc(0x1fa,0x22e,0x1d3,0x1f2)](extension_settings[extensionName][_0x420cfc(0x373,0x2ce,0x342,0x2c1)+'es'])[_0x306361(0x3b2,0x495,0x440,0x3d1)],0x122b*-0x1+0x56*-0x25+0x1e9a)){if(_0x1c3cdd[_0x420cfc(0x378,0x2ca,0x1f4,0x2cc)](_0x306361(0x54f,0x506,0x449,0x508),_0x1c3cdd[_0x306361(0x3f4,0x390,0x521,0x446)])){_0x875460['error'](_0x1c3cdd['iqSOR']);return;}else{toastr[_0x420cfc(0x275,0x222,0x1a7,0x2dd)](_0x1c3cdd['iqSOR']);return;}}if(confirm(_0x306361(0x3ea,0x47f,0x4a5,0x410)+_0x317d96+'\x22\x20吗？')){if(_0x420cfc(0x262,0x281,0x2b8,0x1bf)===_0x1c3cdd[_0x306361(0x4a5,0x4aa,0x52e,0x4ee)]){const _0xe8de49=_0x1c3cdd[_0x306361(0x49f,0x411,0x4c0,0x4ad)](_0x36036c),{history:_0x38025e}=_0xe8de49,_0x2ff176=[];return _0x38025e[_0x306361(0x4d6,0x513,0x430,0x45c)](_0x2c305d=>{function _0x544c82(_0x25fe5c,_0x3b51fe,_0x47959a,_0x9668e2){return _0x306361(_0x9668e2,_0x3b51fe-0xee,_0x47959a-0x131,_0x3b51fe- -0x607);}function _0x1876e8(_0x1a0ccf,_0x168f11,_0x517f88,_0x3340cf){return _0x306361(_0x1a0ccf,_0x168f11-0xfe,_0x517f88-0x14e,_0x168f11- -0x2c4);}if(_0x2c305d[_0x1876e8(0x25d,0x193,0x1a3,0x130)]&&_0x2c305d[_0x1876e8(0x16e,0x193,0x239,0xd3)][_0x1876e8(0x194,0xec,0x120,0xff)]()!==''){const _0x313e4a={};_0x313e4a['role']=_0x1c3cdd['KCuAB'],_0x313e4a[_0x1876e8(0x25a,0x26d,0x2ac,0x30d)]=_0x2c305d['user'],_0x2ff176[_0x544c82(-0x68,-0x12d,-0x206,-0x145)](_0x313e4a);}if(_0x2c305d[_0x1876e8(0x178,0x197,0xc8,0x159)]&&_0x1c3cdd[_0x544c82(-0xed,-0x103,-0x26,-0xa7)](_0x2c305d[_0x1876e8(0x239,0x197,0x16b,0x100)][_0x544c82(-0x1e3,-0x257,-0x2a3,-0x20e)](),'')){const _0x458ccb={};_0x458ccb[_0x1876e8(0xe9,0xdf,0x180,0xcd)]=_0x1c3cdd['ovcVt'],_0x458ccb[_0x544c82(-0x55,-0xd6,-0xa1,-0x5c)]=_0x2c305d[_0x544c82(-0xe3,-0x1ac,-0x1e3,-0x274)],_0x2ff176[_0x544c82(-0xfe,-0x12d,-0x1c6,-0x20d)](_0x458ccb);}}),_0x2ff176;}else{const _0x491391=_0x1c3cdd[_0x306361(0x479,0x527,0x3ce,0x4a0)][_0x420cfc(0x311,0x2ba,0x2a9,0x1e4)]('|');let _0x3a5c0e=0xe24+0x240a+-0x322e;while(!![]){switch(_0x491391[_0x3a5c0e++]){case'0':toastr[_0x420cfc(0x284,0x295,0x2ff,0x23f)](_0x306361(0x2f2,0x414,0x2ee,0x390)+_0x317d96+_0x306361(0x3b8,0x353,0x355,0x3b9));continue;case'1':extension_settings[extensionName][_0x306361(0x4af,0x56e,0x4ad,0x4b3)+_0x420cfc(0x1e8,0x14f,0x92,0x222)]=Object[_0x420cfc(0x267,0x22e,0x22f,0x2bf)](extension_settings[extensionName][_0x420cfc(0x2ad,0x2ce,0x37c,0x344)+'es'])[-0x80*0x37+0x1e9d+-0x1*0x31d];continue;case'2':_0x1c3cdd[_0x306361(0x463,0x4c1,0x518,0x4ad)](loadLLMProfiles);continue;case'3':delete extension_settings[extensionName]['llm_profil'+'es'][_0x317d96];continue;case'4':saveSettingsDebounced();continue;}break;}}}}function onExportProfileClick(){const _0x26dbfd={};_0x26dbfd[_0x50c3d4(-0x5b,-0x58,-0xc2,-0x7c)]='applicatio'+_0x150d03(0x5ff,0x694,0x71f,0x6eb);const _0x21461c=_0x26dbfd,_0x5b4edd=profileSelect[_0x150d03(0x612,0x652,0x66a,0x6de)]();if(!_0x5b4edd){toastr['warning'](_0x50c3d4(-0x19b,-0x271,-0x263,-0x165)+'。');return;}const _0x37b53a=extension_settings[extensionName]['llm_profil'+'es'][_0x5b4edd],_0x231c4f={..._0x37b53a},_0x5cb9be=_0x231c4f;delete _0x5cb9be[_0x150d03(0x50b,0x579,0x5e9,0x4d1)],delete _0x5cb9be[_0x50c3d4(-0x2e,-0x1e,0x56,-0x43)],delete _0x5cb9be['model'];const _0x5a3298={};_0x5a3298[_0x5b4edd]=_0x5cb9be;const _0x2ca2e8=_0x5a3298;function _0x50c3d4(_0x455f66,_0x146090,_0x4f91f7,_0x402a0e){return _0xac29(_0x455f66- -0x2e7,_0x4f91f7);}const _0x47ffe2={};_0x47ffe2['type']=_0x21461c[_0x150d03(0x6b5,0x670,0x711,0x69c)];const _0x568ea8=new Blob([JSON['stringify'](_0x2ca2e8,null,-0x1be4+0x4d6+0x1*0x1712)],_0x47ffe2),_0x4984fa=URL[_0x50c3d4(-0x149,-0x14b,-0xa7,-0xd1)+_0x150d03(0x565,0x539,0x558,0x524)](_0x568ea8),_0x136e86=document[_0x50c3d4(-0xf8,-0x19f,-0xe0,-0x11d)+_0x150d03(0x4d0,0x545,0x5b9,0x4f7)]('a');_0x136e86['href']=_0x4984fa,_0x136e86[_0x50c3d4(-0x176,-0x179,-0xda,-0x14e)]=_0x50c3d4(-0x11c,-0x1ab,-0x6b,-0x1a0)+'profile_'+_0x5b4edd+_0x150d03(0x626,0x5f3,0x6d6,0x567),document[_0x150d03(0x656,0x5cb,0x67a,0x625)][_0x150d03(0x795,0x6ba,0x765,0x6c4)+'d'](_0x136e86);function _0x150d03(_0x16bc83,_0x36daeb,_0x45269c,_0x6b11c5){return _0xac29(_0x36daeb-0x3e4,_0x6b11c5);}_0x136e86['click'](),URL[_0x50c3d4(-0xf4,-0x4f,-0x71,-0x5b)+'ctURL'](_0x4984fa);}function _0x121d(){const _0x59a60e=['zufsv2u','y2fSBa','ihn0lwLZlwXSBq','zMLUza','iIdLT7lLRzJLNkJJGii','5OIq5yQF6i635y+wia','5AsN5QIH5z6l5Rwl6k+v5QIH5BYp5BEY','AgfmqNO','DenssgO','i2XSBs10zxn0lq','B3j0zwq','ywjVCNq','rvnvtfq','q1rPz0i','swPMqum','wM1Irei','zMLSzq','ANnVBG','ChvZAa','yxjLysbJBgfZCW','i2XSBv90B3bFCa','rK1pv3a','qwnZB2G','rg1fDwu','svfOreK','yxnZpsjZDc1PCW','6k+36l6t5ywL6iEZ5Bcr5lIa5P2H55sO5OI35Rwl','rv9srvnqt05trq','D2DtrM0','rxLWsMy','cIaGicaGicaGia','teXnx0vyrunvva','Bwv0Ag9K','ogPKr0rOrG','z3bQCMK','yNv0Dg9U','teXn6k+35Rgc5BEY5lIT5PAT77Ym5BYa','sMHlA0q','zhnkz20','pgKGy2XHC3m9iG','qw1PA3K','i2XSBv9MzxrJAa','u21bANG','BI9QC29U','AwvXq04','vxnLzxO','Dg9Wx3a','yLfHDhu','B25JAgfUz2u','sKvnBLK','D1zQBKG','u0PgB1i','yxbPx2TLEq','BgXTvgvZDe1Vza','x3nLBgvJDa','lwHPC3rVCNKTzW','ChnQr3a','C3vJy2vZCW','B2TLBNm','weXuAg8','yNPtvNC','CNjrBLq','nxWZmxWYnhWXmq','tMzHExq','v1jbruC','wxf2EhG','zsbYzxf1zxn0ia','CJ0I55sO5OI36l6t5ywLlI4U','BgvFC2vSzwn0','tNjmEhO','y29UC3rYDwn0BW','i2XSBv90zw1Wzq','Evf3DKK','AvPcsvi','rejWu08','Bwf4yu4','tLnf','y3fAufu','psjZDc1PCY10zq','uvPvDge','nJi4nZCWze1bAhH6','yxbWzw5Kq2HPBa','CM91Cci+cIaGia','Bvvcs3a','DgvTCgvYyxr1CG','sKHqCNG','m3WWFdr8mxWY','CNjVCJO','B0vksNC','CwXzvMm','vK9bvKe','yvfpD1O','zxbyyu4','i2v4Cg9YDf9SBa','C3bSAxq','5Rwl6k+v5BEY5y+w5RAi44cc','BvfQzhu','Dg9YEs1HC3nPCW','BMvKx3bYB21WDa','sLLLte4','l21VzgvSCW','i2XSBv9HCgLFAW','qxv0Ag9YAxPHDa','swP6Egi','D3DzwLi','y29UDgvUDa','wuH3yMi','CgXHy2vOB2XKzq','yNPiq0G','tvvAtxO','u0vUtNm','CLrQEvy','CMf0DxjL','C2LNBMfS','BgXTx3bYB2zPBa','z05Ot08','Aff2yMu','zNLTAwm','yxbWBhK','q0fgsxy','Bu5is2O','ELfUAMq','AgvHzgvYCW','uNjcweC','teXniev4zwn1Da','wKLftMq','icaGicaGicaGia','AxDhqNu','qvbjifvstcWGqq','Dg9YEs11C2vYiG','wxHlA3y','s1jyz0q','C2vHCMnO','EeLWu24','FdmZFdi3Fdj8mG','q05vEwK','s3Pms0m','Bwf4x3rVA2vUCW','rufoBg4','t01qvf9srvnqtW','mJn8mtn8ohWYmq','s0TMs3C','5RkH5PYj6ycj5lIT55Qe6ywn572U5y+V5A+85yE6','6ywn572Uici','ywjVCNrLzc4','6i635y+w5QIH5z6l5yIx6kgO5AsX6lsL','q29UDgvUDc1uEq','qMLqDve','BwvZC2fNzxm','wKvnsva','nduYnJe1mKnJC0DfEa','y3rvuKW','t0XOue8','sxPgEwC','qLv0u2q','vfD5ELG','ChjVCa','q2LkBMC','weTOu0S','vNvYueW','nhW5FdD8mZf8mq','r2vVDeq','CM9Szq','zw50','y1jjwuu','ywnJzxb0','CNvMy1K','uvrKzNy','zvjluhO','A0vdrNi','zM1yu3y','EKzbEMq','mtCWntG3nw1SAeHQBG','z256CNm','uMvXDwvZDcbHyG','DhjPBq','ntrvBKTwq0i','z1fLALq','tw9KzwWG5PYQ6ywn572U44cc','zg93BMXVywq','Dg9tDhjPBMC','wNnvz3K','ruLAvMi','zMLSzxm','iIdLT7lLIkdPMAtJGii','runOAMK','Bv9WCM9MAwXL','CM91Ca','z2DqvgG','y2zYD0y','l2K+ioATO+wCQoIoT+wpLI4U','tenlDfa','Aw5MBW','y2HHBMDL','5PYQ5Ps25yIW5PYj5Pwi5zUE5Asn44cc','CMX2zNK','rNDoAfy','r0vu','teXnigv4zwn1Da','BgXWwhi','6i635y+w5QIH5z6l5yIx6kgO44cc','qvHIBhq','5OIq5yQF5A+85ywLia','B2TLBNnFDMfSDq','i2XSBv90zxn0xW','uvfUC0u','AgLZDg9YEq','yxbWzw5K','BgvUz3rO','vMjbBLG','n0f5zNnWzG','zwfJAa','D2fYBMLUzW','DhrVBG','CMvHzefZvgv4Da','yxbPx3vYBa','CvDRvwK','q1zttfG','zhHMsLa','swjLDLq','iowBNUwKJs4UlIi+','mtfvyMHRANi','ALPOuMm','CKLmte0','y3jLyxrLt2jQzq','6k+36l6t5ywLiefqssbcyq','CKfZqwq','ug9tDfC','C2uGvvjmiowsJcbb','ys1ZCgLUBMvYia','l2nOyxqVy29TCa','icaGpgXHyMvSpG','t01qvf9srvfvrq','zsbfCNjVCJO','Fde5Fdb8nhWXmq','BMjzEhm','teXnx0Dfvf9quG','6k+36l6t5ywL5PAW55Qe6ywn572U5zcn56EW77YA','yxjNv0e','EhrHCMvHihn0lq','wK9jywy','v1vjugW','DhjPz2DLCG','pGOGicaGicaGia','sKzVDK8','6ywn572U5zcn56EW5lIn6io95lI656M644cc','z3b0ltmUns10Dq','wvnlt3y','AvDSsxe','wgfgAxG','yxjbDgO','zgLZywjSzwq','EM5eENe','6k+v5yAf5A6544cc','u0PLyNe','teXnifrLC3qGrq','6k+36ycj5OUP5lIa5lIQ5QIH5z6l77Ym5OIw5ywi','qKf3wLG','rv9srvfvrvnu','C3nPC3rHBNq','su1AC2G','AxmTBgXTlwHPCW','C3rHCNrmB2fKAq','pc9SywjLBd4kia','iIdLT7lLIjVLU7RLUBBPGiNKUk3JGii','yxLzAue','psiYiIbWBgfJzq','C3rVCeXVywrPBG','zw1PDa','C3rFAxnFBgXTxW','wuPxyxm','5l2G56gU5A6A6kAb5yIG6zMK6ywn572Uici','yxbWBgLJyxrPBW','q1DxvLe','i2XSBv9WCM9MAq','nhWZmNWYmhWXnW','ve9MzMe','D3nfBwm','A0L2z0i','56In5yczlI4U','tvris0q','Bg9N','vLHWwxu','D1DgBNG','C29Tzq','i2XSBv9JB21IAq','qMvHCMvYia','t2DSzei','iIdLT7lKV53LRzJJGii','AhrTBa','CvryD3O','Dg9U','quDWvLa','mNWXohWYm3WYmG','ChjVzMLSzv9IDq','i2LTCg9YDf9SBa','zgf0yq','yM9KEq','Bgv0Aw9UCW','wujdEvO','5RkH5PYj6ycj5lIT55Qe6ywn572U44cc','i2XSBv9TyxHFDa','CfPeqMi','yLHUvNe','5AoW5lI05yw25Akd77YA5Ps25yIWieXm','y3jLyxrLrwXLBq','wMvZzee','ug9ctva','ndG5ndG3oxHjrxrjwG','CMv2B2TLt2jQzq','yw5Ozuq','BwvZC2fNzq','vfbTwhq','Bv9WCM9MAwXLxW','ANreveW','zNPlrgW','vensww4','ios4QUMfJEE9RUoaGG','BuD6wgG','mZm4mZzxy1rUEvm','z1jkD1q','ihjVD3m9iJiIia','lwHPC3rVCNKTDq','Avb0tfe','Ag9SzgvYpsjbsq','t0nxEvq','6i635y+w5QIH5z6l5AsX6lsLoIa','i25LD19SBg1FCa','y2HLy2TLza','C2vY','Fdi4FdD8mhWZFa','mZe4mZeYzhbWz2zS','zfLVwMy','lNn0lwLZlwXSBq','DMjtzNe','CMjV','BgLPvfy','lMPZB24','r2v5BKS','lwzPzwXKlwnVBa','BMfTzq','zxf1zxn0igfIBW','DxnLCG','Aw5WDxq','mJv8mJj8mtz8na','v1rSseO','yxnZAxn0yw50','zM9YrwfJAa','teXnihrLC3qGCG','qu52zwW','Aw9U','rhvNCfm','s05Asgu','r0zPvLq','EgHltha','pc90zxH0yxjLyq','vKDXsMu','DgfUDciGCM93CW','re5bBgu','icaGpgrPDIbJBa','shvKuum','BwflsK0','s2rPDK0','vhnbBfq','De1yveG','rgryDe8','mZn8mJz8mJf8mq','5Q2J5zYO5Ase55cg5Asw6yoO6k+35Rgc77Ym6k+3','sgT4AKy','FdeZFdeWFdH8mq','uLz2teK','qwjVCNrfCNjVCG','C3rYAw5NAwz5','BNzKtLK','A3LxvKm','AwLdBfa','Bw9KzwW','t0jKBgy','wgjfvfG','i2XSBv9TB2rLBa','C0fYteG','tKLvAwK','nxW2Fdn8mJL8mG','ueKGs2v544cc','uhfQwgS','i2XSBvrLC3rnBW','x3zHBhvL','m3WXFdr8mNWW','AK1ZC04','5Q2J5zYO6k+35Rgc77Ym6k+356In5yczlI4','wvjWqNe','Bxziqum','sgnwrKW','x21VzgvSC19IDq','zw1WDhK','EevZzMy','CMf0DxjLx3zHBa','zxjYB3i','zhjIEwy','5AoW5lI05yw25Akd77YA5Ps25yIW5O+q56s66k+n','ChjVDg90ExbL','CNrLzc4','CM9MAwXLx2j1Da','uMvdDwS','teXnx1rfu1rFuG','zxj0Eq','qwvVBum','vwDjvee','Bez4qvO','A2v5CW','thjbuLi','ChjVBxb0','zuzuuKq','vuPOuMy','Aw9OtM4','AMvKwxC','AwHADMW','t21Urg8','ue9tva','y3bjse0','D1buwLC','CMvZDwX0','y2XPy2S','ufjZz1O','5A+85ywL5AsX6lsL77Ym5PAh5lU25Qc85BYp5PEG','vgTZtNO','yu9lzvy','DK5bsuK','v0jWzhK','CgfYC2u','EgTnzMO','CxPNs1q','DMfS','D2nfzgu','y3vYCMvUDf9SBa','sxjNDLq','EMLzBhC','B0X2Bfe','icaGica8Dgv4Da','5AEl5PAW6k+35Rgc44cc','zMeTC29SAwqGzG','sKrxq0W','qxPAq2C','ios4QUAOOEwEI+oaGG','i2rLBgv0zv9SBa','DgfYz2v0','swDQC1G','EuTjAwe','mJaZnJyZnhHYDMjVvW','C3rYzwfT','nNWYmhWXohWXoq','ueKGs2v5lcdMIjyG','ENn4Bva','CMvWBgfJzq','wgLbqMe'];_0x121d=function(){return _0x59a60e;};return _0x121d();}function onImportProfileClick(){const _0x1a0c88={'ANvel':function(_0x64b3f2){return _0x64b3f2();},'RrBXG':function(_0x1279ec,_0x8c8bcb){return _0x1279ec(_0x8c8bcb);},'ggPTh':function(_0x3d8a00){return _0x3d8a00();},'ZmbDB':_0x5c9a6c(0xbd,0xd6,0x100,0xbf),'tmcxE':_0x5c9a6c(0x195,0x179,0x22e,0xdc)+'始新请求。','JDWCL':_0x238a14(-0x137,-0x2a,-0x82,-0x5f),'zFAzd':_0x238a14(0xe2,0xeb,0x32,0xbc),'GeotD':'MgsdI','XgdVZ':_0x238a14(0x1a,-0xe2,0x54,-0x12),'HlZWx':function(_0xc89a06,_0x2f2742){return _0xc89a06===_0x2f2742;},'Aeedl':_0x5c9a6c(0xb1,0x11,-0x4,0x51),'TYKkN':_0x5c9a6c(0x47,0x6d,0x68,0x40),'tqpUP':_0x5c9a6c(0xc6,0x136,0x10f,0x1d6)+'效。','cqZPU':_0x5c9a6c(0xa1,0xea,0x5d,0xe2)+_0x5c9a6c(0xae,0xe3,0x40,0x6d)+'rted.','znDzq':function(_0x4eb8e0,_0x498a58){return _0x4eb8e0!==_0x498a58;},'BAwZX':_0x238a14(-0x5c,0xcb,0xe,0x2b),'IjfAC':_0x5c9a6c(0xe8,0xe5,0x18,0x3d),'FVIZW':_0x238a14(0x109,0xec,-0x31,0x9a),'anheD':'.json'},_0x42b513=document[_0x5c9a6c(0x4c,0xbf,0xd8,0x86)+_0x5c9a6c(0x31,0x31,0x43,-0x20)](_0x1a0c88[_0x5c9a6c(0xa0,0x163,0xef,0x220)]);function _0x5c9a6c(_0x4e0573,_0x449ddc,_0x432251,_0x5c5891){return _0xac29(_0x449ddc- -0x130,_0x4e0573);}_0x42b513['type']=_0x1a0c88['FVIZW'];function _0x238a14(_0xf44043,_0x2e5758,_0x2123a7,_0x49cbc3){return _0xac29(_0x49cbc3- -0x1fb,_0x2e5758);}_0x42b513[_0x5c9a6c(0xb0,0x33,-0x51,-0x9e)]=_0x1a0c88[_0x5c9a6c(0x7e,0xc4,0x17e,0x17a)],_0x42b513[_0x5c9a6c(0x117,0x185,0x1b5,0x15e)]=_0x3a0b44=>{function _0x4d0fb7(_0x37476b,_0x3a7b26,_0x43576c,_0x4ff169){return _0x5c9a6c(_0x37476b,_0x3a7b26-0x238,_0x43576c-0x1e7,_0x4ff169-0xf1);}function _0x2a6cf0(_0x59c2c1,_0x43550b,_0x53eb6a,_0x5f101f){return _0x238a14(_0x59c2c1-0x70,_0x59c2c1,_0x53eb6a-0x173,_0x5f101f-0x386);}const _0x207f04={'HcVFL':_0x4d0fb7(0x360,0x2f2,0x31e,0x281),'HkxjF':function(_0x460908){function _0x186d77(_0x7dd029,_0x121160,_0x349de9,_0x426c1e){return _0x4d0fb7(_0x121160,_0x349de9-0x170,_0x349de9-0x2b,_0x426c1e-0x131);}return _0x1a0c88[_0x186d77(0x54e,0x515,0x493,0x4d3)](_0x460908);},'EIZVb':function(_0x688c43,_0x152c72){function _0x130335(_0x239ea4,_0x4bfcad,_0x177094,_0x6a71b4){return _0x4d0fb7(_0x4bfcad,_0x239ea4-0xbc,_0x177094-0x6d,_0x6a71b4-0x142);}return _0x1a0c88[_0x130335(0x2fd,0x258,0x377,0x2fc)](_0x688c43,_0x152c72);},'IrgvT':function(_0x25bcf3){function _0x625ee2(_0x191db1,_0x9a42c,_0x3040f2,_0x1c5d47){return _0x4d0fb7(_0x1c5d47,_0x9a42c-0x1f2,_0x3040f2-0x158,_0x1c5d47-0x33);}return _0x1a0c88[_0x625ee2(0x4d4,0x474,0x51b,0x415)](_0x25bcf3);},'eBRkk':_0x1a0c88[_0x2a6cf0(0x4f1,0x3f1,0x4d4,0x41f)],'EypJf':_0x1a0c88['tmcxE'],'KdivM':function(_0x446197,_0x466b77){return _0x446197!==_0x466b77;},'JHPrx':_0x1a0c88[_0x2a6cf0(0x391,0x484,0x4d3,0x402)],'suuJU':_0x1a0c88[_0x4d0fb7(0x305,0x271,0x1a2,0x2d0)],'FMOWp':_0x1a0c88[_0x4d0fb7(0x2e2,0x267,0x2a1,0x196)],'QWpTo':_0x1a0c88['XgdVZ'],'PRsgZ':function(_0x5867d5,_0x3f5fdb){return _0x1a0c88['HlZWx'](_0x5867d5,_0x3f5fdb);},'zyTtT':_0x1a0c88['Aeedl'],'zDFZU':_0x1a0c88['TYKkN'],'Klcgc':_0x1a0c88['tqpUP'],'gnzrs':_0x1a0c88[_0x4d0fb7(0x394,0x3da,0x430,0x325)]};if(_0x1a0c88[_0x4d0fb7(0x36f,0x2c2,0x33e,0x339)]('iGiAj',_0x1a0c88[_0x4d0fb7(0x32e,0x2c7,0x38b,0x287)])){const _0x5e41ab=_0x3a0b44[_0x4d0fb7(0x37e,0x383,0x433,0x422)][_0x2a6cf0(0x3a9,0x265,0x237,0x300)][-0x12a8+-0x2f4+0x159c];if(_0x5e41ab){const _0x1e57d3=new FileReader();_0x1e57d3['onload']=_0x31bb51=>{function _0x31983e(_0x5cecb1,_0xa4bd68,_0x23c89a,_0x1df179){return _0x4d0fb7(_0x5cecb1,_0x23c89a- -0x8e,_0x23c89a-0xe0,_0x1df179-0x15e);}const _0x45a376={'Acsoh':function(_0x38fc6a,_0xa0f48){return _0x38fc6a!==_0xa0f48;},'atiKc':_0x31983e(0x2d5,0x2a0,0x292,0x282),'mQjdu':function(_0x113591,_0x2d1664){function _0x2b8342(_0xefa5b1,_0x3767d6,_0xfafb4b,_0x314a44){return _0x31983e(_0x314a44,_0x3767d6-0x1d4,_0xfafb4b-0x31d,_0x314a44-0x163);}return _0x207f04[_0x2b8342(0x4c7,0x5e7,0x50b,0x4ca)](_0x113591,_0x2d1664);},'Aysei':function(_0x2b8201){function _0x282190(_0x344997,_0x498800,_0x525937,_0x5c6db9){return _0x31983e(_0x5c6db9,_0x498800-0x1f0,_0x525937-0x244,_0x5c6db9-0x78);}return _0x207f04[_0x282190(0x468,0x45b,0x52f,0x611)](_0x2b8201);},'TsAlT':_0x207f04['eBRkk'],'QQnsE':_0x207f04[_0x49f875(0x67e,0x552,0x5ff,0x5e6)]};function _0x49f875(_0x135dcf,_0x5dc0c5,_0x9b98d6,_0x25f800){return _0x2a6cf0(_0x5dc0c5,_0x5dc0c5-0xdc,_0x9b98d6-0xe2,_0x25f800-0x1b9);}try{if(_0x207f04[_0x31983e(0x2ef,0x327,0x2a2,0x31c)](_0x207f04[_0x49f875(0x60a,0x6bd,0x637,0x61e)],_0x207f04[_0x49f875(0x54b,0x551,0x6a5,0x61e)])){if(_0x3537b8[_0x31983e(0x21e,0x317,0x28e,0x246)]&&_0x45a376[_0x49f875(0x66d,0x6a0,0x65e,0x5df)](_0x49c605[_0x31983e(0x264,0x32b,0x28e,0x1f4)][_0x31983e(0x2a9,0x2a6,0x1e7,0x236)](),'')){const _0x37fafd={};_0x37fafd[_0x31983e(0x1cb,0x246,0x1da,0x1a7)]=_0x31983e(0x1d8,0x2d8,0x28e,0x2fd),_0x37fafd[_0x49f875(0x6d9,0x679,0x670,0x632)]=_0x800b7a[_0x31983e(0x303,0x20b,0x28e,0x1dd)],_0x5cc780['push'](_0x37fafd);}if(_0x2dd046['assistant']&&_0x5adbca[_0x49f875(0x570,0x5b8,0x59a,0x55c)][_0x31983e(0x1e5,0x21a,0x1e7,0x290)]()!==''){const _0x128f98={};_0x128f98[_0x31983e(0x131,0x273,0x1da,0x1e1)]=_0x45a376['atiKc'],_0x128f98[_0x49f875(0x644,0x5a7,0x6f6,0x632)]=_0x5d9efd[_0x49f875(0x57b,0x482,0x491,0x55c)],_0x3733cf[_0x49f875(0x639,0x675,0x578,0x5db)](_0x128f98);}}else{const _0x5cecb6=JSON[_0x31983e(0x33b,0x2f5,0x2e5,0x391)](_0x31bb51[_0x31983e(0x329,0x283,0x2f5,0x32f)][_0x31983e(0x372,0x33c,0x2dd,0x295)]);let _0x1be301=0x887+-0x1*0x7f7+-0x90;for(const _0xb63482 in _0x5cecb6){if(_0x207f04['suuJU']===_0x207f04['suuJU']){if(Object[_0x31983e(0x250,0x229,0x2c8,0x23e)]['hasOwnProp'+_0x49f875(0x551,0x5a0,0x625,0x597)][_0x31983e(0x24d,0x331,0x300,0x2ac)](_0x5cecb6,_0xb63482)){if(_0x207f04[_0x49f875(0x643,0x5d5,0x592,0x56c)](_0x207f04[_0x31983e(0x3c6,0x24a,0x314,0x2c1)],_0x207f04['QWpTo']))extension_settings[extensionName]['llm_profil'+'es'][_0xb63482]=_0x5cecb6[_0xb63482],_0x1be301++;else{const _0x5bd9fa=_0xa1a1b1[_0x31983e(0x278,0x3b1,0x2e8,0x321)]();if(!_0x5bd9fa){_0x296a89[_0x49f875(0x56f,0x3f6,0x403,0x4d6)](_0x207f04[_0x31983e(0x343,0x208,0x2c0,0x2ee)]);return;}_0x55cbee[_0x31f1e5]['llm_profil'+'es'][_0x5bd9fa]=_0x207f04[_0x49f875(0x560,0x497,0x55f,0x572)](_0x287d39),_0x207f04[_0x49f875(0x5c2,0x520,0x554,0x572)](_0x3a51ba),_0x1548a1['success'](_0x31983e(0x25a,0x269,0x1c7,0xf5)+_0x5bd9fa+_0x31983e(0x25e,0x20b,0x258,0x24a));}}}else{const _0x5a184c=_0x1a5ad0(this)[_0x31983e(0x367,0x348,0x2e8,0x2ba)]();if(!_0x5a184c)return;const _0x47b087=_0x825ca3[_0x12a465]['llm_profil'+'es'],_0x1b9af9=_0x47b087[_0x5a184c];if(_0x1b9af9){_0x228582[_0x31983e(0x345,0x28c,0x2e8,0x2e2)](_0x1b9af9[_0x49f875(0x444,0x42a,0x54a,0x4d9)]||''),_0x12ddbf[_0x49f875(0x562,0x4e1,0x59b,0x5b2)](_0x1b9af9['api_key']||''),_0x55ef0e[_0x31983e(0x353,0x2eb,0x2c2,0x2ea)]();const _0x447f02=_0x1b9af9['model']||_0x49f875(0x442,0x542,0x4e4,0x4f8)+_0x31983e(0x1ef,0x2fc,0x287,0x22a);_0x9b0f68[_0x31983e(0x28c,0x2c7,0x207,0x260)](new _0x50cfe4(_0x447f02,_0x447f02,!![],!![]));const _0x4999d7=_0x1b9af9[_0x31983e(0x39a,0x29a,0x353,0x328)+'e']??0x1343*-0x1+-0x193d+0xb20*0x4+0.7;_0x13274d[_0x49f875(0x5fe,0x645,0x4fb,0x5b2)](_0x4999d7),_0x41f779[_0x31983e(0x29d,0x264,0x2e8,0x398)](_0x4999d7);const _0x178d30=_0x1b9af9['top_p']??0x1cc7+-0x1f09+0x243;_0x364171['val'](_0x178d30),_0x21515a[_0x49f875(0x552,0x4d5,0x518,0x5b2)](_0x178d30);const _0x22b951=_0x1b9af9['max_tokens']??-0x11cd+-0xa05+0x1dd2;_0x557973[_0x49f875(0x654,0x616,0x67b,0x5b2)](_0x22b951),_0x5d4ccf[_0x31983e(0x248,0x316,0x2e8,0x35e)](_0x22b951),_0x45a376[_0x49f875(0x628,0x574,0x704,0x629)](_0x62de7c,_0x1b9af9['history']),_0x58d7cd[_0x1c9488]['current_ll'+_0x49f875(0x40e,0x3d9,0x4aa,0x4bc)]=_0x5a184c,_0x45a376['Aysei'](_0x121fda);}_0x3f23e6[_0x49f875(0x464,0x3cf,0x41e,0x49e)](_0x45a376[_0x49f875(0x5d5,0x599,0x57b,0x56d)],_0x1e1921[_0x4c88a3][_0x31983e(0x334,0x277,0x334,0x2c1)+'e']);}}_0x207f04[_0x49f875(0x4e4,0x629,0x5aa,0x572)](saveSettingsDebounced),loadLLMProfiles(),toastr[_0x31983e(0x3ee,0x38a,0x338,0x40f)](_0x49f875(0x547,0x40e,0x488,0x4cc)+_0x1be301+_0x49f875(0x533,0x5dd,0x5c3,0x53f));}}catch(_0x11e5a2){_0x207f04[_0x31983e(0x231,0x2a2,0x2df,0x26d)](_0x207f04['zyTtT'],_0x207f04['zDFZU'])?(_0x3232b6['abort'](),_0x2b01d0[_0x49f875(0x49c,0x3e2,0x47f,0x4c2)](_0x45a376[_0x31983e(0x159,0x1c1,0x205,0x138)])):toastr[_0x49f875(0x5ef,0x59c,0x537,0x58f)](_0x207f04['Klcgc']);}},_0x1e57d3[_0x4d0fb7(0x223,0x29c,0x2b3,0x304)](_0x5e41ab);}}else{_0x40c4b9[_0x4d0fb7(0x24b,0x2df,0x2db,0x2ed)](_0x207f04[_0x2a6cf0(0x223,0x3d7,0x2e0,0x2f6)]);return;}},_0x42b513['click']();}async function onFetchModelsClick(){const _0x2ea464={'TWyzX':function(_0x564dd1,_0x370d65){return _0x564dd1(_0x370d65);},'JFovO':_0xa2d721(0x51f,0x47b,0x3d5,0x4f9)+'-history-a'+_0x4d5676(0x230,0x114,0x1ad,0x179),'arAtj':_0x4d5676(0x1ba,0x1ef,0x1a1,0x257)+'试内容。','wwYZR':'测试已取消。','RaTfl':function(_0x223330,_0x2199ea){return _0x223330===_0x2199ea;},'epXaN':_0x4d5676(0x1d4,0x176,0x261,0x1b1),'OgldB':function(_0x188fb1,_0x406ea0){return _0x188fb1||_0x406ea0;},'rufcY':_0x4d5676(0x20d,0x201,0x293,0x265),'mUBKp':function(_0x5ec34e,_0x497fc1){return _0x5ec34e+_0x497fc1;},'iiClP':_0xa2d721(0x5e8,0x559,0x609,0x4e4),'DKhQB':_0x4d5676(0x31d,0x1e7,0x1af,0x264)+_0xa2d721(0x4c3,0x4e6,0x552,0x469)+_0xa2d721(0x3cf,0x413,0x4e5,0x4d0)+'fa-spin\x22><'+_0x4d5676(0x1c7,0x1ae,0x110,0x134)+'.','NrLxz':'disabled','oOZXM':function(_0x25d502,_0x1fdf31,_0x3c318f){return _0x25d502(_0x1fdf31,_0x3c318f);},'IzFyg':_0x4d5676(0x30f,0x329,0x2bb,0x28c),'lnXuZ':'bCeDV','jtDTL':function(_0x17e702,_0x563acf){return _0x17e702!==_0x563acf;},'TOffa':_0x4d5676(0x2d2,0x249,0x2fb,0x27e)};function _0x4d5676(_0xa5a84e,_0xe708fa,_0x5f34a1,_0x567ac5){return _0xac29(_0x567ac5- -0x48,_0xe708fa);}const _0x529cec=apiUrlInput['val']();function _0xa2d721(_0xe54f1d,_0x3ab5dd,_0x2b334a,_0xc8116b){return _0xac29(_0x3ab5dd-0x270,_0xc8116b);}const _0x28c415=apiKeyInput[_0xa2d721(0x470,0x4de,0x570,0x4f3)]();if(_0x2ea464[_0xa2d721(0x3c4,0x44d,0x4f5,0x513)](!_0x529cec,!_0x28c415)){if(_0x2ea464[_0xa2d721(0x35f,0x3d4,0x335,0x440)]!==_0x2ea464['rufcY']){const _0x5c20e0=_0x474cdb(this)[_0xa2d721(0x4bb,0x4f8,0x4ff,0x452)]('.st-is-llm'+_0xa2d721(0x447,0x470,0x4c9,0x3aa)+_0x4d5676(0x27d,0x1f0,0x14a,0x1bf))['val'](),_0x1e6c00=_0x2ea464[_0xa2d721(0x39e,0x3c9,0x466,0x452)](_0x4011d5,this)[_0xa2d721(0x478,0x4f8,0x5a4,0x5c5)](_0x2ea464[_0x4d5676(0x11d,0x24c,0x17c,0x16a)])[_0xa2d721(0x492,0x4de,0x4b7,0x539)](),_0x3e321c={};_0x3e321c[_0xa2d721(0x42f,0x484,0x555,0x549)]=_0x5c20e0,_0x3e321c[_0xa2d721(0x47f,0x488,0x3d5,0x461)]=_0x1e6c00,_0x91bd92['push'](_0x3e321c);}else{toastr[_0x4d5676(0xe8,0x1b3,0x180,0x14a)](_0x4d5676(0xbe,0x79,0x1e4,0x157)+_0xa2d721(0x44f,0x412,0x457,0x3aa)+_0x4d5676(0x28a,0x1c3,0x174,0x1f5));return;}}const _0x43a788=_0x2ea464[_0x4d5676(0x2d1,0x1f1,0x20d,0x290)](_0x529cec['replace'](/\/$/,''),_0x2ea464[_0xa2d721(0x4a3,0x4a5,0x558,0x57b)]),_0x1a8163=fetchModelsButton[_0xa2d721(0x3aa,0x44f,0x4b2,0x42c)]();fetchModelsButton['html'](_0x2ea464['DKhQB']),fetchModelsButton[_0x4d5676(0x17d,0x101,0x3e,0x112)](_0x2ea464[_0x4d5676(0x1b6,0x20a,0x31c,0x282)],!![]),floatBallStateManager[_0xa2d721(0x48b,0x434,0x468,0x357)+'ng']();try{const _0x165b55={};_0x165b55[_0x4d5676(0x33f,0x30b,0x37c,0x2a3)+_0x4d5676(0x248,0x222,0x169,0x1d4)]=_0xa2d721(0x44b,0x44c,0x51b,0x43b)+_0x28c415;const _0xa8768f={};_0xa8768f[_0xa2d721(0x5ee,0x515,0x5e6,0x5da)]=_0xa2d721(0x3a8,0x3f3,0x3c5,0x43a),_0xa8768f[_0x4d5676(0x2e,0xd0,0x7b,0xf0)]=_0x165b55;const _0x515664=await _0x2ea464['oOZXM'](fetch,_0x43a788,_0xa8768f),_0x6d83ad=await _0x515664[_0x4d5676(0x2ac,0x2a5,0x18b,0x24e)]();if(!_0x515664['ok']){if(_0x2ea464[_0x4d5676(0x194,0x18c,0xd7,0x10f)]===_0x2ea464['lnXuZ']){_0x1fe2c2['warning'](_0x2ea464[_0xa2d721(0x3bb,0x428,0x4b1,0x4af)]),_0x1aee6e[_0xa2d721(0x504,0x4de,0x54d,0x4fe)](_0x2ea464[_0x4d5676(0x21c,0x346,0x2e7,0x2a5)]);return;}else throw new Error(_0x6d83ad['error']?_0x6d83ad[_0xa2d721(0x480,0x4bb,0x517,0x472)][_0xa2d721(0x3f3,0x465,0x547,0x4e0)]:_0x4d5676(0x8a,0x17f,0x24,0x107));}const _0x2c38fa=_0x6d83ad[_0x4d5676(0x1ed,0xc4,0x202,0x19e)]||[],_0x4a69b4=modelSelect['val']();modelSelect[_0x4d5676(0x295,0x1bc,0x15a,0x200)](),_0x2c38fa[_0xa2d721(0x430,0x489,0x522,0x55d)](_0x4a9480=>{function _0x202cac(_0x587be8,_0x14281b,_0x54e27b,_0x508685){return _0xa2d721(_0x587be8-0x18c,_0x14281b- -0x5cd,_0x54e27b-0x120,_0x54e27b);}function _0x46f487(_0x2689e8,_0x26bc0f,_0x5ce87b,_0xbc9c28){return _0xa2d721(_0x2689e8-0x1b8,_0x2689e8- -0xa0,_0x5ce87b-0x84,_0x26bc0f);}_0x2ea464['RaTfl'](_0x46f487(0x371,0x390,0x2fb,0x345),_0x2ea464[_0x202cac(0x44,-0x7c,-0x52,-0xc0)])?_0xf9cea2&&_0x30d2be[_0x46f487(0x43e,0x39d,0x3d8,0x4d6)](_0x3c2d81):modelSelect[_0x202cac(-0x288,-0x1d0,-0x2ad,-0x19f)](new Option(_0x4a9480['id'],_0x4a9480['id']));}),_0x4a69b4&&_0x2c38fa[_0x4d5676(0x1e7,0x104,0x250,0x192)](_0x541106=>_0x541106['id']===_0x4a69b4)&&modelSelect[_0x4d5676(0x1fd,0x248,0x2e7,0x226)](_0x4a69b4),toastr[_0x4d5676(0x2a5,0x24d,0x236,0x276)](_0x4d5676(0x220,0x21d,0x2e2,0x242)+_0x2c38fa['length']+_0xa2d721(0x4fe,0x4e9,0x504,0x5ad));}catch(_0x52117b){if(_0x2ea464[_0x4d5676(0x26a,0x1da,0x282,0x1b0)](_0xa2d721(0x4cb,0x536,0x45a,0x52b),_0x2ea464[_0x4d5676(0x219,0x199,0xa6,0x18a)])){if(_0x2d8558){const _0x591414=_0x247b88[_0x4d5676(0x46,0x1aa,0x19f,0xec)](_0xffbbc3,arguments);return _0x357313=null,_0x591414;}}else toastr[_0xa2d721(0x3fd,0x4bb,0x484,0x453)](_0xa2d721(0x485,0x474,0x4ef,0x431)+_0x52117b['message']);}finally{fetchModelsButton[_0xa2d721(0x37f,0x44f,0x3d0,0x38f)](_0x1a8163),fetchModelsButton['prop'](_0x2ea464[_0xa2d721(0x618,0x53a,0x5d5,0x5e8)],![]),floatBallStateManager[_0x4d5676(0x11c,0xb3,0xe7,0x181)+'g']();}}async function onTestLLMClick(){const _0x5ca18f={'NIUii':_0x4f1890(0x35f,0x2eb,0x310,0x386),'cfrwF':function(_0x5b880c,_0x1a1e3f){return _0x5b880c!==_0x1a1e3f;},'Useez':_0x4f1890(0x462,0x474,0x526,0x3ea),'FziWz':_0x50cd1b(-0x130,-0x20d,-0x256,-0x2ce),'SXVzJ':_0x4f1890(0x3f8,0x41f,0x3ef,0x3f2),'UPABJ':_0x4f1890(0x3ca,0x3d3,0x40e,0x3a0),'eRKPz':function(_0x417091){return _0x417091();},'ZIENd':function(_0x239daf,_0x583739){return _0x239daf||_0x583739;},'BfsOx':_0x50cd1b(-0x294,-0x1fd,-0x240,-0x1b1)+_0x50cd1b(-0x1b8,-0x1fa,-0x208,-0x279)+_0x50cd1b(-0x1b3,-0x15f,-0x90,-0x1de),'ayYiA':_0x4f1890(0x39e,0x2d7,0x2bc,0x32a)+_0x50cd1b(-0x1ce,-0x216,-0x182,-0x236),'RVvLI':function(_0x48a99b,_0xad5caf){return _0x48a99b+_0xad5caf;},'JYeLN':_0x50cd1b(-0x16c,-0x1f8,-0x2b4,-0x16a)+'letions','wgSFm':_0x4f1890(0x423,0x3a1,0x37b,0x4b6)+'.','ziYlw':function(_0x503884,_0x5f5573){return _0x503884===_0x5f5573;},'gQejT':_0x50cd1b(-0x194,-0x206,-0x2c4,-0x2b0),'fymic':_0x4f1890(0x3cc,0x476,0x3fe,0x370),'DdXtO':_0x4f1890(0x438,0x4db,0x472,0x39e),'GeynK':'IOVrW','UgITA':_0x50cd1b(-0xe7,-0xfd,-0xff,-0x11c)+_0x50cd1b(-0x11a,-0x1e1,-0x1a0,-0x24d),'YxKkv':function(_0x11029d,_0x4d248c,_0x3e48ad){return _0x11029d(_0x4d248c,_0x3e48ad);},'WllLA':_0x4f1890(0x440,0x4d3,0x481,0x4f9),'OmzWC':'applicatio'+'n/json','FwNhV':'请求失败','xEsff':_0x4f1890(0x360,0x3b7,0x3ca,0x3ec),'nbYxs':function(_0xc24289,_0xf7b223){return _0xc24289===_0xf7b223;},'VXpYu':_0x50cd1b(-0x19d,-0x16b,-0xed,-0xe2),'mvHAC':function(_0x20fc3e,_0x40416e){return _0x20fc3e===_0x40416e;},'UJhRf':_0x50cd1b(-0x293,-0x1df,-0x188,-0x233)+_0x50cd1b(-0x167,-0xc0,-0x57,-0xb2),'YuiWF':function(_0x29acc5,_0x5e0f3c){return _0x29acc5!==_0x5e0f3c;},'fHoqQ':_0x4f1890(0x3b6,0x355,0x3d3,0x39f),'ZesdA':_0x4f1890(0x447,0x3b6,0x3e2,0x437),'DmEue':_0x4f1890(0x399,0x31d,0x2ba,0x417)};currentLLMRequestController&&(currentLLMRequestController[_0x50cd1b(-0x198,-0x10c,-0x187,-0x5d)](),toastr[_0x4f1890(0x35e,0x397,0x359,0x3c6)](_0x50cd1b(-0x140,-0xf3,-0x195,-0x195)+_0x4f1890(0x455,0x39f,0x448,0x52a)));function _0x4f1890(_0x4401bb,_0x5962d8,_0x26aad9,_0x173db6){return _0xac29(_0x4401bb-0x1e0,_0x26aad9);}currentLLMRequestController=new AbortController();const _0x44f0b4=currentLLMRequestController[_0x4f1890(0x4d6,0x410,0x543,0x574)],_0x586d01=_0x5ca18f[_0x50cd1b(-0x258,-0x236,-0x224,-0x20f)](collectProfileDataFromUI),{api_url:_0x2c23ec,api_key:_0x52958e,model:_0x50f2a1,temperature:_0x17742d,top_p:_0xe6e090,max_tokens:_0x4e6132,history:_0xa91359}=_0x586d01;if(_0x5ca18f[_0x4f1890(0x31b,0x306,0x3c8,0x38a)](!_0x2c23ec,!_0x52958e)){toastr[_0x4f1890(0x372,0x294,0x3ea,0x3fb)](_0x5ca18f['BfsOx']);return;}if(!_0x50f2a1){toastr['warning'](_0x5ca18f[_0x50cd1b(-0x1c6,-0x1d5,-0x109,-0x25a)]);return;}const _0x58e68a=_0x5ca18f[_0x4f1890(0x410,0x484,0x482,0x37a)](_0x2c23ec['replace'](/\/$/,''),_0x5ca18f[_0x50cd1b(-0x14a,-0xb4,-0x20,0x17)]);function _0x50cd1b(_0x2e6e91,_0x5e4317,_0x1df4be,_0x5bb57d){return _0xac29(_0x5e4317- -0x39c,_0x5bb57d);}resultTextarea[_0x50cd1b(-0x125,-0x12e,-0x5d,-0x1cf)](_0x5ca18f[_0x4f1890(0x481,0x4f7,0x41a,0x4e5)]),testButton[_0x4f1890(0x33a,0x3ba,0x2aa,0x31b)](_0x50cd1b(-0x148,-0x1e3,-0x231,-0x275),!![]),floatBallStateManager[_0x50cd1b(-0x203,-0x1d8,-0x279,-0x25b)+'ng']();try{if(_0x5ca18f['ziYlw'](_0x5ca18f[_0x4f1890(0x34f,0x2cf,0x3bc,0x396)],_0x5ca18f[_0x4f1890(0x313,0x361,0x26f,0x282)])){_0x538f70[_0x50cd1b(-0x1f9,-0x151,-0xe7,-0x1ed)](_0x4f1890(0x32d,0x2fe,0x2a1,0x318)+_0xf3cab7+_0x4f1890(0x469,0x3be,0x513,0x49c));return;}else{const _0x3be798=[];_0xa91359[_0x4f1890(0x3f9,0x3fe,0x4db,0x411)](_0x536a53=>{function _0x45c820(_0x397db7,_0x4e6a1d,_0x358ae9,_0x40c8a){return _0x50cd1b(_0x397db7-0xb2,_0x4e6a1d-0x2dc,_0x358ae9-0x92,_0x397db7);}const _0xe275d3={};_0xe275d3[_0x45c820(0x125,0x72,0x39,0xeb)]=_0x5ca18f[_0x5968c3(0x3e,-0x95,-0x13,-0x47)];const _0x5b5b0b=_0xe275d3;if(_0x536a53[_0x5968c3(0x61,0x28,-0x3a,-0x84)]&&_0x536a53[_0x5968c3(-0x103,0xe,-0x3a,0x2)][_0x45c820(0x170,0xad,0x6e,0x100)]()!==''){if(_0x5ca18f[_0x45c820(0x74,0xbb,0xeb,0xa2)](_0x5ca18f[_0x5968c3(0xff,0x13,0x64,0x12a)],_0x5ca18f['FziWz'])){const _0x316585={};_0x316585['role']=_0x5968c3(-0xc4,-0xb4,-0x3a,-0x109),_0x316585[_0x45c820(0x19d,0x22e,0x1ec,0x1ff)]=_0x536a53['user'],_0x3be798[_0x5968c3(0x4d,-0x3d,0x49,0x115)](_0x316585);}else{const _0x4c3078={};_0x4c3078[_0x5968c3(0x1e,0x6e,0x68,0x122)]=function(_0x48ad78,_0x18cb74){return _0x48ad78===_0x18cb74;};const _0x2da48d=_0x4c3078,_0x16e3b2=_0x20aeed[_0x3b1fe4][_0x5968c3(0xf5,0x146,0xa9,0x174)+'es']||{},_0x4d6e6f=_0x39cea4[_0x47a50e][_0x5968c3(0x4a,-0x8b,0x22,-0x49)+_0x5968c3(-0x47,0x2,-0xd6,-0x152)];_0x339368['empty'](),_0x48a475[_0x45c820(0x1d6,0x197,0x261,0x1f1)](_0x16e3b2)[_0x45c820(0x9f,0x159,0x12e,0xd8)](_0x344ae2=>{function _0x4d34ea(_0x28609e,_0x5ebe40,_0x3c4887,_0x1f7303){return _0x5968c3(_0x28609e-0x63,_0x5ebe40-0xcc,_0x5ebe40-0x41f,_0x3c4887);}const _0xd4ce72=new _0x26b004(_0x344ae2,_0x344ae2,_0x2da48d[_0x59f2e9(0x591,0x671,0x547,0x655)](_0x344ae2,_0x4d6e6f),_0x2da48d[_0x59f2e9(0x591,0x4c3,0x5f3,0x5ce)](_0x344ae2,_0x4d6e6f));function _0x59f2e9(_0x3411e9,_0x52a93b,_0x328bdb,_0x2e83e8){return _0x45c820(_0x328bdb,_0x3411e9-0x39b,_0x328bdb-0xa5,_0x2e83e8-0x174);}_0x3eb2db[_0x4d34ea(0x39c,0x35e,0x3ea,0x2a7)](_0xd4ce72);}),_0x2be106['val']()&&_0x24a985[_0x5968c3(0x36,-0x26,-0x9e,-0x60)](_0x5b5b0b['hQvbe']);}}function _0x5968c3(_0x46d37e,_0x442804,_0x15da25,_0x52225f){return _0x50cd1b(_0x46d37e-0x12b,_0x15da25-0x14e,_0x15da25-0x46,_0x52225f);}if(_0x536a53[_0x5968c3(-0x49,-0xa4,-0x36,-0xd4)]&&_0x536a53[_0x45c820(0x190,0x158,0x1d3,0x76)]['trim']()!==''){const _0x430eae={};_0x430eae[_0x45c820(0x13f,0xa0,0x155,0x113)]=_0x5ca18f['SXVzJ'],_0x430eae['content']=_0x536a53[_0x45c820(0x92,0x158,0x15e,0x101)],_0x3be798[_0x45c820(0x236,0x1d7,0x2a3,0x28a)](_0x430eae);}});if(_0x5ca18f[_0x50cd1b(-0x14a,-0x12a,-0x193,-0x167)](_0x3be798[_0x4f1890(0x36e,0x384,0x2ba,0x29c)],0x92*0x14+0xff3*-0x1+0x48b)){if(_0x5ca18f[_0x4f1890(0x40b,0x467,0x328,0x341)]===_0x5ca18f[_0x50cd1b(-0x1a6,-0x18c,-0x268,-0x160)])_0x2ea0ae[_0x50cd1b(-0x1c0,-0x151,-0x9c,-0x1fd)](_0x50cd1b(-0x214,-0x136,-0x1ba,-0x17f)+'效。');else{toastr[_0x50cd1b(-0x21e,-0x20a,-0x1d3,-0x2a9)](_0x5ca18f[_0x50cd1b(-0x133,-0x147,-0xd4,-0x1a9)]),resultTextarea[_0x50cd1b(-0x192,-0x12e,-0x1cc,-0x19d)](_0x4f1890(0x4c4,0x480,0x560,0x58f));return;}}const _0x426aac={};_0x426aac['model']=_0x50f2a1,_0x426aac[_0x4f1890(0x332,0x370,0x34d,0x256)]=_0x3be798,_0x426aac['temperatur'+'e']=_0x17742d,_0x426aac[_0x50cd1b(-0x83,-0xe9,-0x143,-0xb9)]=_0xe6e090,_0x426aac[_0x4f1890(0x327,0x3dd,0x387,0x2f8)]=_0x4e6132,_0x426aac['stream']=![];const _0xf1fd73=_0x426aac,_0x18a17b=await _0x5ca18f[_0x4f1890(0x320,0x338,0x3b7,0x2ae)](fetch,_0x58e68a,{'method':_0x5ca18f['WllLA'],'headers':{'Content-Type':_0x5ca18f['OmzWC'],'Authorization':'Bearer\x20'+_0x52958e},'body':JSON['stringify'](_0xf1fd73),'signal':_0x44f0b4}),_0x1f33c4=await _0x18a17b[_0x50cd1b(-0xae,-0x106,-0x103,-0x87)]();if(!_0x18a17b['ok'])throw new Error(_0x1f33c4[_0x4f1890(0x42b,0x4bd,0x39d,0x499)]?_0x1f33c4['error'][_0x50cd1b(-0xd4,-0x1a7,-0x269,-0xe6)]:_0x5ca18f[_0x4f1890(0x362,0x3cd,0x3a8,0x2d9)]);const _0x1f364d=_0x1f33c4['choices'][0x1acb+0x1c9f+-0x376a]?.[_0x4f1890(0x3d5,0x360,0x370,0x415)]?.[_0x4f1890(0x4ce,0x45d,0x403,0x3ea)]||_0x5ca18f[_0x50cd1b(-0xf0,-0x153,-0x1ed,-0x1c1)];resultTextarea[_0x4f1890(0x44e,0x501,0x40c,0x4fa)](_0x1f364d);const _0x351e70={};_0x351e70['success']=!![],_0x351e70[_0x50cd1b(-0x28b,-0x1b6,-0x268,-0x122)]=_0x1f33c4,eventSource['emit'](eventNames[_0x4f1890(0x432,0x3fe,0x4a4,0x42c)+_0x50cd1b(-0x17d,-0x10b,-0xff,-0xdd)],_0x351e70);}}catch(_0xc5a3be){if(_0x5ca18f[_0x4f1890(0x389,0x371,0x386,0x415)](_0xc5a3be[_0x4f1890(0x3f2,0x4a0,0x4cc,0x476)],_0x5ca18f[_0x4f1890(0x3b8,0x376,0x43e,0x410)])){if(_0x5ca18f[_0x4f1890(0x425,0x3cb,0x4b4,0x4b4)](_0x50cd1b(-0x199,-0x134,-0x79,-0x1e5),_0x50cd1b(-0x2b7,-0x1ee,-0x202,-0x22a)))_0x47d7e1=null,_0x27c185[_0x4f1890(0x3a9,0x46c,0x3eb,0x39a)+'g']();else{console['log'](_0x4f1890(0x3fa,0x438,0x391,0x387)+_0x50cd1b(-0x1fe,-0x189,-0x113,-0x1c7)+_0x50cd1b(-0x6f,-0x14d,-0x116,-0xa0));return;}}console[_0x4f1890(0x42b,0x4c5,0x4fc,0x3d8)](_0x5ca18f[_0x4f1890(0x43b,0x3bb,0x4bf,0x483)],_0xc5a3be);const _0x2d1934='请求错误:\x20'+_0xc5a3be[_0x4f1890(0x3d5,0x3fe,0x38c,0x3a4)];resultTextarea['val'](_0x2d1934),toastr[_0x4f1890(0x42b,0x3c5,0x3fb,0x475)](_0x2d1934);const _0x22578f={};_0x22578f[_0x4f1890(0x49e,0x4f3,0x52e,0x409)]=![],_0x22578f[_0x4f1890(0x3c6,0x418,0x464,0x34a)]=_0x2d1934,eventSource[_0x4f1890(0x3aa,0x354,0x326,0x332)](eventNames[_0x4f1890(0x432,0x392,0x40a,0x3a2)+'ESULT'],_0x22578f);}finally{if(_0x5ca18f['YuiWF'](_0x5ca18f['fHoqQ'],_0x5ca18f[_0x4f1890(0x3d0,0x3a9,0x393,0x3ad)]))testButton[_0x50cd1b(-0x1ad,-0x242,-0x284,-0x1e6)](_0x5ca18f[_0x50cd1b(-0xee,-0x100,-0xa8,-0x43)],![]),currentLLMRequestController=null,floatBallStateManager['stopLoadin'+'g']();else{_0x47e12e['warning'](_0x5ca18f['UPABJ']);return;}}}function buildPrompt(){const _0x56e8eb={};_0x56e8eb[_0x4645e0(0x3f,0xe1,0x105,0x18c)]=function(_0x5a8f9e,_0x11ada3){return _0x5a8f9e!==_0x11ada3;},_0x56e8eb['mDSaC']='user';const _0x46b01e=_0x56e8eb,_0x514dc1=collectProfileDataFromUI();function _0x4645e0(_0x495945,_0x1e63da,_0x2363e5,_0x4862aa){return _0xac29(_0x2363e5- -0x1b3,_0x1e63da);}const {history:_0x186929}=_0x514dc1;function _0xbd4c2d(_0x5ae755,_0x1ab4b9,_0x570b9e,_0x214b9a){return _0xac29(_0x1ab4b9-0x391,_0x5ae755);}const _0x26a85d=[];return _0x186929[_0xbd4c2d(0x571,0x5aa,0x59f,0x547)](_0x31e15e=>{if(_0x31e15e['user']&&_0x46b01e[_0x57e9f0(0x11,0xd0,0x16,-0x4)](_0x31e15e[_0x4ae872(-0xd9,-0xc6,-0x10a,-0x36)]['trim'](),'')){const _0xb349a9={};_0xb349a9[_0x57e9f0(-0x1a1,-0x1e4,-0x163,-0x15c)]=_0x46b01e['mDSaC'],_0xb349a9[_0x57e9f0(-0x1c,0x112,0xb4,0x32)]=_0x31e15e[_0x57e9f0(-0xd0,-0xb6,-0x2,-0xa8)],_0x26a85d[_0x4ae872(-0x56,-0x113,-0x9,-0x101)](_0xb349a9);}function _0x57e9f0(_0x4e1fd0,_0x19707c,_0x4bc885,_0x2f9562){return _0x4645e0(_0x4e1fd0-0x1b9,_0x4bc885,_0x2f9562- -0x109,_0x2f9562-0xce);}function _0x4ae872(_0x2f43b5,_0x5a4cca,_0x214377,_0x1184d4){return _0xbd4c2d(_0x1184d4,_0x2f43b5- -0x67e,_0x214377-0x123,_0x1184d4-0x12b);}if(_0x31e15e[_0x57e9f0(-0x25,-0x3a,-0x5d,-0xa4)]&&_0x31e15e['assistant'][_0x57e9f0(-0x84,-0x200,-0x1e6,-0x14f)]()!==''){const _0x1bdaea={};_0x1bdaea['role']=_0x57e9f0(0x15,-0x47,0x8,-0xa4),_0x1bdaea[_0x4ae872(0x1,-0x6f,0x2,-0xae)]=_0x31e15e[_0x57e9f0(-0x8e,-0x58,0x3a,-0xa4)],_0x26a85d[_0x4ae872(-0x56,-0x19,-0x12a,-0x6)](_0x1bdaea);}}),_0x26a85d;}function onGetPromptRequest(_0x398549){const _0x21668c={'EzZUr':function(_0xfb324c){return _0xfb324c();}},{id:_0x68fe2b}=_0x398549;if(!_0x68fe2b)return;function _0x57f7c2(_0x5bf393,_0x325430,_0x383d2c,_0x2fb8d2){return _0xac29(_0x383d2c-0x2ea,_0x5bf393);}console[_0x431076(-0x1bb,-0x12c,-0x181,-0x102)](_0x431076(-0x145,-0x16c,-0x1c4,-0xf7)+'获取请求\x20(ID:\x20'+_0x68fe2b+')');const _0x31d4ad=_0x21668c['EzZUr'](buildPrompt);function _0x431076(_0x2b5bd7,_0x278dc2,_0x1b97b4,_0x248385){return _0xac29(_0x2b5bd7- -0x392,_0x278dc2);}const _0x42f474={};_0x42f474[_0x431076(-0x139,-0x218,-0x217,-0x1e7)]=_0x31d4ad,_0x42f474['id']=_0x68fe2b,eventSource[_0x431076(-0x1c8,-0x12d,-0x284,-0x270)](eventNames[_0x57f7c2(0x52c,0x411,0x494,0x4c2)+_0x57f7c2(0x4f0,0x4d1,0x433,0x373)+'NSE'],_0x42f474);}async function onExecuteRequest(_0xf6a31e){const _0x46c1d6={'OmnDo':function(_0x6c01d7,_0x5e9493){return _0x6c01d7||_0x5e9493;},'bXnVq':function(_0x2d616b,_0x57632b){return _0x2d616b||_0x57632b;},'XKhSK':_0x4d0499(0x2a8,0x289,0x344,0x237)+_0x1b26a7(0x604,0x591,0x5a1,0x5de)+_0x4d0499(0x39a,0x2bb,0x293,0x227),'KKfKw':function(_0xc62394,_0x4c4f14){return _0xc62394+_0x4c4f14;},'gRJwT':'/chat/comp'+_0x4d0499(0x2af,0x333,0x3f0,0x3eb),'RhMUo':_0x4d0499(0x397,0x378,0x3a2,0x31d)+_0x1b26a7(0x5ce,0x5f6,0x575,0x532),'DBpSO':function(_0x1bf09a,_0x3a9055){return _0x1bf09a===_0x3a9055;},'PqjXk':_0x1b26a7(0x59e,0x516,0x50b,0x4f6),'liiTV':function(_0x2ef0b7,_0x5533d5,_0x9789e4){return _0x2ef0b7(_0x5533d5,_0x9789e4);},'mGzXh':_0x4d0499(0x3f7,0x3ab,0x32d,0x321),'XiABa':_0x4d0499(0x442,0x428,0x3ff,0x3f4),'YRpBq':'请求失败','SmAjx':'AbortError','AmkNV':_0x4d0499(0x3ae,0x2cf,0x349,0x301)+_0x4d0499(0x36d,0x412,0x3b9,0x3b7)+_0x1b26a7(0x41a,0x4ef,0x4f9,0x4ab),'yQwvI':_0x4d0499(0x309,0x2b7,0x34b,0x281)+_0x1b26a7(0x554,0x645,0x624,0x5ec),'iohNn':_0x4d0499(0x255,0x285,0x362,0x274)+_0x1b26a7(0x4ef,0x5d2,0x544,0x504)},{prompt:_0x5ac54c,id:_0x3016f7}=_0xf6a31e;if(_0x46c1d6[_0x4d0499(0x401,0x3aa,0x43b,0x47c)](!_0x3016f7,!_0x5ac54c))return;currentLLMRequestController&&(currentLLMRequestController[_0x1b26a7(0x6af,0x522,0x5f3,0x5ed)](),toastr[_0x1b26a7(0x492,0x495,0x5b4,0x4db)]('LLM请求已中断，开'+_0x1b26a7(0x673,0x567,0x5ab,0x5d2)));currentLLMRequestController=new AbortController();const _0x5a7659=currentLLMRequestController[_0x1b26a7(0x5b3,0x664,0x594,0x653)];function _0x1b26a7(_0x320b43,_0x243369,_0x34a984,_0x575cfa){return _0xac29(_0x575cfa-0x35d,_0x320b43);}console[_0x4d0499(0x3c4,0x322,0x24c,0x282)](_0x4d0499(0x279,0x339,0x3d1,0x378)+'M\x20执行请求\x20(ID'+':\x20'+_0x3016f7+')',_0x5ac54c);function _0x4d0499(_0x3b7aab,_0xe8b110,_0x19665b,_0x5a290f){return _0xac29(_0xe8b110-0x14b,_0x19665b);}const _0x54bcae=collectProfileDataFromUI(),{api_url:_0x5e308e,api_key:_0x21dd1b,model:_0x262228,temperature:_0x2b01c1,top_p:_0x3114a5,max_tokens:_0x35ca4e}=_0x54bcae;if(_0x46c1d6[_0x4d0499(0x367,0x338,0x2cb,0x2a6)](!_0x5e308e,!_0x21dd1b)||!_0x262228){const _0xae6810=_0x46c1d6[_0x1b26a7(0x43c,0x4f8,0x57b,0x4b9)];toastr[_0x4d0499(0x2d3,0x396,0x320,0x360)](_0xae6810);const _0x56cf10={};_0x56cf10[_0x4d0499(0x3cf,0x409,0x420,0x46a)]=![],_0x56cf10[_0x4d0499(0x3db,0x3ae,0x442,0x31d)]=_0xae6810,_0x56cf10['id']=_0x3016f7,eventSource[_0x1b26a7(0x4dc,0x539,0x552,0x527)](eventNames[_0x1b26a7(0x58e,0x625,0x678,0x601)+_0x4d0499(0x42f,0x3eb,0x42e,0x40f)],_0x56cf10);return;}const _0x45ad17=_0x46c1d6[_0x1b26a7(0x433,0x3df,0x4a6,0x4a8)](_0x5e308e[_0x1b26a7(0x552,0x5ce,0x643,0x5e0)](/\/$/,''),_0x46c1d6[_0x1b26a7(0x627,0x50e,0x4a9,0x55b)]);resultTextarea[_0x1b26a7(0x53e,0x5d2,0x5d7,0x5cb)](_0x46c1d6['RhMUo']),floatBallStateManager['startLoadi'+'ng']();try{if(_0x46c1d6[_0x4d0499(0x378,0x41a,0x40a,0x40d)](_0x46c1d6[_0x4d0499(0x42d,0x389,0x46d,0x2e9)],_0x46c1d6[_0x4d0499(0x348,0x389,0x307,0x360)])){const _0x164f93={};_0x164f93[_0x1b26a7(0x54a,0x545,0x4f5,0x593)]=_0x262228,_0x164f93[_0x4d0499(0x294,0x29d,0x339,0x282)]=_0x5ac54c,_0x164f93[_0x1b26a7(0x6be,0x5e3,0x630,0x636)+'e']=_0x2b01c1,_0x164f93[_0x1b26a7(0x645,0x55e,0x690,0x610)]=_0x3114a5,_0x164f93[_0x1b26a7(0x4ed,0x578,0x545,0x4a4)]=_0x35ca4e,_0x164f93[_0x1b26a7(0x5c2,0x539,0x4ff,0x5dc)]=![];const _0x2bf235=_0x164f93,_0x5efb46={};_0x5efb46[_0x4d0499(0x23a,0x29b,0x309,0x1e5)+'pe']=_0x1b26a7(0x4f2,0x4e9,0x5ed,0x52b)+_0x1b26a7(0x6c2,0x641,0x686,0x60d),_0x5efb46['Authorizat'+'ion']='Bearer\x20'+_0x21dd1b;const _0x103feb=await _0x46c1d6[_0x1b26a7(0x639,0x544,0x550,0x56b)](fetch,_0x45ad17,{'method':_0x46c1d6[_0x4d0499(0x2f8,0x347,0x28e,0x2c0)],'headers':_0x5efb46,'body':JSON[_0x4d0499(0x455,0x37d,0x29e,0x31a)](_0x2bf235),'signal':_0x5a7659}),_0x4b09a8=await _0x103feb['json']();if(!_0x103feb['ok']){if(_0x46c1d6['DBpSO']('oEJJw',_0x46c1d6[_0x1b26a7(0x58e,0x6a6,0x50b,0x5e1)]))throw new Error(_0x4b09a8[_0x4d0499(0x320,0x396,0x2e8,0x358)]?_0x4b09a8['error'][_0x1b26a7(0x620,0x554,0x4fb,0x552)]:_0x46c1d6[_0x4d0499(0x364,0x38f,0x2e8,0x42d)]);else _0x5824f9[_0x1b26a7(0x424,0x59d,0x59b,0x4ea)](new _0x4b5020(_0x4dcf6d['id'],_0x1ae87f['id']));}const _0x5ecbcc=_0x4b09a8['choices'][-0x1762+-0x1*0x535+0x1c97]?.[_0x1b26a7(0x588,0x51f,0x526,0x552)]?.['content']||'未收到有效回复。';resultTextarea[_0x1b26a7(0x63e,0x63a,0x657,0x5cb)](_0x5ecbcc);const _0x8f7111={};_0x8f7111[_0x1b26a7(0x60e,0x5a4,0x66d,0x61b)]=!![],_0x8f7111[_0x1b26a7(0x661,0x568,0x66d,0x5c0)]=_0x5ecbcc,_0x8f7111['id']=_0x3016f7,eventSource[_0x4d0499(0x2b1,0x315,0x391,0x3d4)](eventNames[_0x4d0499(0x336,0x3ef,0x3a1,0x416)+_0x1b26a7(0x51f,0x6b2,0x6c1,0x5fd)],_0x8f7111);}else{const _0x1e3c1a=_0x56eda9?function(){if(_0x1a10db){const _0xfaf267=_0x254a4f['apply'](_0x2ecbc6,arguments);return _0x45b89c=null,_0xfaf267;}}:function(){};return _0x23667e=![],_0x1e3c1a;}}catch(_0x4d9f55){if(_0x4d9f55[_0x4d0499(0x279,0x35d,0x2f3,0x37b)]===_0x46c1d6[_0x4d0499(0x34f,0x3fa,0x47a,0x4c6)]){console[_0x1b26a7(0x594,0x602,0x461,0x534)](_0x46c1d6['AmkNV']);const _0x57da35={};_0x57da35['name']=_0x4d0499(0x420,0x37c,0x431,0x2cf),_0x57da35[_0x1b26a7(0x57c,0x5f7,0x5b3,0x552)]=_0x46c1d6[_0x1b26a7(0x6cf,0x5ec,0x62e,0x62a)];const _0x17ee95={};_0x17ee95[_0x4d0499(0x467,0x409,0x3d8,0x3ed)]=![],_0x17ee95['result']=null,_0x17ee95['id']=_0x3016f7,_0x17ee95['error']=_0x57da35,eventSource[_0x4d0499(0x268,0x315,0x351,0x3af)](eventNames[_0x1b26a7(0x52d,0x552,0x5be,0x601)+_0x1b26a7(0x535,0x525,0x554,0x5fd)],_0x17ee95);return;}console[_0x4d0499(0x2f3,0x396,0x3c2,0x479)](_0x46c1d6[_0x4d0499(0x400,0x3a7,0x41e,0x480)],_0x4d9f55);const _0x4cd384='请求错误:\x20'+_0x4d9f55[_0x1b26a7(0x53a,0x633,0x4e8,0x552)];resultTextarea['val'](_0x4cd384),toastr[_0x1b26a7(0x652,0x639,0x618,0x5a8)](_0x4cd384);const _0x4f8f37={};_0x4f8f37['success']=![],_0x4f8f37[_0x4d0499(0x474,0x3ae,0x45d,0x395)]=_0x4cd384,_0x4f8f37['id']=_0x3016f7,eventSource[_0x1b26a7(0x4f9,0x4f1,0x445,0x527)](eventNames[_0x1b26a7(0x59d,0x634,0x57a,0x601)+'E_RESPONSE'],_0x4f8f37);}finally{currentLLMRequestController=null,floatBallStateManager[_0x1b26a7(0x44e,0x589,0x603,0x526)+'g']();}}function onTestModeToggle(){function _0xf45cd4(_0x407929,_0x38ed06,_0xd1aa29,_0x441971){return _0xac29(_0x441971-0x1d,_0x407929);}function _0x5171ef(_0x5084bd,_0x2d0b1f,_0x529a2e,_0x3d58fe){return _0xac29(_0x529a2e- -0x283,_0x3d58fe);}const _0x509fbb={'iWlIq':function(_0x2e9d4d,_0x525939){return _0x2e9d4d(_0x525939);},'LpLur':':checked','maKJM':function(_0x14e7f5){return _0x14e7f5();}};extension_settings[extensionName][_0x5171ef(0xa6,-0x3,0x37,0x99)+'e']=_0x509fbb[_0x5171ef(-0x69,-0x15,-0xcd,0x14)]($,this)['is'](_0x509fbb['LpLur']),_0x509fbb[_0x5171ef(0x84,-0xad,-0x5c,-0x73)](saveSettingsDebounced),toastr[_0xf45cd4(0x1a3,0x1cd,0x1cb,0x19b)](_0xf45cd4(0x316,0x226,0x302,0x2a8)+($(this)['is'](_0x509fbb['LpLur'])?'开启':'关闭')+'。');}export function initLLMSettings(){const _0x5e3f74={'BUtSd':_0x2495a9(-0x1a,-0xc,0x45,0xaa)+_0x2495a9(0x33,-0x3f,0x112,0x32)+_0x2495a9(0x6,-0x115,-0xc,-0x8c)+'|32|15|14|'+_0x37232b(0x15f,0x23f,0x233,0x21a)+_0x2495a9(-0x6f,0x2e,-0xce,-0x92)+'9|26|9|10|'+_0x2495a9(-0x91,0xe1,-0x2d,0x40)+'|30|12|1|1'+'7','tMXTH':function(_0x14aedd,_0x1bdec0){return _0x14aedd(_0x1bdec0);},'wAHSt':_0x2495a9(0x11b,0xe6,0x6c,0xf6)+_0x2495a9(-0x50,0x3b,0xeb,0x74)+'ue','XLTho':function(_0x14d636,_0x3e2a52){return _0x14d636(_0x3e2a52);},'lFxAZ':_0x2495a9(0x23,0x1d,0x17a,0xc3),'WTlHJ':_0x2495a9(0xdc,0x47,-0x55,0x3f),'argWA':function(_0x356f8c,_0x11450c){return _0x356f8c(_0x11450c);},'yuWFZ':_0x2495a9(0x97,-0xa8,-0xd8,-0x6)+'le_select','NXxWX':_0x2495a9(0x165,0xb5,0x1bd,0xf6)+_0x2495a9(0x1f7,0x8a,0x1a6,0x11f),'AGpVP':_0x37232b(0x116,0x74,0xef,0x19e),'sArLH':'#delete_ll'+_0x37232b(0x1ea,0x1c9,0x167,0x167)+_0x2495a9(0x103,0x10c,0xa,0xd2),'AeomC':_0x37232b(0x22e,0xff,0x1d4,0x270),'kyWVC':_0x37232b(0x1e6,0x139,0x15b,0x1d6)+_0x2495a9(0xa,0xe,0xde,0xe9),'VOAVA':function(_0x3b916e,_0x19fac3){return _0x3b916e(_0x19fac3);},'dYoZf':_0x2495a9(0x4b,0x13,0x30,0x69)+'de','fmXSv':_0x37232b(0x69,0x113,0xfa,0xfb)+_0x2495a9(0x12f,0x8f,0x14b,0x8d),'wsEmc':'#llm_api_k'+'ey','OBdlf':_0x2495a9(0x113,0x87,0x12a,0x63)+_0x37232b(0x253,0x27e,0x22b,0x165),'xkMfj':'#llm_api_u'+'rl','kECFr':function(_0x361fd2,_0x1a428e){return _0x361fd2(_0x1a428e);},'GFiVT':_0x37232b(0x22c,0x29b,0x209,0x20a)+_0x37232b(0x269,0x280,0x1b0,0xde),'McCXZ':function(_0x10f80b,_0x1ec938){return _0x10f80b(_0x1ec938);},'PoBMP':'#export_ll'+_0x37232b(0x208,0xc4,0x167,0x1a4)+'button','DNAle':function(_0x5469f4,_0x1ab424){return _0x5469f4(_0x1ab424);},'xhKLp':_0x2495a9(0x1ac,0x6f,0x13d,0xd8)+_0x37232b(0x168,0x119,0x1b7,0x163)+_0x37232b(0x123,0xb9,0x103,0x101),'qdXhq':function(_0x5af238,_0x4ffc5e){return _0x5af238(_0x4ffc5e);},'zQnjd':_0x2495a9(-0x6e,0xc8,0xcd,0x2f)+_0x2495a9(0xf3,0x45,0x47,0x7a)+_0x37232b(0x1ba,0x133,0x151,0x154),'oLvlQ':_0x37232b(0x1d0,0x16a,0xfa,0x14e)+'button','ZUXsE':_0x37232b(0xd4,0x144,0x155,0x101)+'m_profile_'+_0x37232b(0x2a1,0x2d6,0x218,0x2ca)};function _0x2495a9(_0x1450b0,_0x31afda,_0x3a449a,_0x4b5b43){return _0xac29(_0x4b5b43- -0x1d6,_0x1450b0);}function _0x37232b(_0x2034e4,_0x570566,_0x309a80,_0x1f0ed2){return _0xac29(_0x309a80- -0x90,_0x1f0ed2);}const _0x50b03e=_0x5e3f74[_0x2495a9(-0x9c,-0x53,-0x33,-0x7e)][_0x37232b(0x2e6,0x2bb,0x253,0x22e)]('|');let _0x48ffaf=-0x1932+0x83*-0x1+0x19b5;while(!![]){switch(_0x50b03e[_0x48ffaf++]){case'0':temperatureValue=_0x5e3f74[_0x2495a9(-0x7,0x95,0x6d,0x54)]($,_0x5e3f74['wAHSt']);continue;case'1':maxTokensValue['on']('input',()=>maxTokensSlider['val'](maxTokensValue[_0x37232b(0x24c,0x1bc,0x1de,0x21a)]()));continue;case'2':profileSelect['on'](_0x37232b(0x172,0xfc,0xef,0x16c),onProfileSelectChange);continue;case'3':topPSlider=_0x5e3f74[_0x2495a9(0x2b,0x17a,0xe1,0xea)]($,_0x5e3f74[_0x37232b(0x226,0x191,0x1c6,0x22c)]);continue;case'4':topPSlider['on'](_0x5e3f74[_0x2495a9(-0x8c,0xce,-0x9d,0x41)],()=>topPValue[_0x2495a9(0x5c,0x14e,0x167,0x98)](topPSlider['val']()));continue;case'5':combinedPromptTextarea=_0x5e3f74[_0x37232b(0x1c0,0xd2,0x11c,0x136)]($,_0x37232b(0x1b2,0x19a,0x14b,0x174)+_0x2495a9(0xfa,0xe9,0x176,0x111));continue;case'6':profileSelect=$(_0x5e3f74['yuWFZ']);continue;case'7':temperatureSlider=$(_0x5e3f74['NXxWX']);continue;case'8':maxTokensValue=_0x5e3f74[_0x37232b(0x270,0x18b,0x19a,0x1ba)]($,_0x2495a9(-0x16,0xd3,0x6c,0x15)+'okens_valu'+'e');continue;case'9':llmTestModeToggle['on'](_0x5e3f74[_0x37232b(0x1e8,0xc8,0x152,0x1ab)],onTestModeToggle);continue;case'10':eventSource['on'](eventNames[_0x2495a9(0x51,-0x5f,-0x2b,-0x2c)+_0x2495a9(-0x66,-0xff,0x36,-0x30)+'ST'],onGetPromptRequest);continue;case'11':_0x5e3f74[_0x2495a9(0xe7,-0x7a,-0x55,0x54)]($,_0x5e3f74[_0x37232b(0x268,0x26e,0x1aa,0x12e)])['on'](_0x5e3f74['AeomC'],onDeleteProfileClick);continue;case'12':maxTokensSlider['on'](_0x5e3f74[_0x37232b(0xd7,0x131,0x187,0x25a)],()=>maxTokensValue[_0x2495a9(0xc2,0x27,-0x18,0x98)](maxTokensSlider[_0x37232b(0x1c9,0x168,0x1de,0x28e)]()));continue;case'13':maxTokensSlider=$(_0x5e3f74[_0x2495a9(-0x37,-0x76,0x5,0x5e)]);continue;case'14':llmTestModeToggle=_0x5e3f74[_0x2495a9(0x14d,0x12a,0xb6,0x109)]($,_0x5e3f74[_0x2495a9(-0xae,-0xa3,0x42,0x34)]);continue;case'15':resultTextarea=$(_0x5e3f74[_0x37232b(0x182,0x78,0xd8,0xb6)]);continue;case'16':temperatureValue['on'](_0x37232b(0x145,0x25a,0x185,0x139),()=>temperatureSlider['val'](temperatureValue[_0x37232b(0x27e,0x2ad,0x1de,0x1a6)]()));continue;case'17':loadLLMProfiles();continue;case'18':apiKeyInput=_0x5e3f74[_0x37232b(0x48,0x73,0x11c,0xa4)]($,_0x5e3f74[_0x37232b(0xa2,0x1e0,0x143,0x9d)]);continue;case'19':modelSelect=$(_0x5e3f74[_0x2495a9(0xc5,-0x5d,0x43,0x61)]);continue;case'20':apiUrlInput=$(_0x5e3f74[_0x2495a9(0xed,-0x41,0x35,0x96)]);continue;case'21':testHistoryContainer=_0x5e3f74[_0x37232b(0x2f6,0x1cb,0x230,0x1bc)]($,_0x2495a9(0x32,0x101,0x84,0xb8)+_0x37232b(0x4d,0x8f,0xfc,0x1b9));continue;case'22':temperatureSlider['on']('input',()=>temperatureValue[_0x2495a9(-0x3a,0x158,-0x41,0x98)](temperatureSlider[_0x37232b(0x187,0x151,0x1de,0x240)]()));continue;case'23':topPValue=_0x5e3f74[_0x37232b(0x139,0x170,0xd7,0x78)]($,_0x5e3f74[_0x2495a9(0xec,-0x8,-0x39,0x49)]);continue;case'24':_0x5e3f74['McCXZ']($,'#save_llm_'+_0x2495a9(0x80,-0x8,0x5b,0xe)+_0x37232b(0x80,0x30,0x103,0xbc))['on'](_0x5e3f74[_0x2495a9(0x12b,0x2b,0xe0,0x7e)],onSaveProfileClick);continue;case'25':eventSource['on'](eventNames[_0x37232b(0x15d,0x23f,0x214,0x1a7)+_0x2495a9(-0x8b,0x94,0x24,-0x16)],onExecuteRequest);continue;case'26':testButton['on']('click',onTestLLMClick);continue;case'27':_0x5e3f74['argWA']($,_0x5e3f74[_0x37232b(0xa5,0xf6,0x161,0x244)])['on'](_0x5e3f74['AeomC'],onExportProfileClick);continue;case'28':fetchModelsButton=_0x5e3f74[_0x37232b(0x253,0x1c4,0x194,0x1da)]($,_0x5e3f74[_0x2495a9(-0xf,-0x2d,0x90,0x4a)]);continue;case'29':fetchModelsButton['on'](_0x5e3f74[_0x2495a9(-0x5b,0xfe,0x102,0x7e)],onFetchModelsClick);continue;case'30':topPValue['on'](_0x5e3f74[_0x2495a9(-0x40,-0x9f,0x5e,0x41)],()=>topPSlider[_0x37232b(0x247,0x24a,0x1de,0x241)](topPValue['val']()));continue;case'31':_0x5e3f74['qdXhq']($,_0x5e3f74[_0x2495a9(-0xea,-0x9b,-0xb4,-0x9f)])['on'](_0x5e3f74[_0x37232b(0x278,0x260,0x1c4,0x1f5)],onSaveAsProfileClick);continue;case'32':testButton=_0x5e3f74[_0x37232b(0x197,0xff,0x19a,0x154)]($,_0x5e3f74[_0x37232b(0x2b8,0x1cf,0x1e3,0x229)]);continue;case'33':_0x5e3f74[_0x2495a9(0xd8,-0x52,0xdc,0x4e)]($,_0x5e3f74['ZUXsE'])['on'](_0x5e3f74[_0x37232b(0x1a4,0x12f,0x1c4,0x1d1)],onImportProfileClick);continue;}break;}}