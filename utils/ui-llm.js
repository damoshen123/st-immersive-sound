(function(_0x21a66c,_0x2175a2){const _0x431f75=_0x21a66c();function _0x45acb9(_0x472ebe,_0x3baf28,_0x200dc1,_0x37eec8){return _0x113b(_0x3baf28- -0x2b3,_0x472ebe);}function _0x5a6969(_0x544753,_0x448bc5,_0xf183dd,_0x4f7d77){return _0x113b(_0xf183dd- -0xe6,_0x448bc5);}while(!![]){try{const _0x59a4c6=parseInt(_0x5a6969(-0x63,-0xe0,-0x32,-0x90))/(0x2f*-0x19+-0x7c1*-0x5+-0xd*0x2a1)+-parseInt(_0x5a6969(-0xbe,-0xae,-0x31,-0x5b))/(-0xaf2+0x2f3+0x801*0x1)+parseInt(_0x5a6969(0x1df,0xc6,0x12d,0xba))/(0x125f*-0x1+0x22c*0xd+-0x9da)*(-parseInt(_0x45acb9(-0x1af,-0x177,-0x100,-0x135))/(0xc91*0x1+0x1*-0xaba+0x1d3*-0x1))+parseInt(_0x5a6969(-0x112,0xe,-0x42,-0x39))/(-0x211c+0x1*-0x1bf7+-0x11*-0x398)*(-parseInt(_0x5a6969(0xe5,0xe9,0x12e,0x205))/(-0xbc2+-0x13a7+0x1*0x1f6f))+-parseInt(_0x45acb9(-0x162,-0xc2,-0x188,-0x4))/(0x84a+0x2*0x207+-0x1*0xc51)+-parseInt(_0x45acb9(-0x1a3,-0x18d,-0x15a,-0xf4))/(0x2d4*0x4+0x3*0x449+-0x1823*0x1)+parseInt(_0x5a6969(0x61,0x80,-0xd,-0x2))/(0x1fb5+-0x43*0x53+-0x9f3)*(parseInt(_0x5a6969(-0x20,0x13e,0x80,0x96))/(0x2028+0x1e67+0x14d7*-0x3));if(_0x59a4c6===_0x2175a2)break;else _0x431f75['push'](_0x431f75['shift']());}catch(_0x1f3804){_0x431f75['push'](_0x431f75['shift']());}}}(_0x1b7a,-0xd191e+-0x2*-0x7f504+0x5*0x14b37));const _0x21026b=(function(){const _0x3dc7e6={'UZFyt':_0x15270f(0x1ca,0x111,0x195,0x76),'Nbago':function(_0x2d3907){return _0x2d3907();}};function _0x15270f(_0xe2d762,_0x333cdf,_0xae037b,_0x2502d2){return _0x113b(_0x333cdf-0x60,_0xae037b);}let _0x232ead=!![];return function(_0x14a1fb,_0x11b1d6){const _0x44ac45={'xBSLM':function(_0x21a4ce){function _0x4afad9(_0x185c14,_0x384d3f,_0x302f5a,_0x5019d2){return _0x113b(_0x185c14-0x93,_0x384d3f);}return _0x3dc7e6[_0x4afad9(0x1e0,0x13b,0x144,0x237)](_0x21a4ce);}},_0x12f670=_0x232ead?function(){function _0x455635(_0x33b548,_0x1c5c20,_0x4ceb93,_0x337c58){return _0x113b(_0x33b548-0x262,_0x4ceb93);}function _0x2d3c67(_0x4003,_0x2c3ac5,_0x2af55c,_0x2bbb89){return _0x113b(_0x2af55c-0x3df,_0x4003);}if(_0x11b1d6){if(_0x3dc7e6['UZFyt']===_0x3dc7e6[_0x2d3c67(0x454,0x5c9,0x4f7,0x42d)]){const _0x327b54=_0x11b1d6[_0x455635(0x489,0x4b2,0x520,0x4fc)](_0x14a1fb,arguments);return _0x11b1d6=null,_0x327b54;}else{const _0x3bb7a3='0|1|3|4|2'[_0x455635(0x487,0x4f2,0x54b,0x4a1)]('|');let _0x5e4903=-0xe27+0x2414+0x1*-0x15ed;while(!![]){switch(_0x3bb7a3[_0x5e4903++]){case'0':delete _0x2cf592[_0x407a95][_0x455635(0x415,0x4c3,0x4e6,0x4ab)+'es'][_0xa7ad8c];continue;case'1':_0x1ff072[_0x514c6f]['current_ll'+_0x2d3c67(0x63b,0x56f,0x59b,0x578)]=_0x27b9c1[_0x455635(0x3e4,0x43b,0x466,0x337)](_0x11e652[_0x403c50][_0x2d3c67(0x631,0x4e8,0x592,0x627)+'es'])[0x2421+-0x3d*-0x1+-0x532*0x7];continue;case'2':_0x4eee38[_0x2d3c67(0x4df,0x5f9,0x5b3,0x60d)](_0x2d3c67(0x399,0x505,0x460,0x48c)+_0x40d719+'\x22\x20已删除。');continue;case'3':_0x44ac45[_0x2d3c67(0x5ec,0x58d,0x56d,0x500)](_0x52f58c);continue;case'4':_0x44ac45[_0x455635(0x3f0,0x3eb,0x328,0x42d)](_0x5db71b);continue;}break;}}}}:function(){};return _0x232ead=![],_0x12f670;};}()),_0x325e77=_0x21026b(this,function(){const _0x29cd35={};function _0x66cd85(_0x270af2,_0x4bfd95,_0x19b551,_0x53efe8){return _0x113b(_0x19b551-0x3a1,_0x4bfd95);}function _0x25e6ab(_0x13b55c,_0x1e460b,_0x4278c3,_0x4df013){return _0x113b(_0x13b55c-0x1bf,_0x4278c3);}_0x29cd35['FZNKK']=_0x25e6ab(0x3a4,0x45a,0x30f,0x3a1)+'+$';const _0xa2741d=_0x29cd35;return _0x325e77['toString']()[_0x25e6ab(0x358,0x36f,0x2f6,0x33a)](_0xa2741d[_0x25e6ab(0x3e0,0x429,0x411,0x491)])[_0x25e6ab(0x3ba,0x370,0x411,0x441)]()[_0x66cd85(0x510,0x49d,0x435,0x4c1)+'r'](_0x325e77)[_0x25e6ab(0x358,0x3b9,0x338,0x2a6)](_0xa2741d[_0x25e6ab(0x3e0,0x309,0x46b,0x328)]);});_0x325e77();import{extension_settings}from'../../../../extensions.js';import{saveSettingsDebounced,eventSource}from'../../../../../script.js';import{extensionName,eventNames}from'./config.js';import{floatBallStateManager}from'./ui-float-ball.js';function _0x1b7a(){const _0x19edd9=['Eejtte0','B0LXBxO','t051quC','5lUJ56cboIa','ue9tva','CJ0I55sO5OI36l6t5ywLlI4U','C2LNBMfS','DwzUEuq','D2fYBMLUzW','vw9ttxe','CuDYEva','C2vHCMnO','vxHOAMm','quPIy3u','y29UDgvUDa','txrHtNq','yxnZAxn0yw50','AhrTBa','AgfZt3DUuhjVCa','6i635y+w5QIH5z6l5yIx6kgO44cc','rvDNzg4','Ag9SzgvYpsjbsq','CMvWBgfJzq','iIdLT7lLIkdPMAtJGii','zuzrrvC','i25LD19SBg1FCa','5AEl5PAW6k+35Rgc44cc','cIaGicaGicaG','uvHRs3C','i2XSBv9HCgLFDq','tgLwDKi','rvfKtKu','6i635y+w6k+35RgcicHjrdOG','lwzPzwXKlwnVBa','yxnJtwO','zgLZywjSzwq','A09tBe8','BgXTx3bYB2zPBa','u01fvxm','t2PwrgK','6k+v5yAf5A6544cc','C3nPC3rHBNq','ExbuvuS','zKz2zue','s01JEha','C3rFAxnFBgXTxW','Bv9WCM9MAwXL','Buj5Bhu','rvnvtfq','t3rTD0G','whzir08','C3rYzwfT','teXnigv4zwn1Da','i2XSBv9MzxrJAa','lMPZB24','lwHPC3rVCNKTDq','t29pwMC','tK1AB1O','A2zuCxy','tKvitwS','sK1bEwS','Ee5fDg8','BhfODhm','C2vY','zM9YrwfJAa','tw1dyNu','zMPnu2K','ChjMq24','tM5RAum','rejkshy','C3vJy2vZCW','x21VzgvSC19IDq','ww9KExK','zxL2y0e','vg1tzNi','sMjPyKe','EMLHELa','5AoW5lI05yw25Akd77YA5Ps25yIWieXm','6k+36l6t5ywLiefqssbcyq','B2voDvC','i2XSBv9HCgLFAW','D1PYqw8','5lIn6io95yIG6zMK5PYa5zco5lIa5lIQ6ywn572U','ue9Ovfy','6k+35Rgc5AsX6lsLoIa','lwHPC3rVCNKTyq','qxv0Ag9YAxPHDa','kcGOlISPkYKRkq','t0POuxu','zunWz1C','AKf0r2i','EfLUALi','B3PlzwS','ueKGs2v544cc','5OIq5yQF5A+85ywLia','ChjVzMLSzv8','i2XSBs10zxn0lq','B3LwBKy','BI9QC29U','mtG4ntCZn3fZBhjjAa','i2XSBv9TB2rLBa','y2XPy2S','Aw5MBW','ELrWu0m','wwvIugq','rMHrqvm','t1nKuwm','DNrXBgy','yK1KswK','Dg9tDhjPBMC','BMrjzeS','BwvZC2fNzxm','ChjVCa','57g75z6loIa','wuvdveK','sM1wuLG','yxbPx2TLEq','EKHyB3G','BeXlD1q','swzuzLa','icaGpgrPDIbJBa','vwrgsuS','tw9KzwWG5PYQ6ywn572U44cc','uxndvKq','DM1sz00','ihn0lwLZlwXSBq','AM9PBG','zxf1zxn0igfIBW','u05lyuC','wMvoD0G','i2rLBgv0zv9SBa','vvfRwwq','Bw9KzwW','mtjKBeHxCLC','nKXTyMPeBq','vMLKCge','zw1WDhK','werKqwC','AgLZDg9YEq','ENvwBKq','q29UDgvUDc1uEq','yxjmAfi','z3b0ltmUns10Dq','lwHPC3rVCNKTzW','veHwB0u','rhzKz08','sNzMAwu','rLPos0S','ru1Nr24','D3z3rwK','vMXRD3y','C3bSAxq','DhjPz2DLCG','yxbWBhK','C2HTr0O','5AoW5lI05yw25Akd77YA5Ps25yIW5O+q56s66k+n','Duryr1u','EhPADLa','yxbWzw5K','Bfnyuhq','DvbMCxq','teXniev4zwn1Da','zw50','y3jLyxrLrwXLBq','C3rHDhvZvgv4Da','ufrhwu0','yxbWzw5Kq2HPBa','y3rvuKW','uvHsELm','6ywn572Uici','icaGica8Dgv4Da','C3rHCNrmB2fKAq','y3jLyxrLt2jQzq','ChvZAa','Aw9U','qKDUAhe','s0Dewhu','icaGpgXHyMvSpG','i2XSBv9WCM9MAq','ihjVD3m9iJiIia','yvrAq1e','CMjgAMC','uvv1r1e','yxbPx3vYBa','twLXr0i','ueKGs2v5lcdMIjyG','6k+36ycj5OUP5lIa5lIQ5QIH5z6l77Ym5OIw5ywi','6k+36l6t5ywL5PAW55Qe6ywn572U5zcn56EW77YA','y29UC3rYDwn0BW','zgf0yq','thj3vK0','t2XtD3G','ChjVBxb0','uhrxA2W','AeXSshK','vNDisuW','zMLSzxm','CMvZDwX0','i2XSBv90B3bFCa','ywjLBd5bssaJ','tsdMIAFOOyZOR7FMSyiGkeLe','BMzpB2i','AfvKDwW','wfLJt2K','mZa5ntC0nwroAg5Wvq','psjZDc1PCY10zq','vgrrD1O','vgr4Ehe','C09zr1O','vMvLDgK','Bg1eAKe','y2HLy2TLza','Dg9U','ANvOAvm','B25JAgfUz2u','teXnx0Dfvf9quG','wM9mreO','yuvvtMu','EeLNB2C','y29Kzq','mJKXnJiXqKLlwMn5','mty3nZq2mgTqreHrBq','CgPMsfm','r3D4BKW','rvfpALG','yNv0Dg9U','zw5vv3u','5PYQ5Ps25yIW5PYj5Pwi5zUE5Asn44cc','C29Tzq','vujdwxe','teXnx0vyrunvva','s0zIDum','6k+36l6t5ywL6iEZ5Bcr5lIa5P2H55sO5OI35Rwl','CNvluhu','ywjVCNq','qLb0teS','uejbyuS','cIaGicaGicaGia','t01qvf9srvnqtW','C3rHDhvZ','teXn6k+35Rgc5BEY5lIT5PAT77Ym5BYa','Aw5WDxq','sKLVCeC','DMfS','DgvTCgvYyxr1CG','DwHxrhu','Bgv0Aw9UCW','ios4QUMfJEE9RUoaGG','Bg9N','thLXDMC','qvbjifvstcWGqq','r1HmzeS','zLb2wLm','55sO5OI3icm','zeDhy2y','iIdLT7lLRzJLNkJJGii','BfHdA2u','ou1fwMvHzq','ELvTC3y','uvzTt1q','56In5yczlI4U','CgjsCey','uMvXDwvZDcbHyG','BgXTvgvZDe1Vza','AxmTBgXTlwHPCW','B25SB2fK','y2HHBMDL','Bg5HDwS','C05KAfa','quvPzum','tLzbugG','teXnx1rfu1rFuG','5RkH5PYj6ycj5lIT55Qe6ywn572U44cc','EgDurMm','A2DVwNK','B3j0zwq','mhWXFdn8nhWY','DxnLCG','i2XSBv90zw1Wzq','Dg9YEs11C2vYiG','vvPewee','CM91Cci+cIaGia','yxnZpsjZDc1PCW','CNjTDKq','D1DMD3C','r1fTsgK','zg93BMXVywq','CMjV','s2zut2i','thjRuw4','l21VzgvSCW','Ce5sufy','y1v4se8','y3vYCMvUDf9SBa','iIdLKjFVVj8','x3nLBgvJDa','v0XvD20','i2XSBv9TyxHFDa','zsbfCNjVCJO','lNn0lwLZlwXSBq','sMXIzMu','AhjLzG','qLzUzhG','CMvHzefZvgv4Da','AxDWvwy','CMf0DxjLx3zHBa','CgXHy2vOB2XKzq','C3rVCeXVywrPBG','t2fUru4','z1v3BeK','ueriBuq','CM9MAwXLx2j1Da','C3rYAw5NAwz5','CMv2B2TLt2jQzq','ChjVzMLSzv9IDq','DgfYz2v0','u0LAr3y','DNfNrva','zxjYB3i','BgjlEKu','vvPgExq','tK5SEwm','Dg9Wx3a','sKTOs1m','wg95z1a','CgfYC2u','yxbWBgLJyxrPBW','ys1ZCgLUBMvYia','ywjVCNrLzc4','DvDyq3m','mNWXFdb8m3W0','s05eBNu','z2jLu3G','CxzTzg4','ntq3mJuYme5Jy1n1uG','i2v4Cg9YDf9SBa','ufHfANO','EhHozNG','6ywn572U5zcn56EW5lIn6io95lI656M644cc','Bwv0Ag9K','B2jQzwn0','svnSt0K','zMeTC29SAwqGzG','pGOGicaGicaGia','6i635y+w5QIH5z6l5yIx6kgO5AsX6lsLoIa','Axb4Cfu','Bv9WCM9MAwXLxW','s0zJweq','l2nOyxqVy29TCa','CMf0DxjL','psiYiIbWBgfJzq','DhjPBq','rfb0u0e','tLHetwW','x3zHBhvL','5AsN5QIH5z6l5Rwl6k+v5QIH5BYp5BEY','nJi3nZG0v2zorun2','y25mA1G','BgvUz3rO','AgvHzgvYCW','svLztw8','AfbyD2i','BMfTzq','r3rfBhG','zMLUza','wwjcEgq','teXnifrLC3qGrq','DhLWzq','u2jjAuy','vxDkA1i','AfDorMm','5l2G56gU5A6A6kAb5yIG6zMK6ywn572Uici','rMPeuvi','tMjHz28','pc9SywjLBd4kia','teXnioIVT+AXGUw3SUs4REATOUoaGG','5Rwl6k+v5BEY5y+w5RAi44cc','Efnkq3G','vfPHz0e','EeXNt3i','i2XSBv90zxn0xW','iIdLT7lKV53LRzJJGii','CM1fvfq','tK5TD3q','y2HVAwnLCW','5A+85ywL5AsX6lsL77Ym5PAh5lU25Qc85BYp5PEG','tNvyDNq','y1rfww4','ChjVDg90ExbL','qMLWrKW','r2Hvu3i','A0LQrw8','zw94qu0','zfnUsuW','v0L2Bhi','y2fSBa','pgKGy2XHC3m9iG','i2XSBvrLC3rnBW','mZm1nJaWnZbuENLZq00','rv9srvnqt05trq','t1jMyNC','qwjVCNrfCNjVCG','yM9KEq','icaGicaGicaGia','suDuD3e','DxnNq0i','tLnf','tvDwtuS','CNjVCJO','DhrVBG','iowBNUwKJs4UlIi+','DxzwBwO','CM9Szq','ywnJzxb0','zw1PDa','C2uGvvjmiowsJcbb','i2LTCg9YDf9SBa','oMnOzwnRzwq','quXQr0y','tMLvD3e','vhb0EeO','5RkH5PYj6ycj5lIT55Qe6ywn572U5y+V5A+85yE6','ANnVBG','y0nfAKK','qMvHCMvYia','6k+35Rgc6zsz6k+VoIa','A2v5CW','BKzdBMy','zsbYzxf1zxn0ia','Bwf4x3rVA2vUCW','yxDMsuO','uNnRvuy','vgX2tKu','Aw9uq0q','BwvZC2fNzq','wxncsgy','5OIq5yQF6i635y+wia','wMvtruq'];_0x1b7a=function(){return _0x19edd9;};return _0x1b7a();}let profileSelect,apiUrlInput,apiKeyInput,modelSelect,fetchModelsButton,temperatureSlider,temperatureValue,topPSlider,topPValue,maxTokensSlider,maxTokensValue,testHistoryContainer,testButton,resultTextarea,llmTestModeToggle,combinedPromptTextarea,currentLLMRequestController;export function updateCombinedPrompt(_0x600c2){function _0x58f0d9(_0x44bf13,_0x3ba7f3,_0x288bee,_0xd12197){return _0x113b(_0x44bf13-0x25f,_0x3ba7f3);}combinedPromptTextarea&&combinedPromptTextarea[_0x58f0d9(0x32a,0x3d9,0x2ee,0x2f8)](_0x600c2);}export function isLLMRequestActive(){return!!currentLLMRequestController;}export function abortLLMRequest(){const _0x567014={};_0x567014[_0x49dfe3(0x1ae,0x108,0x1aa,0x1cc)]=_0x3b110f(0x35c,0x3c5,0x3cc,0x366);const _0x4e9fc2=_0x567014;function _0x49dfe3(_0x58e197,_0x2d481b,_0x18b16d,_0x2962da){return _0x113b(_0x58e197-0x14,_0x2962da);}function _0x3b110f(_0x515d7e,_0x5849be,_0x405b19,_0x4a4414){return _0x113b(_0x5849be-0x276,_0x405b19);}currentLLMRequestController&&(currentLLMRequestController['abort'](),toastr[_0x3b110f(0x3b3,0x46a,0x49b,0x445)](_0x4e9fc2[_0x49dfe3(0x1ae,0x218,0x1a6,0x25b)]));}function renderHistory(_0xbbadaa=[]){const _0x4ca0d2={'kIjEo':function(_0x2e158f,_0x40cb4a){return _0x2e158f<_0x40cb4a;},'eCpgW':_0x53c873(-0xef,-0x114,-0x114,-0xb5),'ndIdK':function(_0x25eb42,_0x27ff0d){return _0x25eb42(_0x27ff0d);},'JbibA':function(_0x14b32f,_0x515f75){return _0x14b32f+_0x515f75;},'MsItQ':function(_0x5ecdfb,_0x2cd4a5){return _0x5ecdfb+_0x2cd4a5;}};testHistoryContainer[_0x15ae19(-0x15b,-0x1e7,-0xf8,-0xd4)]();function _0x53c873(_0x4783d2,_0x5b7497,_0x257f0e,_0x4636f1){return _0x113b(_0x5b7497- -0x237,_0x4636f1);}function _0x15ae19(_0x466bab,_0xcb518e,_0x2ff33f,_0x234a5f){return _0x113b(_0x466bab- -0x371,_0xcb518e);}for(let _0x53274e=0x3a6*0x5+-0x1b1*-0x14+-0x3412;_0x4ca0d2[_0x53c873(-0x67,-0xd8,-0x2e,-0x51)](_0x53274e,0x265c+-0x25e9+-0x70);_0x53274e++){if(_0x4ca0d2[_0x15ae19(-0x18a,-0x16a,-0x1cb,-0x245)]===_0x4ca0d2[_0x15ae19(-0x18a,-0x14d,-0x1cb,-0x204)]){const _0x47ba86={};_0x47ba86[_0x15ae19(-0x284,-0x31c,-0x32b,-0x287)]='',_0x47ba86[_0x53c873(-0x8c,-0x99,-0xc5,0x23)]='';const _0x34b5a9=_0xbbadaa[_0x53274e]||_0x47ba86,_0x3a1f86=_0x4ca0d2[_0x15ae19(-0x175,-0xae,-0x173,-0x231)]($,_0x53c873(-0xf5,-0x172,-0x16f,-0x1ee)+_0x53c873(0x1f,-0x31,0x4c,-0x55)+_0x15ae19(-0x27f,-0x261,-0x215,-0x2e1)+_0x15ae19(-0x1c2,-0x24b,-0x129,-0x277)+_0x15ae19(-0x166,-0x127,-0x10e,-0x98)+_0x53c873(-0xe3,-0x1a,0x45,-0x94)+_0x53c873(-0x1dd,-0x146,-0x1cd,-0x15d)+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x15ae19(-0x2e8,-0x2c0,-0x397,-0x34a)+_0x53c873(-0x14e,-0x162,-0x1c3,-0x1f0)+_0x4ca0d2[_0x53c873(-0xb5,-0x5e,-0x73,-0x112)](_0x53274e,0x2*-0x112d+0x78b*0x1+0x1ad0)+(_0x15ae19(-0x223,-0x28b,-0x1bb,-0x2eb)+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x53c873(-0x196,-0x1b5,-0x187,-0x220)+'area\x20class'+_0x53c873(-0x1da,-0x192,-0x173,-0x13e)+'xtarea\x20st-'+'is-llm-his'+_0x15ae19(-0x282,-0x29d,-0x301,-0x1b1)+_0x15ae19(-0x2e6,-0x343,-0x327,-0x2e7)+_0x53c873(-0x17b,-0x12d,-0x1a3,-0x1a2)+_0x53c873(-0x6f,-0xa4,-0xf6,-0x7b)+'\x22>')+_0x34b5a9[_0x15ae19(-0x284,-0x1d4,-0x23d,-0x285)]+('</textarea'+_0x15ae19(-0x242,-0x22e,-0x22a,-0x2e4)+'\x20\x20\x20\x20\x20\x20\x20\x20<l'+_0x15ae19(-0x2d2,-0x39b,-0x32b,-0x21f))+_0x4ca0d2['MsItQ'](_0x53274e,-0x995+0x892+0x104)+(_0x15ae19(-0x223,-0x2c1,-0x1e3,-0x2fa)+_0x15ae19(-0x206,-0x29f,-0x15d,-0x1aa)+'\x20\x20\x20\x20\x20<text'+'area\x20class'+_0x53c873(-0x210,-0x192,-0x23f,-0x261)+'xtarea\x20st-'+_0x15ae19(-0x291,-0x27f,-0x1d0,-0x277)+'tory-assis'+'tant\x22\x20rows'+_0x53c873(-0xa1,-0x101,-0x1da,-0x6d)+_0x53c873(-0x5d,-0x94,0x1c,0x3d)+_0x15ae19(-0x1ff,-0x1f5,-0x149,-0x169))+_0x34b5a9['assistant']+('</textarea'+_0x53c873(-0xbe,-0x108,-0x9c,-0x97)+'\x20\x20\x20\x20</div>'+_0x53c873(-0x128,-0x8e,-0xe0,-0x28)));testHistoryContainer[_0x15ae19(-0x145,-0x177,-0x15c,-0x1fe)](_0x3a1f86);}else _0x56cc09+='\x20('+_0x1071f8[_0x15ae19(-0x165,-0x1de,-0xd8,-0x205)](',\x20')+')';}}export function loadLLMProfiles(){const _0x2d3888={'OJhQu':function(_0x613ae1,_0x37cb71){return _0x613ae1===_0x37cb71;},'FhQAS':function(_0x13320b,_0x444812){return _0x13320b>_0x444812;},'ufnyD':function(_0x3c25f2,_0x23dfbc){return _0x3c25f2===_0x23dfbc;},'dYboc':_0x5d104a(-0x8c,0x25,-0x8f,0x54),'nfOob':function(_0x3b6d84,_0x1422da){return _0x3b6d84===_0x1422da;},'xzZvP':function(_0x2e3a99){return _0x2e3a99();},'IfbQU':_0x5d104a(0x104,0x99,0x3d,-0x3),'Jvfie':_0x5d104a(-0xe3,-0xad,-0x136,-0x5e)},_0x4fdc86=extension_settings[extensionName]['llm_profil'+'es']||{};function _0x320f67(_0x28987f,_0x35f4ba,_0x459e47,_0x4d6f3d){return _0x113b(_0x4d6f3d- -0xb1,_0x28987f);}const _0x343929=extension_settings[extensionName][_0x320f67(-0x25,0x2e,0xac,0x4c)+'m_profile'];profileSelect[_0x5d104a(0x5b,0x87,0x88,0x44)]();function _0x5d104a(_0x48b03d,_0x52f62f,_0x14141c,_0x4fb40d){return _0x113b(_0x52f62f- -0x18f,_0x14141c);}Object[_0x5d104a(0x5a,-0xd,-0x11,-0xa)](_0x4fdc86)[_0x5d104a(-0x69,0x3f,0xeb,0x57)](_0x8cf584=>{function _0x5cfd18(_0x2ac59e,_0xdd5354,_0x11b51d,_0x162ff8){return _0x5d104a(_0x2ac59e-0x177,_0xdd5354-0x4e,_0x162ff8,_0x162ff8-0xb9);}function _0x4e3774(_0x2a118d,_0x276cbc,_0x2e207c,_0x1e9f54){return _0x5d104a(_0x2a118d-0x15d,_0x1e9f54-0x4e,_0x2a118d,_0x1e9f54-0x1aa);}if(_0x2d3888['ufnyD'](_0x2d3888['dYboc'],_0x5cfd18(0x50,0x73,0x147,-0x4a))){const _0xb9a516=new Option(_0x8cf584,_0x8cf584,_0x2d3888[_0x4e3774(-0xd9,-0x81,0x34,-0xa0)](_0x8cf584,_0x343929),_0x2d3888[_0x4e3774(0x8b,-0x81,-0x5e,0x54)](_0x8cf584,_0x343929));profileSelect[_0x5cfd18(0x8c,0xeb,0xf6,0x30)](_0xb9a516);}else{let _0x47fbef;if(_0x2d3888[_0x5cfd18(0xb9,0xa5,-0x32,0x47)](typeof _0xd67261['error'],_0x5cfd18(0x20,-0x15,-0x20,-0x3a))&&_0x1a1039['error'][_0x5cfd18(-0x67,0x49,0x9d,0x9a)]){_0x47fbef=''+_0x41ef37[_0x4e3774(0x9e,-0x103,-0x6e,-0x2b)][_0x4e3774(0x60,0xa,0xa0,0x49)];const _0x19c850=[];if(_0x394a10[_0x5cfd18(-0x92,-0x2b,-0xe4,-0x5d)][_0x5cfd18(0x20,0x6,-0x5e,0x67)])_0x19c850[_0x4e3774(-0x197,-0x8f,-0xe1,-0xbc)]('类型:\x20'+_0x27de99['error'][_0x4e3774(-0x31,-0x61,0x3f,0x6)]);if(_0x1d3ac6['error'][_0x5cfd18(-0xa0,-0x8e,-0x148,-0xf4)])_0x19c850[_0x4e3774(-0x73,-0x9c,-0x12b,-0xbc)](_0x4e3774(0x10d,-0x28,0x18,0x50)+_0xdbf7bd['error']['code']);_0x2d3888[_0x4e3774(0x13d,0xf7,0x163,0xb6)](_0x19c850[_0x4e3774(-0x3d,-0xbc,0x5d,-0x3)],0x928+0x1b08+0x18*-0x182)&&(_0x47fbef+='\x20('+_0x19c850[_0x5cfd18(0x84,0xcb,0x35,0xbf)](',\x20')+')');}else _0x47fbef=''+_0x893643[_0x4e3774(-0x81,-0x77,-0xf0,-0x31)](_0x12f492[_0x4e3774(-0x6b,-0xab,0x7b,-0x2b)]);throw new _0x3c4a01(_0x47fbef);}});if(profileSelect[_0x320f67(-0x1,-0xb2,0x66,0x1a)]()){if(_0x2d3888['IfbQU']===_0x320f67(0x214,0x24d,0x182,0x177))profileSelect[_0x320f67(0xf4,0xcb,0x169,0x175)](_0x2d3888[_0x5d104a(0xf1,0x91,0xa3,0x10a)]);else{const {id:_0x585dee}=_0x5395fb;if(!_0x585dee)return;_0x5dbbed[_0x5d104a(-0x153,-0xbf,-0x62,-0x13a)](_0x320f67(0xe7,0x245,0xf5,0x178)+_0x320f67(0x36,0x1c4,0x5e,0xfd)+_0x585dee+')');const _0x23d155=_0x2d3888[_0x5d104a(0xdc,0x9c,0x155,0x11)](_0x40caa7),_0xd3e237={};_0xd3e237[_0x5d104a(-0x133,-0xf7,-0xe7,-0xa4)]=_0x23d155,_0xd3e237['id']=_0x585dee,_0x2f5d05['emit'](_0x41b198[_0x5d104a(-0x38,-0xe0,-0x3e,-0x183)+_0x320f67(0x8b,-0xb1,-0x8a,0x15)+_0x320f67(0x34,0x112,0x12e,0xbd)],_0xd3e237);}}}function onProfileSelectChange(){const _0x210813={'OtmwH':function(_0x10e50b,_0x4a8c62){return _0x10e50b(_0x4a8c62);},'PDHmD':_0x424f1b(-0x18e,-0x15b,-0x215,-0x114),'GQmHi':function(_0x297aa0,_0x2077a5){return _0x297aa0(_0x2077a5);},'JMAyk':_0x424f1b(-0x316,-0x2a4,-0x288,-0x3c3)},_0x288234=_0x210813[_0x27c157(0xef,0x143,0x10f,0xb7)]($,this)[_0x424f1b(-0x2f6,-0x2ca,-0x324,-0x24e)]();function _0x27c157(_0x563b20,_0x515744,_0xffe36a,_0x435e48){return _0x113b(_0x435e48- -0x108,_0xffe36a);}if(!_0x288234)return;const _0x69f957=extension_settings[extensionName][_0x424f1b(-0x20e,-0x1c0,-0x1d5,-0x23d)+'es'],_0x30c6df=_0x69f957[_0x288234];function _0x424f1b(_0x213579,_0x47dc25,_0x5bb3a7,_0x2ae03b){return _0x113b(_0x213579- -0x3c1,_0x5bb3a7);}if(_0x30c6df){if(_0x210813['PDHmD']!==_0x210813[_0x27c157(-0xb1,0x39,0x5f,0x6)])_0x175f38+='\x20('+_0x522886['join'](',\x20')+')';else{apiUrlInput[_0x424f1b(-0x2f6,-0x281,-0x2c2,-0x321)](_0x30c6df[_0x424f1b(-0x332,-0x377,-0x38b,-0x3b0)]||''),apiKeyInput['val'](_0x30c6df[_0x424f1b(-0x1bf,-0x20a,-0x23f,-0x285)]||''),modelSelect[_0x424f1b(-0x1ab,-0x215,-0x249,-0xf8)]();const _0x5dffa2=_0x30c6df['model']||_0x27c157(0x159,0xbd,0x10e,0x114)+_0x27c157(-0x16,0x84,-0x43,-0x11);modelSelect[_0x424f1b(-0x195,-0x1a6,-0x233,-0x197)](new Option(_0x5dffa2,_0x5dffa2,!![],!![]));const _0x308d90=_0x30c6df['temperatur'+'e']??-0x1159+0x28a+0xecf+0.7;temperatureSlider[_0x424f1b(-0x2f6,-0x2ab,-0x347,-0x358)](_0x308d90),temperatureValue[_0x424f1b(-0x2f6,-0x242,-0x38e,-0x3ba)](_0x308d90);const _0x1099b4=_0x30c6df[_0x27c157(-0x82,-0x54,-0x30,0x12)]??-0x1211*-0x2+0x61*-0x16+-0x58f*0x5;topPSlider[_0x27c157(0x4,0x50,-0x1d,-0x3d)](_0x1099b4),topPValue[_0x27c157(-0x7e,-0x6f,-0xc0,-0x3d)](_0x1099b4);const _0x3aa858=_0x30c6df[_0x424f1b(-0x23c,-0x178,-0x1ab,-0x2fa)]??-0x3f3*-0x5+0x1120+-0x22df;maxTokensSlider[_0x27c157(0x11,0x1f,0x79,-0x3d)](_0x3aa858),maxTokensValue[_0x424f1b(-0x2f6,-0x2b9,-0x258,-0x273)](_0x3aa858),_0x210813[_0x27c157(0x84,-0xd1,0x19,-0x13)](renderHistory,_0x30c6df[_0x27c157(0x61,0x131,0x1cd,0x110)]),extension_settings[extensionName][_0x27c157(0x5f,-0xd3,0x9a,-0xb)+'m_profile']=_0x288234,saveSettingsDebounced();}}llmTestModeToggle['prop'](_0x210813[_0x27c157(0xa9,0x38,0xa8,0xc2)],extension_settings[extensionName][_0x27c157(-0xf9,-0x89,0x6f,-0x29)+'e']);}function _0x113b(_0x547104,_0x4d070f){const _0x488f07=_0x1b7a();return _0x113b=function(_0x23b59f,_0x3d3c4a){_0x23b59f=_0x23b59f-(0x1*-0x2072+-0x25f3+0x46e5);let _0x35f6be=_0x488f07[_0x23b59f];if(_0x113b['QcFaHP']===undefined){var _0x4288e7=function(_0x27ab63){const _0x555d03='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x3b0ef5='',_0xb1c1c='',_0x1b9df2=_0x3b0ef5+_0x4288e7;for(let _0x498a48=-0x63d*0x4+0x1ed1*-0x1+-0x37c5*-0x1,_0x1f68ee,_0x1ac321,_0x465620=-0x1*0x219d+0x5*-0xfb+-0x154*-0x1d;_0x1ac321=_0x27ab63['charAt'](_0x465620++);~_0x1ac321&&(_0x1f68ee=_0x498a48%(-0x1b4c+-0xd76+0x28c6)?_0x1f68ee*(-0x3*-0x6d8+-0x5a0*-0x3+-0x2528)+_0x1ac321:_0x1ac321,_0x498a48++%(-0x281*-0x1+0x65c+-0x8d9))?_0x3b0ef5+=_0x1b9df2['charCodeAt'](_0x465620+(-0x1*-0x1e6b+0x1a35+0x3896*-0x1))-(-0x5*0x41c+0x2b1+-0x1*-0x11e5)!==-0x2313+-0x3*-0x710+0xde3?String['fromCharCode'](0x1e71*0x1+0x7*0x185+-0x2815&_0x1f68ee>>(-(-0x11db+-0x1eb5*0x1+0x3092)*_0x498a48&0xb75*0x3+-0xc61*0x3+0x2ca)):_0x498a48:0x1c*0x116+0x2192+-0x1*0x3ffa){_0x1ac321=_0x555d03['indexOf'](_0x1ac321);}for(let _0x32adf7=-0x1510+0xf5*0x21+0x1*-0xa85,_0x529d91=_0x3b0ef5['length'];_0x32adf7<_0x529d91;_0x32adf7++){_0xb1c1c+='%'+('00'+_0x3b0ef5['charCodeAt'](_0x32adf7)['toString'](-0x29*0xa9+-0xc65*-0x1+-0x3af*-0x4))['slice'](-(-0x47*0x73+-0x2017+0x3ffe));}return decodeURIComponent(_0xb1c1c);};_0x113b['TYFWGQ']=_0x4288e7,_0x547104=arguments,_0x113b['QcFaHP']=!![];}const _0xed6559=_0x488f07[-0x1fa8+0x194a+0x65e],_0xd3ad99=_0x23b59f+_0xed6559,_0xa86b0c=_0x547104[_0xd3ad99];if(!_0xa86b0c){const _0xfda592=function(_0x20f7cd){this['CCOUHn']=_0x20f7cd,this['QRsRUG']=[0x244*0xd+0x1a0f+-0x3782,-0x3ab+-0x1ae9+-0xce*-0x26,0x8c*-0x1+0x16cf+-0x1643],this['lLwgKJ']=function(){return'newState';},this['GWWFpU']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['gxEyCU']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0xfda592['prototype']['xrceww']=function(){const _0x216886=new RegExp(this['GWWFpU']+this['gxEyCU']),_0x4d8160=_0x216886['test'](this['lLwgKJ']['toString']())?--this['QRsRUG'][-0x1778+0xd00+0xa79]:--this['QRsRUG'][0x720*0x4+-0x4*0x452+0x1*-0xb38];return this['bFHcji'](_0x4d8160);},_0xfda592['prototype']['bFHcji']=function(_0x6aa013){if(!Boolean(~_0x6aa013))return _0x6aa013;return this['BUOGUT'](this['CCOUHn']);},_0xfda592['prototype']['BUOGUT']=function(_0x2eac22){for(let _0x57e9ab=-0x33*0x68+-0x23e7+-0xd*-0x45b,_0x39c568=this['QRsRUG']['length'];_0x57e9ab<_0x39c568;_0x57e9ab++){this['QRsRUG']['push'](Math['round'](Math['random']())),_0x39c568=this['QRsRUG']['length'];}return _0x2eac22(this['QRsRUG'][-0x129e+-0xc3*-0xa+0xb00]);},new _0xfda592(_0x113b)['xrceww'](),_0x35f6be=_0x113b['TYFWGQ'](_0x35f6be),_0x547104[_0xd3ad99]=_0x35f6be;}else _0x35f6be=_0xa86b0c;return _0x35f6be;},_0x113b(_0x547104,_0x4d070f);}function collectProfileDataFromUI(){function _0x292fdc(_0x19b59f,_0xff8ece,_0x5af24e,_0x110981){return _0x113b(_0x5af24e-0x1fd,_0x19b59f);}function _0x351829(_0x3d1e4a,_0x24d46b,_0x1d6863,_0x3fa20f){return _0x113b(_0x3d1e4a-0x1fb,_0x1d6863);}const _0xbb8dce={'pNRPV':_0x292fdc(0x461,0x47d,0x3ae,0x3a5),'LiVvB':function(_0x203ed7,_0x147c73){return _0x203ed7===_0x147c73;},'RskUF':'qvONe','YRDQV':_0x351829(0x296,0x219,0x2fe,0x2fc),'QUuGQ':'.st-is-llm'+_0x292fdc(0x3d2,0x37c,0x3c2,0x372)+'ser','mBylu':function(_0x5ba7fc,_0x449d44){return _0x5ba7fc(_0x449d44);},'Tdxxq':_0x292fdc(0x378,0x2ff,0x300,0x380)+_0x292fdc(0x38e,0x473,0x3e0,0x467)+_0x351829(0x3b2,0x3b2,0x3a8,0x32a),'uvVmj':function(_0x5b2c7b,_0x47826a){return _0x5b2c7b(_0x47826a);},'ascMj':function(_0x2e44c9,_0x4bc5f0){return _0x2e44c9(_0x4bc5f0);}},_0x3a020a=[];return $(_0x351829(0x2fe,0x2c2,0x36a,0x2d5)+_0x351829(0x418,0x35b,0x457,0x3b2)+'roup')['each'](function(){function _0x2a028b(_0x411f61,_0x46d14d,_0x5beb82,_0x27cd5a){return _0x351829(_0x411f61- -0x3b4,_0x46d14d-0xf8,_0x27cd5a,_0x27cd5a-0x7f);}function _0xa27348(_0x9e19d6,_0x2457e9,_0x4b2301,_0x870bd9){return _0x292fdc(_0x4b2301,_0x2457e9-0x2c,_0x870bd9- -0x36d,_0x870bd9-0x105);}if(_0xbb8dce[_0x2a028b(-0xd,0xcc,0xa4,-0xcd)](_0xbb8dce[_0x2a028b(-0x32,-0x68,-0x2,0x3c)],_0xbb8dce['YRDQV']))_0x1eb924[_0xa27348(-0x3b,0xcc,-0x15,0x8e)](_0xbb8dce[_0xa27348(0x45,0x6,0x40,-0x75)],![]),_0x1c68fb=null,_0x5d8439[_0x2a028b(-0xae,-0x100,-0x171,-0x16)+'g']();else{const _0x50a19f=$(this)[_0xa27348(0x53,0x4f,-0x83,-0x2c)](_0xbb8dce[_0x2a028b(-0x12b,-0x50,-0x66,-0x1c0)])[_0xa27348(-0x142,-0x43,-0xfd,-0xa5)](),_0x54196d=_0xbb8dce[_0x2a028b(0x4,-0xd7,-0x84,-0xb7)]($,this)[_0xa27348(0x1c,0x34,0x7a,-0x2c)](_0xbb8dce[_0x2a028b(-0x112,-0x48,-0xb0,-0xe3)])['val'](),_0x4466c2={};_0x4466c2[_0x2a028b(-0xcc,0xf,-0x8c,-0x9c)]=_0x50a19f,_0x4466c2[_0x2a028b(-0x1b,-0x66,0x9a,-0x2f)]=_0x54196d,_0x3a020a[_0xa27348(-0x16f,-0x11d,-0x101,-0xeb)](_0x4466c2);}}),{'api_url':apiUrlInput['val'](),'api_key':apiKeyInput[_0x292fdc(0x303,0x201,0x2c8,0x2cf)](),'model':modelSelect['val'](),'temperature':_0xbb8dce[_0x292fdc(0x33c,0x338,0x370,0x3f1)](parseFloat,temperatureSlider[_0x292fdc(0x2e7,0x207,0x2c8,0x296)]()),'top_p':_0xbb8dce[_0x351829(0x3ab,0x46b,0x39d,0x36c)](parseFloat,topPSlider[_0x351829(0x2c6,0x20b,0x33a,0x25d)]()),'max_tokens':parseInt(maxTokensSlider[_0x351829(0x2c6,0x1ef,0x213,0x32f)](),-0x1b13+0x109f*-0x1+0x2bbc),'history':_0x3a020a};}function onSaveProfileClick(){const _0x2b7ca9={};function _0x169f64(_0x3a2669,_0x4cdd06,_0x111f10,_0x165c2c){return _0x113b(_0x4cdd06- -0x26c,_0x111f10);}_0x2b7ca9[_0x169f64(-0x201,-0x12c,-0x160,-0xf1)]=_0x56fb48(0x1e4,0xa0,0x154,0x14e);function _0x56fb48(_0x36816c,_0x286628,_0x31af96,_0x4e761e){return _0x113b(_0x4e761e-0x66,_0x286628);}const _0x148d88=_0x2b7ca9,_0x324101=profileSelect[_0x169f64(-0x22e,-0x1a1,-0x113,-0x115)]();if(!_0x324101){toastr[_0x169f64(-0x1af,-0xd6,-0x43,-0x79)](_0x148d88[_0x169f64(-0x18d,-0x12c,-0xd3,-0xa8)]);return;}extension_settings[extensionName]['llm_profil'+'es'][_0x324101]=collectProfileDataFromUI(),saveSettingsDebounced(),toastr[_0x169f64(-0x147,-0x98,0x0,-0xe7)](_0x56fb48(0x197,0xde,0xde,0xe7)+_0x324101+_0x56fb48(0xf5,0x278,0x239,0x1bb));}function onSaveAsProfileClick(){const _0x587f4d={'NNmwt':_0x346e2e(0x261,0x1f6,0x318,0x291),'ALGZe':function(_0x4fb390){return _0x4fb390();},'fjMSi':function(_0xdadff9){return _0xdadff9();}};function _0x346e2e(_0x5bdd74,_0x4a8a6d,_0x2b612e,_0x47f55e){return _0x113b(_0x47f55e-0x1bd,_0x2b612e);}function _0x12fe3d(_0x396c44,_0x4f14e7,_0x59f7b1,_0x416e01){return _0x113b(_0x4f14e7-0xd9,_0x416e01);}const _0x23465c=prompt(_0x346e2e(0x2ed,0x268,0x269,0x250));if(!_0x23465c||_0x23465c[_0x346e2e(0x36c,0x37a,0x2eb,0x2f4)]()===''){toastr[_0x346e2e(0x32e,0x2cf,0x3f3,0x353)](_0x346e2e(0x2b3,0x347,0x238,0x2e7));return;}const _0x49dd23=extension_settings[extensionName][_0x346e2e(0x431,0x38a,0x391,0x370)+'es'];if(_0x49dd23[_0x23465c]){if(_0x587f4d[_0x346e2e(0x23e,0x38d,0x2dc,0x314)]==='fPvZS'){toastr[_0x12fe3d(0x238,0x1ef,0x20d,0x22a)](_0x12fe3d(0x17a,0x15a,0x1cb,0x22e)+_0x23465c+_0x12fe3d(0x27d,0x1b0,0x283,0xe2));return;}else _0x136f5c[_0x12fe3d(0x1f0,0x1a4,0x22b,0x1ca)](_0x53c665);}_0x49dd23[_0x23465c]=_0x587f4d['ALGZe'](collectProfileDataFromUI),extension_settings[extensionName]['current_ll'+_0x12fe3d(0x235,0x295,0x2f5,0x22e)]=_0x23465c,_0x587f4d[_0x346e2e(0x321,0x2d4,0x393,0x38d)](saveSettingsDebounced),_0x587f4d[_0x346e2e(0x37d,0x3a0,0x394,0x38d)](loadLLMProfiles),toastr[_0x12fe3d(0x30b,0x2ad,0x2f5,0x2ab)](_0x12fe3d(0x129,0x15a,0x216,0x18a)+_0x23465c+'\x22\x20已创建并选中。');}function onDeleteProfileClick(){function _0x449f04(_0x4822f2,_0x49d950,_0x89012a,_0x3194b6){return _0x113b(_0x4822f2-0x158,_0x49d950);}function _0x4114da(_0x41a73e,_0x2c81f0,_0xbeec14,_0x5eb617){return _0x113b(_0x5eb617- -0x5d,_0x2c81f0);}const _0x4f2774={'GpsAp':function(_0x2c618d,_0x145126){return _0x2c618d<=_0x145126;},'ONuAG':_0x4114da(0x172,0x39,0xdf,0xc5),'YebPd':function(_0x563e7b){return _0x563e7b();}},_0x189669=profileSelect[_0x449f04(0x223,0x29d,0x1ba,0x255)]();if(!_0x189669){toastr[_0x4114da(0x16a,0x1d7,0x179,0x139)](_0x4114da(0xe3,0x68,-0x17,0x8b));return;}if(_0x4f2774['GpsAp'](Object[_0x449f04(0x2da,0x2c9,0x211,0x2be)](extension_settings[extensionName][_0x449f04(0x30b,0x3dc,0x321,0x2df)+'es'])['length'],-0x741*0x5+0x74b+0x1cfb)){toastr[_0x449f04(0x26e,0x261,0x328,0x281)](_0x4114da(0xdc,0x1a9,0x22a,0x183)+'。');return;}if(confirm(_0x4114da(0x49,0x19a,0xcf,0xee)+_0x189669+'\x22\x20吗？')){const _0x3db2a9=_0x4f2774[_0x4114da(0x103,0x1a2,0x14d,0x133)][_0x449f04(0x37d,0x2d9,0x397,0x3a8)]('|');let _0x392e8e=0xec9+-0x66d+-0xd6*0xa;while(!![]){switch(_0x3db2a9[_0x392e8e++]){case'0':_0x4f2774[_0x449f04(0x34e,0x305,0x308,0x2e2)](saveSettingsDebounced);continue;case'1':extension_settings[extensionName][_0x4114da(0x134,0x8c,0x67,0xa0)+_0x4114da(0x19e,0x196,0x22c,0x15f)]=Object[_0x4114da(0x6e,0x168,0x147,0x125)](extension_settings[extensionName][_0x449f04(0x30b,0x30c,0x340,0x379)+'es'])[-0x2292+-0x1*-0x172e+0xb64];continue;case'2':delete extension_settings[extensionName]['llm_profil'+'es'][_0x189669];continue;case'3':loadLLMProfiles();continue;case'4':toastr['success'](_0x449f04(0x1d9,0x1cb,0x124,0x1fb)+_0x189669+_0x449f04(0x2fd,0x397,0x30c,0x350));continue;}break;}}}function onExportProfileClick(){const _0x5b102f={};_0x5b102f[_0x190ed1(0x14d,0x100,0x229,0x19f)]=function(_0x2130be,_0x5c26d1){return _0x2130be!==_0x5c26d1;},_0x5b102f[_0x190ed1(0x15e,0x1e5,0xbf,0x163)]=_0x190ed1(0x247,0x262,0x178,0x217),_0x5b102f['QjqoT']=_0x190ed1(0x208,0x20e,0x259,0x194)+'。',_0x5b102f[_0x54375f(0x39a,0x455,0x2c7,0x2f1)]=_0x54375f(0x358,0x396,0x33c,0x32a)+'n/json';const _0x714ce=_0x5b102f;function _0x190ed1(_0x31ae38,_0xbc6dc1,_0x476abe,_0x2e4b87){return _0x113b(_0x2e4b87-0x17,_0xbc6dc1);}const _0x5d5e74=profileSelect[_0x190ed1(0x24,0x8d,0xc5,0xe2)]();if(!_0x5d5e74){if(_0x714ce[_0x190ed1(0x253,0xdf,0x155,0x19f)](_0x714ce['FjDQR'],_0x714ce['FjDQR']))_0x4776f2[_0x54375f(0x3d9,0x309,0x3e7,0x300)](_0x2e3d21),_0x344304[_0x190ed1(0x1e9,0x227,0x214,0x215)](_0x190ed1(0x11c,0x123,0x196,0x1c8),![]),_0x3f948b[_0x54375f(0x345,0x2e3,0x28c,0x291)+'g']();else{toastr[_0x190ed1(0x184,0x167,0x275,0x1ad)](_0x714ce['QjqoT']);return;}}const _0x13e9b3=extension_settings[extensionName]['llm_profil'+'es'][_0x5d5e74],_0x14462b={..._0x13e9b3},_0x1ef6b0=_0x14462b;delete _0x1ef6b0[_0x190ed1(0xe9,0xf7,0x61,0xa6)],delete _0x1ef6b0[_0x54375f(0x43c,0x454,0x4ae,0x40c)],delete _0x1ef6b0[_0x54375f(0x44c,0x4d2,0x37c,0x4c2)];const _0x3da299={};function _0x54375f(_0x5a33e8,_0x38ce99,_0xe214bd,_0x61fc00){return _0x113b(_0x5a33e8-0x23a,_0xe214bd);}_0x3da299[_0x5d5e74]=_0x1ef6b0;const _0x12fafc=_0x3da299,_0x5e8ca4={};_0x5e8ca4[_0x190ed1(0x157,0x1c1,0x1a8,0x15e)]=_0x714ce[_0x190ed1(0x127,0x192,0xbc,0x177)];const _0xf0523a=new Blob([JSON[_0x190ed1(0x11b,0x1e8,0xfb,0x127)](_0x12fafc,null,0x12f0+-0x143a+0x2*0xa7)],_0x5e8ca4),_0xef6475=URL['createObje'+_0x54375f(0x46f,0x45c,0x444,0x4ae)](_0xf0523a),_0x211c6a=document[_0x190ed1(0x2e0,0x177,0x308,0x248)+'ent']('a');_0x211c6a[_0x190ed1(0xa0,0x1ab,0x1b1,0x11c)]=_0xef6475,_0x211c6a[_0x54375f(0x330,0x392,0x3b9,0x38b)]=_0x190ed1(0x18d,0x1dd,0x19f,0x1d2)+_0x190ed1(0x139,0x1b7,0x246,0x204)+_0x5d5e74+'.json',document[_0x54375f(0x3a4,0x3ff,0x374,0x451)]['appendChil'+'d'](_0x211c6a),_0x211c6a[_0x190ed1(0x221,0x268,0x284,0x20a)](),URL[_0x190ed1(0xec,0x1b0,0x160,0x128)+_0x190ed1(0x22a,0x2e7,0x1a6,0x24c)](_0xef6475);}function onImportProfileClick(){function _0x557c74(_0x4fe8e0,_0x19a2c8,_0x18fcd8,_0x2be0a5){return _0x113b(_0x4fe8e0-0xa2,_0x18fcd8);}function _0x29d237(_0x59c851,_0x422e73,_0x2b47bb,_0x1fc7da){return _0x113b(_0x2b47bb- -0xb7,_0x422e73);}const _0x9acef={'NVAPh':_0x557c74(0x16a,0x216,0x90,0x111)+_0x29d237(0x90,0xbe,0xf1,0x132),'ORfbw':_0x557c74(0x1a5,0x277,0x1f6,0x1d5)+_0x29d237(0x66,0x159,0x12c,0xc2)+_0x29d237(0x4f,0x16b,0x100,0xa9),'eFHTe':_0x29d237(-0x87,-0x8d,0x4c,0xb7)+_0x29d237(0x1de,0x19f,0x166,0x1b8)+'roup','sOYGZ':function(_0x3552d6,_0x5b0737){return _0x3552d6===_0x5b0737;},'DBJHv':_0x557c74(0x240,0x1a7,0x298,0x2eb),'TdQwZ':'CdQpY','IGTwq':_0x29d237(0x121,0x79,0x121,0x7b),'ZeNwH':function(_0x14c810,_0x49d910){return _0x14c810!==_0x49d910;},'kgoZy':_0x557c74(0x20f,0x26c,0x179,0x1fd),'zUmsv':_0x557c74(0x186,0xcf,0x130,0x24a),'UBCYq':function(_0x58085c){return _0x58085c();},'AhjwQ':_0x557c74(0x1aa,0x126,0x151,0x188),'jAtGb':_0x29d237(0x156,0x140,0x15a,0xb3),'Lyqvg':'input','eAHcx':'file','eEkph':_0x557c74(0x266,0x1e6,0x2de,0x1d3)},_0x101030=document[_0x29d237(0xa1,0x1af,0x17a,0x200)+_0x29d237(0xef,0x16d,0x179,0x1e5)](_0x9acef[_0x29d237(0x21,0xda,0x1a,0xa1)]);_0x101030['type']=_0x9acef['eAHcx'],_0x101030[_0x557c74(0x217,0x276,0x19c,0x293)]=_0x9acef['eEkph'],_0x101030[_0x557c74(0x150,0x21d,0xe0,0xe9)]=_0x20b721=>{function _0x495060(_0x304664,_0x38224a,_0x5370f3,_0x5c70ce){return _0x29d237(_0x304664-0x97,_0x38224a,_0x304664-0x3ff,_0x5c70ce-0x17b);}const _0x19bd6e={'wWBct':_0x9acef[_0x5b7285(0xc2,0x189,0x180,0x10c)],'xLgOr':'请输入\x20API\x20Ba'+_0x495060(0x4bf,0x421,0x58e,0x549)+'PI\x20Key。','KMcxp':_0x9acef[_0x5b7285(0x265,0x20b,0x22b,0x26f)],'uPfqt':function(_0x261af4,_0x55ec53){return _0x261af4(_0x55ec53);},'gbeSx':_0x9acef['eFHTe'],'TptxJ':function(_0x31c41a,_0x4fe5bf){return _0x31c41a(_0x4fe5bf);},'ZoLDJ':function(_0x46d480,_0x37e719,_0x4d0a74){return _0x46d480(_0x37e719,_0x4d0a74);},'lLKwT':function(_0x19d1d5,_0x5c6f46){function _0x1f5430(_0x564d93,_0x390ce6,_0x2d3111,_0x556410){return _0x495060(_0x390ce6- -0x3e,_0x556410,_0x2d3111-0xfc,_0x556410-0x17d);}return _0x9acef[_0x1f5430(0x38a,0x3b2,0x41a,0x455)](_0x19d1d5,_0x5c6f46);},'awfIJ':_0x495060(0x50a,0x4b8,0x5be,0x5b9)+'e\x20request\x20'+_0x495060(0x468,0x46f,0x4b0,0x4b4),'lqhts':_0x9acef[_0x5b7285(0x210,0x276,0x24e,0x240)],'rbFjg':_0x9acef[_0x5b7285(0x1a9,0x149,0x21c,0x1a2)],'ipxpU':_0x9acef[_0x5b7285(0x13c,0x20f,0x2b0,0x201)],'RZCLP':function(_0x3aaebe,_0x306cf9){function _0x4d48ff(_0x2ce592,_0x427665,_0x147ddb,_0x1136d6){return _0x5b7285(_0x2ce592,_0x1136d6- -0x1e6,_0x147ddb-0xae,_0x1136d6-0xeb);}return _0x9acef[_0x4d48ff(0x74,0x171,-0x2,0xcc)](_0x3aaebe,_0x306cf9);},'rmETT':_0x9acef[_0x495060(0x432,0x3aa,0x45f,0x40a)],'SIZGv':_0x9acef[_0x495060(0x422,0x48e,0x438,0x4ac)],'POhTV':_0x5b7285(0x250,0x26a,0x22d,0x1da),'hPXwb':function(_0x457f8c){function _0x7c55f5(_0x205921,_0x3c5e5a,_0x543212,_0x91b449){return _0x495060(_0x3c5e5a-0x5e,_0x543212,_0x543212-0xf1,_0x91b449-0x9e);}return _0x9acef[_0x7c55f5(0x4d2,0x463,0x53d,0x3f1)](_0x457f8c);},'AsBub':_0x9acef['AhjwQ'],'EMgGn':_0x9acef[_0x495060(0x530,0x497,0x46f,0x4b0)]},_0x120cc3=_0x20b721['target'][_0x495060(0x3e4,0x390,0x3b0,0x38b)][0x128f+0xb2*-0x11+0x6bd*-0x1];function _0x5b7285(_0x2cd9c9,_0x10519d,_0x1adf6f,_0x1b1bc5){return _0x557c74(_0x10519d-0x1,_0x10519d-0x182,_0x2cd9c9,_0x1b1bc5-0x1ce);}if(_0x120cc3){const _0x38a860=new FileReader();_0x38a860[_0x495060(0x429,0x47b,0x4f2,0x451)]=_0xe76803=>{function _0x47faf7(_0x4f73b2,_0x3ebbdb,_0x1d95d6,_0x1604a0){return _0x495060(_0x3ebbdb- -0x68e,_0x4f73b2,_0x1d95d6-0x99,_0x1604a0-0xab);}const _0x4c3f47={'fFveA':function(_0x1c12ce,_0x15f4d0){function _0x2ee3f7(_0x21a79b,_0x5a8ca3,_0x8dd163,_0x2b38d2){return _0x113b(_0x21a79b-0x147,_0x2b38d2);}return _0x19bd6e[_0x2ee3f7(0x34b,0x3f9,0x3f0,0x2ec)](_0x1c12ce,_0x15f4d0);},'XoygP':_0x47faf7(-0x188,-0x1dd,-0x1d8,-0x2a0),'YbBxd':_0x19bd6e[_0xc0fa22(0x304,0x2af,0x387,0x3e5)],'nFCnf':'LLM\x20Execut'+'e\x20Error:','THVoE':_0x19bd6e[_0xc0fa22(0x4a3,0x315,0x3cd,0x3e6)]};function _0xc0fa22(_0x4f44b0,_0xd86f73,_0x956ea8,_0x5e5e9d){return _0x5b7285(_0x4f44b0,_0x956ea8-0x15e,_0x956ea8-0x5b,_0x5e5e9d-0x1cb);}try{if(_0x19bd6e[_0x47faf7(-0x305,-0x2b9,-0x312,-0x226)]!==_0x19bd6e[_0xc0fa22(0x381,0x30c,0x332,0x341)]){const _0x2e48e0=JSON[_0xc0fa22(0x33b,0x286,0x31e,0x316)](_0xe76803[_0xc0fa22(0x2a7,0x2e7,0x314,0x34b)]['result']);let _0x499af6=-0x1*0xdb2+0x13*0x22+0xb2c;for(const _0x1e25c0 in _0x2e48e0){if(_0x19bd6e['RZCLP'](_0x19bd6e[_0x47faf7(-0x1dd,-0x1f0,-0x1c9,-0x206)],_0xc0fa22(0x2f6,0x3d8,0x36e,0x30a)))_0x23043e[_0x47faf7(-0x307,-0x284,-0x2a0,-0x359)](),_0x3a303b[_0xc0fa22(0x434,0x33a,0x3f5,0x3bd)](_0x19bd6e['wWBct']);else{if(Object[_0x47faf7(-0x150,-0x1ea,-0x211,-0x24e)][_0x47faf7(-0x24c,-0x1a6,-0x154,-0x268)+'erty'][_0x47faf7(-0x139,-0x1e3,-0x249,-0x214)](_0x2e48e0,_0x1e25c0)){if(_0x19bd6e['RZCLP'](_0x19bd6e[_0xc0fa22(0x3b2,0x29c,0x315,0x367)],_0x19bd6e[_0xc0fa22(0x24c,0x280,0x315,0x2e7)])){if(_0x4c3f47[_0x47faf7(-0x182,-0x18d,-0x268,-0x145)](_0x7d7bbd[_0xc0fa22(0x2ac,0x302,0x343,0x2e5)],_0x4c3f47[_0x47faf7(-0x24a,-0x22a,-0x20d,-0x179)])){_0x53fb3f[_0xc0fa22(0x354,0x22e,0x2d1,0x213)](_0x4c3f47[_0x47faf7(-0x1c7,-0x201,-0x202,-0x138)]);const _0x5c0489={};_0x5c0489[_0xc0fa22(0x280,0x3d3,0x343,0x375)]=_0x4c3f47[_0x47faf7(-0x1d8,-0x22a,-0x179,-0x1c3)],_0x5c0489['message']=_0xc0fa22(0x2dd,0x2bb,0x2df,0x2cc)+_0xc0fa22(0x26f,0x2f0,0x2ec,0x382);const _0x240b3a={};_0x240b3a[_0x47faf7(-0xec,-0x172,-0x19f,-0x213)]=![],_0x240b3a['result']=null,_0x240b3a['id']=_0xd5f355,_0x240b3a[_0xc0fa22(0x2c1,0x348,0x317,0x3af)]=_0x5c0489,_0x345bb6[_0xc0fa22(0x2cc,0x451,0x377,0x38d)](_0x10920f[_0xc0fa22(0x2fe,0x365,0x2bf,0x2b7)+_0x47faf7(-0x165,-0x1df,-0x247,-0x152)],_0x240b3a);return;}_0x3376f6[_0xc0fa22(0x36c,0x37f,0x317,0x3aa)](_0x4c3f47[_0x47faf7(-0x1b3,-0x1c3,-0x241,-0x1db)],_0x513256);const _0x206655='请求错误:\x20'+_0x38ef76['message'];_0x29f5ed[_0xc0fa22(0x315,0x1fe,0x2cc,0x27a)](_0x206655),_0x1dd007[_0xc0fa22(0x33f,0x3e3,0x317,0x307)](_0x229faa[_0x47faf7(-0x12d,-0x1bc,-0x1ce,-0x132)]);const _0x8b51a8={};_0x8b51a8[_0xc0fa22(0x36a,0x41d,0x3d5,0x331)]=![],_0x8b51a8[_0x47faf7(-0x1d3,-0x2a9,-0x230,-0x1f6)]=_0x206655,_0x8b51a8['id']=_0x4f6cb0,_0xb8319d[_0xc0fa22(0x315,0x2e4,0x377,0x3d7)](_0x5e9638[_0xc0fa22(0x355,0x324,0x2bf,0x355)+_0x47faf7(-0x281,-0x1df,-0x1a1,-0x28d)],_0x8b51a8);}else{if(extension_settings[extensionName][_0x47faf7(-0x23b,-0x193,-0x18a,-0xcf)+'es'][_0x1e25c0]){if(_0x19bd6e['POhTV']!==_0x19bd6e[_0x47faf7(-0x118,-0x165,-0x108,-0x14f)]){const _0x3af6cb={};_0x3af6cb[_0xc0fa22(0x31b,0x3b8,0x375,0x362)]=_0x4c3f47[_0x47faf7(-0x107,-0x128,-0xd2,-0x1a5)],_0x3af6cb[_0x47faf7(-0x1c4,-0x1aa,-0x15e,-0x224)]=_0x132896[_0xc0fa22(0x32b,0x348,0x39f,0x470)],_0x31cad7[_0x47faf7(-0x1fc,-0x2c1,-0x216,-0x2ea)](_0x3af6cb);}else extension_settings[extensionName][_0x47faf7(-0x1d6,-0x193,-0x129,-0x123)+'es'][_0x1e25c0]={...extension_settings[extensionName]['llm_profil'+'es'][_0x1e25c0],..._0x2e48e0[_0x1e25c0]};}else extension_settings[extensionName][_0xc0fa22(0x35e,0x2f2,0x3b4,0x391)+'es'][_0x1e25c0]=_0x2e48e0[_0x1e25c0];_0x499af6++;}}}}saveSettingsDebounced(),_0x19bd6e[_0x47faf7(-0x13b,-0x205,-0x2cd,-0x256)](loadLLMProfiles),toastr[_0xc0fa22(0x400,0x2fb,0x3d5,0x3ab)](_0xc0fa22(0x443,0x41b,0x3ed,0x402)+_0x499af6+_0x47faf7(-0x1e1,-0x277,-0x206,-0x271));}else{_0x1d7300['warning'](_0x19bd6e[_0xc0fa22(0x302,0x2ad,0x354,0x318)]);return;}}catch(_0x4603cd){if(_0x19bd6e[_0x47faf7(-0xa9,-0x142,-0x192,-0x130)](_0x19bd6e['AsBub'],_0x19bd6e[_0x47faf7(-0x1bb,-0x124,-0x1aa,-0x103)])){const _0x530d28={'AEieC':function(_0x3692bd,_0x55ba17){return _0x3692bd(_0x55ba17);},'MWVMK':_0x19bd6e[_0xc0fa22(0x42b,0x461,0x3bb,0x492)]},_0x2bb2a7=[];return _0x19bd6e[_0xc0fa22(0x476,0x447,0x42f,0x4a1)](_0x1dba9f,_0x19bd6e[_0xc0fa22(0x360,0x264,0x325,0x3cb)])['each'](function(){const _0x4b0d86=_0x530d28[_0x18de07(0xfa,0x124,0x164,0x146)](_0x1cd221,this)[_0x3d6acf(0x20a,0x27b,0x1e1,0x133)](_0x18de07(0x1ed,0x179,0xeb,0x164)+_0x3d6acf(0x2f9,0x21e,0x262,0x1ae)+_0x3d6acf(0x2b7,0x293,0x26a,0x2f3))['val']();function _0x18de07(_0x2419b7,_0x52a04b,_0x5c12b8,_0x4da8cb){return _0x47faf7(_0x52a04b,_0x4da8cb-0x3a7,_0x5c12b8-0x1b6,_0x4da8cb-0xc9);}const _0xd8f493=_0x530d28[_0x18de07(0x1bd,0xe6,0x1e4,0x146)](_0xa945f2,this)[_0x18de07(0x248,0x248,0x23d,0x1a5)](_0x530d28[_0x3d6acf(0x141,0x180,0x20c,0x20b)])['val'](),_0x5c1e92={};function _0x3d6acf(_0x33b049,_0x4eb9e6,_0x5b887a,_0xfedcd1){return _0x47faf7(_0x33b049,_0x5b887a-0x3e3,_0x5b887a-0x1be,_0xfedcd1-0x139);}_0x5c1e92[_0x18de07(0x1f3,0x211,0x20a,0x14e)]=_0x4b0d86,_0x5c1e92[_0x3d6acf(0x29d,0x23d,0x23b,0x2ea)]=_0xd8f493,_0x2bb2a7[_0x3d6acf(0xbf,0x72,0x122,0xe3)](_0x5c1e92);}),{'api_url':_0x2d24f8[_0x47faf7(-0x2bf,-0x27b,-0x1a9,-0x2f7)](),'api_key':_0x8c7ace['val'](),'model':_0x28260f[_0xc0fa22(0x20d,0x389,0x2cc,0x226)](),'temperature':_0x19bd6e[_0xc0fa22(0x387,0x34d,0x37d,0x453)](_0x2c4da7,_0x1689e0['val']()),'top_p':_0x1c2adc(_0x16339e[_0x47faf7(-0x1e4,-0x27b,-0x1e9,-0x2bd)]()),'max_tokens':_0x19bd6e[_0xc0fa22(0x257,0x24b,0x2b1,0x281)](_0x4b1b1e,_0x460a15[_0x47faf7(-0x301,-0x27b,-0x27c,-0x1de)](),0xf81+0x507+0x7a*-0x2b),'history':_0x2bb2a7};}else toastr[_0xc0fa22(0x2dc,0x3b4,0x317,0x2a2)](_0x47faf7(-0x1c8,-0x1ed,-0x19f,-0x292)+'效。');}},_0x38a860[_0x495060(0x44f,0x4de,0x4f4,0x518)](_0x120cc3);}},_0x101030[_0x557c74(0x295,0x354,0x34c,0x296)]();}async function onFetchModelsClick(){const _0x2b2492={};_0x2b2492[_0x15cba2(0x81,0x78,0x1f,-0x7)]=function(_0x3a7756,_0x3addea){return _0x3a7756===_0x3addea;},_0x2b2492['FehzS']=_0x5aa077(0x10a,0x36,-0x5f,0x66),_0x2b2492[_0x5aa077(0x96,0x1dd,0x20f,0x15a)]=_0x5aa077(0x1b4,0x223,0x126,0x160)+'se\x20URL\x20和\x20A'+'PI\x20Key。',_0x2b2492[_0x15cba2(0xab,-0xa,0x5a,0x9f)]=function(_0x2d1060,_0x1f0aaa){return _0x2d1060!==_0x1f0aaa;},_0x2b2492[_0x5aa077(0xce,0x1d1,0x1b4,0x187)]=_0x5aa077(0x62,0x24,0xc,0x71),_0x2b2492[_0x15cba2(0x88,0xc4,0xea,0x4e)]=function(_0x5a5542,_0x4a7c2d){return _0x5a5542!==_0x4a7c2d;},_0x2b2492[_0x5aa077(0x6f,0x73,-0x6a,0x1e)]=_0x5aa077(0xcf,0x159,0x72,0x122),_0x2b2492[_0x15cba2(0xda,0x6d,-0x33,0x77)]=_0x5aa077(0x2e,0x2c,0x116,0x4c)+_0x15cba2(0x18,0x33,0x10,0xa5),_0x2b2492['UZDXA']=_0x5aa077(0x10a,0xb1,0xb6,0x6c),_0x2b2492[_0x15cba2(0x1fb,0x1a3,0x13f,0x12a)]=function(_0x31639f,_0x4eb367){return _0x31639f||_0x4eb367;},_0x2b2492['wWfww']=function(_0x12883f,_0x28c69a){return _0x12883f+_0x28c69a;};function _0x5aa077(_0x1f4d7c,_0x3a85fa,_0x43874e,_0x59bc05){return _0x113b(_0x59bc05- -0x7c,_0x1f4d7c);}_0x2b2492['WiiJo']=_0x5aa077(0x118,0x1e2,0x172,0x135),_0x2b2492[_0x15cba2(0x82,-0x64,0x70,-0x44)]=_0x5aa077(0x6a,0xb,0x35,0xde),_0x2b2492[_0x15cba2(-0x17,-0x11,-0x97,0x9)]='GET',_0x2b2492[_0x15cba2(0x28,0x22,0x70,-0x51)]='dNCYn',_0x2b2492[_0x15cba2(0xa2,0x35,0x1e,0xc3)]=function(_0x4022af,_0x4d91f5){return _0x4022af===_0x4d91f5;},_0x2b2492['rFARz']='object',_0x2b2492[_0x15cba2(-0x1f,0xb,0xe5,0x5b)]=function(_0xd74c35,_0x18a043){return _0xd74c35!==_0x18a043;},_0x2b2492['lXCke']=_0x15cba2(0xab,0x22,-0x84,0x30),_0x2b2492[_0x5aa077(-0x1b,0x5e,-0x34,0x9d)]=_0x5aa077(0x111,-0x8,-0x6b,0x3c),_0x2b2492[_0x5aa077(0xc6,0x5b,0x49,0x8a)]=function(_0x40249e,_0x596f1e){return _0x40249e>_0x596f1e;};function _0x15cba2(_0x10de16,_0x5e839d,_0x1bec49,_0x2d6748){return _0x113b(_0x2d6748- -0x103,_0x5e839d);}_0x2b2492[_0x15cba2(0xaf,-0xb1,-0xc7,-0x26)]=function(_0x1b1ceb,_0x1dc06a){return _0x1b1ceb===_0x1dc06a;},_0x2b2492[_0x15cba2(0x80,0x103,0x7d,0xb2)]=_0x15cba2(0x71,0x19c,0x102,0x10b),_0x2b2492[_0x5aa077(0x1f7,0x13b,0x122,0x16e)]=_0x15cba2(0x1a9,0xbe,0x1e0,0x106),_0x2b2492['FwtWS']=_0x5aa077(0xf9,0xe5,0xa3,0x11c),_0x2b2492[_0x5aa077(0x202,0xf2,0x8a,0x155)]=_0x15cba2(-0xe1,0x7d,-0x17,-0x5a);const _0x30278e=_0x2b2492,_0x8ad66d=apiUrlInput['val'](),_0x55b170=apiKeyInput['val']();if(_0x30278e['lSXPt'](!_0x8ad66d,!_0x55b170)){toastr[_0x15cba2(-0x3b,0xaf,0x3a,0x93)](_0x5aa077(0x205,0x198,0x92,0x160)+_0x5aa077(0xd2,0x163,0x1c2,0xfb)+_0x15cba2(0x1b4,0x14a,0x189,0xe8));return;}const _0x1aa7b9=_0x30278e[_0x5aa077(0x116,0x60,-0x4f,0x78)](_0x8ad66d[_0x15cba2(0x37,0xa3,0xb7,0xa1)](/\/$/,''),_0x5aa077(-0x2f,0x106,0x157,0x7e)),_0x20700d=fetchModelsButton[_0x5aa077(0xbf,0x7f,0x1d2,0x123)]();fetchModelsButton[_0x5aa077(0xa1,0x14f,0x15d,0x123)](_0x15cba2(-0x36,0x113,0xed,0x61)+_0x5aa077(0x6,0xc7,0xef,0xb2)+_0x5aa077(0x163,0x0,0xba,0xa3)+'fa-spin\x22><'+'/i>\x20正在获取..'+'.'),fetchModelsButton[_0x5aa077(0x14f,0x1bf,0xdf,0x182)](_0x30278e['WiiJo'],!![]),floatBallStateManager[_0x15cba2(-0x7b,0x13,-0x12e,-0x80)+'ng']();try{if(_0x30278e['cUxHO'](_0x15cba2(-0xa4,-0xc1,-0xa,-0x30),_0x30278e['KFbuC'])){const _0x5b1b74={'ioTCD':function(_0x197372,_0x1f328e){function _0x11d2d7(_0x9e6328,_0x183b3e,_0x2c8392,_0x362d86){return _0x5aa077(_0x2c8392,_0x183b3e-0x80,_0x2c8392-0x194,_0x9e6328-0x90);}return _0x30278e[_0x11d2d7(0x110,0x195,0x196,0x1e6)](_0x197372,_0x1f328e);}},_0x1e1981=_0x1329f2[_0x2f04e1]['llm_profil'+'es']||{},_0x550288=_0x4b86d8[_0x513a9b]['current_ll'+_0x15cba2(0x131,0x69,0xe1,0xb9)];_0x5c5b36['empty'](),_0x96b1ab['keys'](_0x1e1981)['forEach'](_0x4ea1e1=>{const _0x14e8ee=new _0xd2ba76(_0x4ea1e1,_0x4ea1e1,_0x5b1b74[_0xaa321b(0x340,0x336,0x2b1,0x395)](_0x4ea1e1,_0x550288),_0x4ea1e1===_0x550288);function _0x7297e9(_0x1540aa,_0x335762,_0x4d348c,_0x1d804d){return _0x5aa077(_0x1540aa,_0x335762-0xbf,_0x4d348c-0xb,_0x335762-0x134);}function _0xaa321b(_0x12f02d,_0x3d7084,_0x436db8,_0x522d13){return _0x15cba2(_0x12f02d-0xf1,_0x436db8,_0x436db8-0x1b2,_0x12f02d-0x2ba);}_0x2034e7[_0xaa321b(0x3e3,0x3e9,0x49b,0x424)](_0x14e8ee);}),_0x3f8e05[_0x5aa077(0x4f,-0x77,-0x76,0x4f)]()&&_0x5279a1[_0x5aa077(0x1fa,0x113,0x163,0x1aa)](_0x30278e['FehzS']);}else{const _0x28897b={};_0x28897b[_0x15cba2(0x195,0x74,0x121,0xe1)+_0x15cba2(-0x4c,-0xb3,0x4f,-0x7d)]=_0x15cba2(0xd9,0x102,-0x16,0x7d)+_0x55b170;const _0xa21754={};_0xa21754[_0x5aa077(0x61,0x11f,0x135,0xaf)]=_0x30278e[_0x15cba2(0xb,-0x53,0xcb,0x9)],_0xa21754[_0x15cba2(-0x2f,0x82,0x50,0x3c)]=_0x28897b;const _0x59d0bc=await fetch(_0x1aa7b9,_0xa21754),_0x22a5fe=await _0x59d0bc[_0x5aa077(0x10f,0xd6,0x1d8,0x102)]();if(_0x22a5fe[_0x5aa077(0x153,0x126,0xef,0x9a)]){if(_0x30278e['xIgog']!==_0x30278e[_0x15cba2(0x3b,-0x94,-0x99,-0x51)]){let _0x31538f;if(_0x30278e['cUxHO'](typeof _0x35dd66['error'],'object')&&_0x285404[_0x5aa077(0x118,0x106,0x12b,0x9a)][_0x15cba2(-0x1b,0x99,-0x20,0x87)]){_0x31538f=''+_0x587d16[_0x15cba2(0xa,-0x91,0xa1,0x13)][_0x15cba2(-0x6,0xba,0x2b,0x87)];const _0xe1f4c1=[];if(_0x59f7e6['error'][_0x5aa077(0x18a,0x150,0x76,0xcb)])_0xe1f4c1[_0x15cba2(-0xee,-0x75,-0xcd,-0x7e)](_0x5aa077(0x225,0x1f0,0xa8,0x183)+_0x18a97c['error'][_0x15cba2(0xe0,-0x8,-0x2f,0x44)]);if(_0x5a8816[_0x5aa077(0x128,0x92,0x16a,0x9a)][_0x5aa077(-0x96,0x1f,0x64,0x37)])_0xe1f4c1[_0x5aa077(0x84,-0xa6,0x18,0x9)](_0x15cba2(-0x12,0xfb,0x8f,0x8e)+_0x378cf4['error'][_0x5aa077(-0x90,0xb0,0xed,0x37)]);_0xe1f4c1[_0x15cba2(0x66,-0x8e,0x101,0x3b)]>-0x535*-0x3+0xcac+0x1*-0x1c4b&&(_0x31538f+='\x20('+_0xe1f4c1['join'](',\x20')+')');}else _0x31538f=''+_0x1f1373[_0x15cba2(0x18,-0xc1,-0x25,0xd)](_0x8d9ef5[_0x15cba2(0x28,-0x62,0x7f,0x13)]);throw new _0x21ccee(_0x31538f);}else{let _0x32deac;if(_0x30278e[_0x15cba2(0xd8,0x3b,0xb8,0xc3)](typeof _0x22a5fe[_0x5aa077(0x5d,0x15b,0x59,0x9a)],_0x30278e['rFARz'])&&_0x22a5fe[_0x15cba2(0x43,0xcc,-0x92,0x13)]['message']){if(_0x30278e[_0x15cba2(0x126,-0x1f,0x2d,0x5b)](_0x30278e[_0x15cba2(-0x105,-0x4f,-0xe4,-0x2b)],_0x30278e[_0x15cba2(0x81,0xa,0x43,0x16)])){_0x32deac=''+_0x22a5fe['error']['message'];const _0x213e13=[];if(_0x22a5fe[_0x5aa077(0x24,-0x2a,0xdf,0x9a)]['type'])_0x213e13[_0x5aa077(0x62,-0x34,0xd6,0x9)]('类型:\x20'+_0x22a5fe[_0x5aa077(0x78,0xa0,0x26,0x9a)][_0x15cba2(0xd3,0xf1,0x24,0x44)]);if(_0x22a5fe[_0x15cba2(-0x26,0x2d,0x20,0x13)][_0x15cba2(-0xa3,-0x96,-0x63,-0x50)])_0x213e13[_0x15cba2(0x2e,-0x78,-0x43,-0x7e)]('代码:\x20'+_0x22a5fe[_0x15cba2(0xab,-0x12,-0x2b,0x13)][_0x15cba2(0x7a,-0x19,-0xde,-0x50)]);if(_0x30278e['BVndx'](_0x213e13[_0x5aa077(0x53,0x7b,0x13,0xc2)],0x10cb+0x409+-0x14d4)){if(_0x30278e[_0x5aa077(0x92,-0x5d,-0x5e,0x61)](_0x30278e[_0x5aa077(0x212,0xe5,0xba,0x139)],_0x30278e[_0x15cba2(0x2b,0x18b,0x1a0,0xe7)])){_0x4d4080['warning'](_0x30278e[_0x5aa077(0x1eb,0x18d,0x210,0x15a)]);return;}else _0x32deac+='\x20('+_0x213e13[_0x15cba2(0x140,0x6e,0x1df,0x109)](',\x20')+')';}}else{if(_0x3163fc['user']&&_0x30278e[_0x15cba2(-0x32,0xb0,0x8d,0x9f)](_0x4fc477[_0x15cba2(0x77,-0xd6,0x98,-0x16)][_0x15cba2(0x3f,0x7f,0x6d,0x34)](),'')){const _0x3591bc={};_0x3591bc[_0x5aa077(0x1bc,0x153,0x144,0xf8)]=_0x30278e[_0x5aa077(0x1b6,0xd6,0x245,0x187)],_0x3591bc[_0x5aa077(0xc1,0x103,0xe5,0x120)]=_0x4899c4[_0x5aa077(0xc7,0x96,0x94,0x71)],_0x217f35['push'](_0x3591bc);}if(_0x3e1b60['assistant']&&_0x30278e['xSJCx'](_0x5dc289['assistant'][_0x5aa077(0x7d,0x180,0x13b,0xbb)](),'')){const _0x49d6b4={};_0x49d6b4[_0x15cba2(0x78,0x109,0xc6,0x71)]=_0x30278e[_0x5aa077(-0x6e,0xa9,0x5f,0x1e)],_0x49d6b4[_0x5aa077(0x1f8,0x6d,0x160,0x120)]=_0x4e3269[_0x5aa077(0x15f,0x10c,0x18d,0x122)],_0x3d06b1[_0x5aa077(-0x34,-0x39,-0xae,0x9)](_0x49d6b4);}}}else _0x30278e[_0x5aa077(0x1e8,0xed,0x1f4,0x14a)]('qGryP',_0x30278e['FwtWS'])?_0x32deac=''+JSON[_0x5aa077(-0x44,0x1,0x12f,0x94)](_0x22a5fe[_0x15cba2(-0x97,-0xba,-0x50,0x13)]):(_0x64668f[_0x15cba2(-0x6,-0x90,-0xf7,-0x41)](),_0x5dcbac['info'](_0x30278e[_0x15cba2(-0x3e,0x5e,0x37,0x77)]));throw new Error(_0x32deac);}}if(!_0x59d0bc['ok'])throw new Error(_0x5aa077(0x17b,0x113,0x124,0xb4)+_0x59d0bc[_0x5aa077(-0x38,0x37,0xa2,0x4b)]+'\x20'+_0x59d0bc[_0x5aa077(0x194,0x1f0,0x278,0x1b6)]);const _0x2132b1=_0x22a5fe[_0x15cba2(-0x70,-0x20,0xf,-0x6e)]||[],_0x7d9c5d=modelSelect[_0x5aa077(0x6b,0x70,0x82,0x4f)]();modelSelect[_0x5aa077(0x1af,0x16c,0x214,0x19a)](),_0x2132b1[_0x15cba2(0x122,0x45,0x17b,0xcb)](_0x5bbf80=>{function _0x425962(_0x58f690,_0x504bae,_0x5db4a7,_0x1d6989){return _0x5aa077(_0x5db4a7,_0x504bae-0x198,_0x5db4a7-0xb7,_0x58f690- -0xd1);}modelSelect[_0x425962(0xdf,0xc8,0x98,0x10a)](new Option(_0x5bbf80['id'],_0x5bbf80['id']));}),_0x7d9c5d&&_0x2132b1[_0x5aa077(0x71,-0x28,0xe5,0x40)](_0x4dc2f2=>_0x4dc2f2['id']===_0x7d9c5d)&&modelSelect[_0x15cba2(0x9e,-0xe7,-0x58,-0x38)](_0x7d9c5d),toastr[_0x5aa077(0x1b0,0xcd,0x7e,0x158)](_0x5aa077(0x3f,0x1e1,0xd0,0x110)+_0x2132b1['length']+'\x20个模型。');}}catch(_0x2c85f0){toastr['error'](_0x2c85f0[_0x5aa077(0x4d,0x10d,0x133,0x10e)]);}finally{if(_0x30278e['OoOZg'](_0x15cba2(-0x3d,-0xff,-0x130,-0x5a),_0x30278e[_0x15cba2(0x179,0xc4,0xe8,0xce)]))fetchModelsButton[_0x15cba2(0x127,0x120,0xbb,0x9c)](_0x20700d),fetchModelsButton[_0x5aa077(0xbd,0x1d0,0x1f2,0x182)]('disabled',![]),floatBallStateManager[_0x15cba2(0xc9,-0x88,0xaa,0x8)+'g']();else{_0x115184['warning'](_0x30278e[_0x5aa077(0xaa,-0x7,0x6d,0x74)]);return;}}}async function onTestLLMClick(){const _0x156f9d={'pjfHS':_0xa5e5c(0x85,0x13,-0x1b,-0x51)+_0x3e211f(-0x164,-0x179,-0xca,-0x8c)+_0x3e211f(0x13,0xcd,0xe0,-0x3a),'hWNFc':_0x3e211f(-0x8c,-0x71,0x22,0xb),'DPtSA':'LLM\x20test\x20r'+_0xa5e5c(0x1c0,0x180,0xf0,0x20f)+'rted.','UoSMq':function(_0xed3390,_0x1a5c05){return _0xed3390===_0x1a5c05;},'vmRgM':_0x3e211f(-0x15c,-0x18f,-0x91,-0xa4),'qvmdn':function(_0x5f023e,_0x2b77f9){return _0x5f023e!==_0x2b77f9;},'gUwlI':_0xa5e5c(0xa0,0xcf,0x17,0x17b),'QXRzS':function(_0x54b505,_0x4ae1d1){return _0x54b505===_0x4ae1d1;},'AJbcu':_0x3e211f(-0x15f,-0xa8,-0x1fb,-0x22d),'eyvcA':_0x3e211f(-0x57,-0x12c,-0x54,-0x72),'UwJkR':_0xa5e5c(0x73,0xde,0x60,0x2f)+_0x3e211f(-0x3f,-0x71,-0xe8,-0x36),'vOjrP':_0xa5e5c(0x103,0x58,0xd2,0xab),'JKhKS':_0xa5e5c(0x9b,0xa5,0x15d,0xf),'eFQEW':function(_0x1ae12b,_0x5a2e66){return _0x1ae12b<=_0x5a2e66;},'EQdNE':function(_0x40043e){return _0x40043e();},'cnLkX':function(_0x313c58){return _0x313c58();},'KfTOb':_0xa5e5c(0x7b,0x23,0x10b,0x115)+_0xa5e5c(0x15b,0x235,0xfd,0xab),'aTZCQ':function(_0x4460ba){return _0x4460ba();},'PXEjz':function(_0x19e93f,_0x5615c6){return _0x19e93f||_0x5615c6;},'ChxSa':_0x3e211f(-0x19,-0x44,0x35,-0xd0)+_0x3e211f(-0x7e,0x47,0x8,-0xa8)+_0xa5e5c(0x19e,0xd4,0x115,0x113),'NEHMk':_0xa5e5c(0x45,0x81,0xdc,0x5)+_0xa5e5c(0x154,0x221,0x172,0xea),'JIopG':function(_0x48668c,_0x447c4a){return _0x48668c+_0x447c4a;},'Vidpa':_0xa5e5c(0xe7,0x9a,0x15b,0x1b4)+_0x3e211f(-0x127,-0x1b8,-0x1b6,-0x5e),'IuffF':'正在请求，请稍候..'+'.','IfTfP':_0xa5e5c(0x164,0x1c0,0xba,0xec),'zTpSC':_0xa5e5c(0xf6,0x60,0x157,0xb7),'rDpKt':_0x3e211f(-0xa3,-0x150,-0x150,-0x83),'zuVnD':_0x3e211f(-0x94,0x24,-0x12e,-0xff),'ziazP':function(_0x30f20a,_0x1db9a6,_0x15699c){return _0x30f20a(_0x1db9a6,_0x15699c);},'IuXYU':_0x3e211f(-0x63,-0x3e,-0x2e,0x15),'OSdQc':function(_0x360f58,_0x350326){return _0x360f58===_0x350326;},'DScah':_0xa5e5c(0xdf,0xc7,0x13a,0x18c),'LrkQn':function(_0x393e88,_0x398c4a){return _0x393e88>_0x398c4a;},'NiUwq':_0x3e211f(-0xd4,-0x97,-0x168,-0x1b),'kIqMc':_0xa5e5c(0x19c,0x11e,0x1a5,0x245),'lnauk':_0xa5e5c(0x6e,0xcd,0x46,0x11f),'BPtLK':_0xa5e5c(0x1d7,0x121,0x2af,0x103),'QUNbu':'LLM\x20Test\x20E'+_0x3e211f(-0x85,-0x95,0x53,-0x15c)};currentLLMRequestController&&(currentLLMRequestController[_0x3e211f(-0x133,-0x1f4,-0x12a,-0x101)](),toastr[_0xa5e5c(0x1a7,0x117,0x1a1,0x23b)](_0x156f9d[_0xa5e5c(0xab,0x6c,0x17c,0x183)]));currentLLMRequestController=new AbortController();const _0x59d2be=currentLLMRequestController[_0xa5e5c(0x147,0x10c,0x181,0xfd)];function _0xa5e5c(_0x92ecb8,_0xedb76b,_0x3f25a2,_0x60a2){return _0x113b(_0x92ecb8- -0x4d,_0x60a2);}function _0x3e211f(_0x402028,_0x20b876,_0x4a6e20,_0x466668){return _0x113b(_0x402028- -0x1f5,_0x20b876);}const _0x98b3c1=_0x156f9d[_0x3e211f(-0x169,-0x1de,-0x21c,-0x11d)](collectProfileDataFromUI),{api_url:_0x167d49,api_key:_0x21b83d,model:_0x210810,temperature:_0x5d9b43,top_p:_0x31e6d8,max_tokens:_0x3d7ba0,history:_0x43bd8f}=_0x98b3c1;if(_0x156f9d[_0x3e211f(-0xcd,-0xad,-0xb0,-0x10c)](!_0x167d49,!_0x21b83d)){toastr[_0xa5e5c(0x149,0x156,0x132,0xc2)](_0x156f9d['ChxSa']);return;}if(!_0x210810){toastr[_0x3e211f(-0x5f,-0xcc,-0x11a,0x37)](_0x156f9d[_0xa5e5c(0x17c,0x11a,0x167,0x12a)]);return;}const _0x5c876b=_0x156f9d[_0xa5e5c(0x7d,0x57,-0x44,0xa9)](_0x167d49[_0xa5e5c(0x157,0x1aa,0x120,0x1d0)](/\/$/,''),_0x156f9d[_0xa5e5c(0x1c8,0x220,0x116,0x258)]);resultTextarea['val'](_0x156f9d['IuffF']),testButton[_0xa5e5c(0x1b1,0x21a,0x181,0x1fe)](_0x156f9d[_0x3e211f(0x10,-0x90,0xc4,0xa1)],!![]),floatBallStateManager['startLoadi'+'ng']();try{if(_0x156f9d[_0x3e211f(-0xd0,-0x4c,-0x2,-0x116)](_0x156f9d[_0x3e211f(0x0,0x75,0x7e,0x90)],_0x3e211f(-0xb2,-0xe0,-0xcc,-0x6a))){const _0x3027c1=_0x156f9d[_0x3e211f(-0x13f,-0x162,-0x1bc,-0x211)];_0x263fff[_0x3e211f(-0xdf,-0x1a1,-0x6c,-0x127)](_0x3027c1);const _0x2e04ef={};_0x2e04ef[_0xa5e5c(0x187,0x151,0x14c,0xb8)]=![],_0x2e04ef[_0x3e211f(-0x158,-0xab,-0x1bd,-0x1df)]=_0x3027c1,_0x2e04ef['id']=_0xf06b5a,_0x4599ed[_0x3e211f(-0x7f,-0xc2,-0xff,0x42)](_0x3e9683['LLM_EXECUT'+_0xa5e5c(0x11a,0x1ad,0xfe,0x1b5)],_0x2e04ef);return;}else{const _0x495fed=[];_0x43bd8f[_0x3e211f(-0x27,-0x2f,-0x7a,-0xa1)](_0x30ced1=>{function _0xbe5777(_0xd71219,_0x375aa1,_0x5b5198,_0x57cf7b){return _0x3e211f(_0x5b5198-0x2cd,_0x57cf7b,_0x5b5198-0x1f4,_0x57cf7b-0x78);}function _0x44655e(_0x4f6438,_0x387c66,_0x8dcc7f,_0x251d0a){return _0x3e211f(_0x387c66- -0x168,_0x251d0a,_0x8dcc7f-0x144,_0x251d0a-0x71);}if(_0x156f9d[_0xbe5777(0x201,0x26f,0x26f,0x1ef)](_0xbe5777(0x2a5,0x1bd,0x220,0x21e),_0x156f9d[_0x44655e(-0x1b9,-0x153,-0xfd,-0x1ce)])){if(_0x2b8ef3[_0x4c2c1c][_0x44655e(-0x163,-0x1aa,-0x230,-0x155)+'es'][_0x3b0e7a]){const _0x451e2c={..._0x337ef3[_0x466830][_0xbe5777(0x2b1,0x1de,0x28b,0x31c)+'es'][_0xe0735a],..._0x338862[_0x190f7c]};_0x136d27[_0x4c0d41][_0xbe5777(0x363,0x276,0x28b,0x306)+'es'][_0x5e0c5b]=_0x451e2c;}else _0x41cd38[_0x45d26a][_0xbe5777(0x2f9,0x2bc,0x28b,0x1d3)+'es'][_0x5ef594]=_0x56fc29[_0x3ad684];_0xe72a0b++;}else{if(_0x30ced1[_0xbe5777(0x1d0,0x298,0x1c5,0x16d)]&&_0x156f9d['qvmdn'](_0x30ced1[_0x44655e(-0x1d8,-0x270,-0x2e3,-0x2aa)][_0x44655e(-0x2e2,-0x226,-0x1ba,-0x27e)](),'')){const _0xdc29a6={};_0xdc29a6[_0x44655e(-0x1f8,-0x1e9,-0x172,-0x1ef)]=_0x156f9d[_0x44655e(-0x186,-0x250,-0x214,-0x1ae)],_0xdc29a6[_0xbe5777(0x235,0x2c0,0x274,0x2ba)]=_0x30ced1[_0xbe5777(0x164,0x133,0x1c5,0x24f)],_0x495fed[_0xbe5777(0xd0,0xb0,0x15d,0x15c)](_0xdc29a6);}if(_0x30ced1[_0xbe5777(0x29e,0x27c,0x276,0x22f)]&&_0x30ced1['assistant'][_0xbe5777(0x2ce,0x2e3,0x20f,0x28b)]()!==''){if(_0x156f9d[_0xbe5777(0x9a,0x134,0x158,0x149)](_0x156f9d['AJbcu'],_0x156f9d[_0x44655e(-0xff,-0x1c2,-0x1d5,-0x272)])){const _0x7698cd={};_0x7698cd[_0xbe5777(0x25a,0x1f3,0x24c,0x192)]=_0x156f9d[_0xbe5777(0x2b9,0x235,0x2af,0x1d9)],_0x7698cd[_0xbe5777(0x296,0x19d,0x274,0x2ba)]=_0x30ced1[_0xbe5777(0x2c8,0x252,0x276,0x27c)],_0x495fed['push'](_0x7698cd);}else{if(_0x403174['name']===_0x156f9d[_0xbe5777(0x15a,0x2c2,0x222,0x21c)]){_0x325f2f[_0x44655e(-0x2fd,-0x28d,-0x20c,-0x215)](_0x156f9d[_0x44655e(-0x1e2,-0x225,-0x2bb,-0x27f)]);return;}_0x2f491e['error'](_0xbe5777(0x2d8,0x153,0x21e,0x2d3)+_0x44655e(-0x128,-0x1ed,-0x258,-0x186),_0x5e54d7);const _0x52c138=_0xbe5777(0x1df,0x238,0x259,0x285)+_0x4c9117[_0x44655e(-0x271,-0x1d3,-0x247,-0x287)];_0x3c6189['val'](_0x52c138),_0x4e2dca[_0x44655e(-0x25b,-0x247,-0x223,-0x2df)](_0x3b6f92[_0xbe5777(0x193,0x1e2,0x262,0x1d4)]);const _0x5b664e={};_0x5b664e[_0x44655e(-0x175,-0x189,-0x128,-0x256)]=![],_0x5b664e[_0xbe5777(0x221,0x130,0x16d,0x13c)]=_0x52c138,_0x2bf3eb['emit'](_0x1c532e[_0xbe5777(0xfc,0x223,0x1bf,0x1be)+_0xbe5777(0x212,0x364,0x296,0x325)],_0x5b664e);}}}});if(_0x156f9d[_0x3e211f(-0x5e,-0x78,-0x32,-0xfb)](_0x495fed[_0xa5e5c(0xf1,0x95,0x134,0x1a9)],0x1fe4*0x1+0x2*0x296+-0x2510)){if(_0x156f9d['qvmdn'](_0x156f9d['rDpKt'],_0x156f9d[_0xa5e5c(0x1cc,0x124,0x298,0x14b)])){toastr['warning'](_0x156f9d[_0x3e211f(-0xac,-0x11f,-0x141,0x1c)]),resultTextarea[_0x3e211f(-0x12a,-0x1a4,-0x1fa,-0xa9)](_0x3e211f(-0xa5,-0xf,-0x5,-0x15f));return;}else{const _0x3bed74={};_0x3bed74['role']=_0x156f9d[_0xa5e5c(0xc0,-0x11,0x197,0x17)],_0x3bed74[_0xa5e5c(0x14f,0x21f,0x200,0x155)]=_0x1244f9['user'],_0x3407ad['push'](_0x3bed74);}}const _0x22af55={};_0x22af55[_0xa5e5c(0x1c5,0x1a9,0x1a1,0x140)]=_0x210810,_0x22af55['messages']=_0x495fed,_0x22af55[_0x3e211f(-0x129,-0x1b8,-0x134,-0x161)+'e']=_0x5d9b43,_0x22af55[_0xa5e5c(0xcd,0x180,0x4a,0x157)]=_0x31e6d8,_0x22af55[_0x3e211f(-0x70,-0xa3,-0x2a,-0x8a)]=_0x3d7ba0,_0x22af55[_0xa5e5c(0x174,0xda,0xd7,0x12b)]=![];const _0x4981ed=_0x22af55,_0x4a1633={};_0x4a1633[_0x3e211f(0x25,-0x3d,0xad,0xd3)+'pe']=_0x3e211f(-0xd7,-0xe3,-0x15a,0x2)+'n/json',_0x4a1633[_0x3e211f(-0x11,-0xf,-0x65,-0x14)+_0x3e211f(-0x16f,-0xa8,-0x15c,-0xaa)]=_0x3e211f(-0x75,-0x1b,-0x68,-0x70)+_0x21b83d;const _0x518f4d=await _0x156f9d[_0xa5e5c(0x18d,0xfa,0x1ce,0x142)](fetch,_0x5c876b,{'method':_0x156f9d['IuXYU'],'headers':_0x4a1633,'body':JSON[_0xa5e5c(0xc3,0x3a,0x14d,0xf1)](_0x4981ed),'signal':_0x59d2be}),_0x422dd0=await _0x518f4d[_0x3e211f(-0x77,0x58,-0x2e,-0x81)]();if(_0x422dd0[_0x3e211f(-0xdf,-0x102,-0x4,-0x2c)]){let _0x26a10d;if(_0x156f9d[_0x3e211f(0x3,-0x1,0x4d,-0x6b)](typeof _0x422dd0[_0x3e211f(-0xdf,-0x158,-0x165,-0x129)],_0x156f9d['DScah'])&&_0x422dd0[_0x3e211f(-0xdf,-0xf9,-0x1af,-0x56)][_0xa5e5c(0x13d,0xc8,0x213,0xca)]){_0x26a10d=''+_0x422dd0[_0x3e211f(-0xdf,-0x34,-0x8c,-0x183)]['message'];const _0x5dd1bf=[];if(_0x422dd0[_0x3e211f(-0xdf,-0x3d,-0x78,-0x7a)][_0xa5e5c(0xfa,0x25,0x19f,0xf1)])_0x5dd1bf['push'](_0xa5e5c(0x1b2,0x154,0x182,0x25e)+_0x422dd0[_0xa5e5c(0xc9,0x12f,0x13d,0x6e)][_0xa5e5c(0xfa,0x8a,0x118,0x106)]);if(_0x422dd0['error'][_0x3e211f(-0x142,-0x184,-0x1e9,-0x187)])_0x5dd1bf[_0xa5e5c(0x38,-0x29,-0x81,0x38)]('代码:\x20'+_0x422dd0['error'][_0x3e211f(-0x142,-0x7b,-0x101,-0x110)]);_0x156f9d[_0xa5e5c(0xac,0xe8,0x11e,0x7a)](_0x5dd1bf[_0xa5e5c(0xf1,0x104,0x22,0xc5)],0x4f*0x71+0x1*-0xb4e+-0x1791)&&(_0x26a10d+='\x20('+_0x5dd1bf[_0x3e211f(0x17,0x72,0x8d,0x38)](',\x20')+')');}else _0x26a10d=''+JSON[_0x3e211f(-0xe5,-0x5b,-0xa9,-0x93)](_0x422dd0['error']);throw new Error(_0x26a10d);}if(!_0x518f4d['ok']){if(_0x156f9d[_0xa5e5c(0xd8,0x13d,0xaf,0x3e)](_0x156f9d[_0xa5e5c(0x12e,0x199,0x1f6,0x1c2)],_0x156f9d['kIqMc']))throw new Error('请求失败:\x20'+_0x518f4d[_0xa5e5c(0x7a,0x31,-0x4c,0x122)]+'\x20'+_0x518f4d['statusText']);else _0x550ea5[_0x3e211f(-0xdf,-0x81,-0x27,-0x178)](_0x4576be[_0x3e211f(-0x6b,-0xef,-0xfd,-0x10)]);}const _0x3c6093=_0x422dd0[_0xa5e5c(0x10b,0x1b5,0x114,0x139)]?.[-0x82c+0x14e1+-0xcb5]?.[_0x3e211f(-0x6b,-0xca,-0x25,0x33)]?.['content']||_0x156f9d[_0xa5e5c(0x96,0xe5,-0x21,0x2e)];resultTextarea[_0x3e211f(-0x12a,-0x12a,-0x58,-0x1dc)](_0x3c6093);const _0x395a1e={};_0x395a1e['success']=!![],_0x395a1e[_0x3e211f(-0x160,-0xbe,-0x209,-0xf1)]=_0x422dd0,eventSource[_0x3e211f(-0x7f,-0xe4,-0x121,-0xed)](eventNames[_0x3e211f(-0x10e,-0x1cf,-0xbb,-0xe7)+'ESULT'],_0x395a1e);}}catch(_0x557e28){if(_0x156f9d[_0xa5e5c(0x14a,0x16c,0x140,0x1b2)](_0x557e28[_0xa5e5c(0xf5,0x44,0x160,0x40)],_0x156f9d[_0x3e211f(-0xab,-0x174,-0x167,-0xb6)])){if(_0x156f9d[_0x3e211f(-0xd0,-0x16c,-0x10,-0x1a8)](_0x156f9d[_0xa5e5c(0x76,0xff,0x1d,0x63)],_0xa5e5c(0x1d7,0x107,0x234,0x1e7))){_0x5226ba['warning'](_0x156f9d[_0x3e211f(-0xac,-0xa8,-0x2f,-0x13f)]),_0x51201f[_0xa5e5c(0x7e,0x11c,0xa2,0xe)](_0x156f9d['vOjrP']);return;}else{console[_0xa5e5c(0x83,0x8b,0x61,0x121)](_0x156f9d[_0x3e211f(-0xbd,-0x162,0x17,-0x21)]);return;}}console[_0x3e211f(-0xdf,-0x147,-0xf0,-0x1b0)](_0x156f9d['QUNbu'],_0x557e28);const _0x1d8bf2=_0x3e211f(-0x74,0x18,-0x119,0x64)+_0x557e28[_0x3e211f(-0x6b,-0xbd,-0x35,-0xf9)];resultTextarea[_0xa5e5c(0x7e,0xda,0xff,0xf3)](_0x1d8bf2),toastr[_0x3e211f(-0xdf,-0xd3,-0x196,-0x134)](_0x557e28['message']);const _0x567f70={};_0x567f70[_0x3e211f(-0x21,0x65,0x33,-0xd6)]=![],_0x567f70[_0xa5e5c(0x48,0x3e,-0x47,0x11d)]=_0x1d8bf2,eventSource[_0x3e211f(-0x7f,-0x29,-0xd8,-0x5e)](eventNames[_0xa5e5c(0x9a,0x1d,0x70,0xaa)+_0xa5e5c(0x171,0xbd,0xde,0x121)],_0x567f70);}finally{if(_0xa5e5c(0x110,0x36,0xd0,0x55)===_0xa5e5c(0x110,0x1cb,0x112,0x17f))testButton[_0x3e211f(0x9,-0x11,-0x37,0x40)]('disabled',![]),currentLLMRequestController=null,floatBallStateManager[_0x3e211f(-0xea,-0x19d,-0x115,-0x4c)+'g']();else{const _0x149505=_0x9b3d72[_0xa5e5c(0x7e,-0x2f,-0x5c,0x98)]();if(!_0x149505){_0x2b7f30[_0xa5e5c(0x149,0x1b5,0x15a,0x83)](_0x156f9d[_0xa5e5c(0xce,-0x6,0x173,0x14a)]);return;}if(_0x156f9d[_0x3e211f(-0x4f,-0x68,-0x5,0xe)](_0x7a942['keys'](_0x35ec7d[_0x3d1d31][_0x3e211f(-0x42,-0x2a,0x3b,-0x106)+'es'])['length'],-0x17b1+-0x16aa+0x2e5c)){_0xeb11bd[_0xa5e5c(0xc9,0x65,0x6d,0x98)]('不能删除最后一个配置'+'。');return;}if(_0x3870f8(_0x3e211f(-0xaa,-0x102,-0x177,-0x2e)+_0x149505+_0xa5e5c(0xb1,0x60,0xa9,0x85))){const _0x36c02f=_0xa5e5c(0x9f,0xc1,0xd4,0xe9)['split']('|');let _0x416f22=0xc13*0x1+-0x1d7f+0x116c;while(!![]){switch(_0x36c02f[_0x416f22++]){case'0':delete _0xe8920d[_0x7308e4][_0xa5e5c(0x166,0x219,0x16c,0x155)+'es'][_0x149505];continue;case'1':_0x3b5f9f[_0x203399][_0x3e211f(-0xf8,-0x50,-0xa2,-0x128)+_0x3e211f(-0x39,-0x59,0x95,-0x7d)]=_0x54828d[_0x3e211f(-0x73,-0x131,-0xe,-0xba)](_0xfdcae8[_0x192506][_0x3e211f(-0x42,0x2a,-0x97,0x30)+'es'])[-0x1*0x1c87+0x12d3+0x26d*0x4];continue;case'2':_0x393bc3['success'](_0x3e211f(-0x174,-0x18d,-0xf0,-0x13a)+_0x149505+_0x3e211f(-0x50,-0x86,-0x120,0x42));continue;case'3':_0x156f9d[_0x3e211f(-0x48,-0x90,-0xe3,-0x7)](_0x1855ad);continue;case'4':_0x156f9d[_0xa5e5c(0xf0,0x12e,0x160,0x1a1)](_0x5b88fe);continue;}break;}}}}}function buildPrompt(){const _0x2c79c0={'BGnhq':_0x1107d2(0x47f,0x3e7,0x471,0x3a8)+'。','lmDjA':_0xf0a563(0x363,0x342,0x304,0x350)+_0xf0a563(0x3d7,0x3e3,0x3d6,0x3cc),'XvHGO':function(_0x37de8c,_0x213084){return _0x37de8c!==_0x213084;},'ofnsS':_0xf0a563(0x266,0x1ce,0x289,0x27f),'xNEfF':function(_0x410efd,_0x3f61b1){return _0x410efd!==_0x3f61b1;},'lbKzE':function(_0x58427b,_0x862d1a){return _0x58427b===_0x862d1a;},'cTEYn':_0xf0a563(0x390,0x28a,0x2d9,0x32a),'hAKHS':_0x1107d2(0x42d,0x336,0x3e1,0x37a),'uhWDu':function(_0x353bbe,_0x49735f){return _0x353bbe!==_0x49735f;},'MiqGB':_0xf0a563(0x378,0x23c,0x2a7,0x1ef),'vqgEP':_0xf0a563(0x351,0x372,0x384,0x359),'GwxnL':function(_0x1d3590){return _0x1d3590();}};function _0xf0a563(_0x594ba0,_0x4bcf4a,_0x317e1a,_0x50fb81){return _0x113b(_0x317e1a-0x1e6,_0x50fb81);}const _0x42f4ee=_0x2c79c0[_0xf0a563(0x24f,0x31a,0x29d,0x2ac)](collectProfileDataFromUI),{history:_0x4268b9}=_0x42f4ee;function _0x1107d2(_0x425d16,_0x104bee,_0x5208ec,_0x3c2696){return _0x113b(_0x5208ec-0x2f4,_0x104bee);}const _0x4df721=[];return _0x4268b9[_0xf0a563(0x412,0x429,0x3b4,0x3da)](_0xa635ba=>{function _0x2af65f(_0x8732e6,_0xd9e331,_0x17f74b,_0x454e5b){return _0xf0a563(_0x8732e6-0x19e,_0xd9e331-0xf2,_0xd9e331- -0x3e,_0x17f74b);}function _0x56976f(_0x542868,_0x41296b,_0x5c9570,_0x3c9b19){return _0xf0a563(_0x542868-0x1f,_0x41296b-0x144,_0x5c9570- -0x271,_0x542868);}if(_0x2c79c0[_0x56976f(0x1a1,0x1d2,0x135,0xd6)](_0x2c79c0['ofnsS'],_0x56976f(0xb3,-0x18,0x18,0xd0))){const _0x38a4b1=_0x16830a[_0x2af65f(0x1f6,0x273,0x334,0x261)]();if(!_0x38a4b1){_0x2076ad['warning'](_0x2c79c0[_0x2af65f(0x242,0x22f,0x28a,0x2a0)]);return;}const _0x1c8d30=_0x38aeff[_0x336196][_0x2af65f(0x33d,0x35b,0x3c8,0x3e5)+'es'][_0x38a4b1],_0x58abc3={..._0x1c8d30},_0x13add4=_0x58abc3;delete _0x13add4[_0x2af65f(0x251,0x237,0x2e8,0x1cc)],delete _0x13add4[_0x56976f(0xd4,0xc3,0x177,0x176)],delete _0x13add4[_0x56976f(0x17f,0x169,0x187,0x1d8)];const _0x22cec1={};_0x22cec1[_0x38a4b1]=_0x13add4;const _0x2a13e3=_0x22cec1,_0x3b1911={};_0x3b1911['type']=_0x2c79c0[_0x56976f(0x85,-0x3d,0x1f,0x83)];const _0x1d9fa8=new _0x4a2b27([_0x5e416c[_0x2af65f(0x243,0x2b8,0x32f,0x277)](_0x2a13e3,null,-0x55*-0x19+-0x58+-0x7f1)],_0x3b1911),_0x3558da=_0x5ee561[_0x2af65f(0x2f6,0x22c,0x2bf,0x282)+_0x56976f(0x1ea,0x1c4,0x1aa,0x241)](_0x1d9fa8),_0x307c27=_0x24bd75[_0x2af65f(0x33a,0x3d9,0x40f,0x303)+_0x2af65f(0x486,0x3d8,0x44e,0x424)]('a');_0x307c27[_0x56976f(-0xf,0xa1,0x7a,0x114)]=_0x3558da,_0x307c27['download']=_0x2af65f(0x37a,0x363,0x401,0x328)+_0x2af65f(0x37b,0x395,0x2f1,0x42c)+_0x38a4b1+_0x56976f(0x16a,0x66,0x139,0x11c),_0xeffeb8['body'][_0x56976f(0x231,0x155,0x1a9,0xd8)+'d'](_0x307c27),_0x307c27[_0x2af65f(0x445,0x39b,0x434,0x3d4)](),_0x3b886d['revokeObje'+'ctURL'](_0x3558da);}else{if(_0xa635ba[_0x2af65f(0x1dd,0x295,0x366,0x2ab)]&&_0x2c79c0['xNEfF'](_0xa635ba['user'][_0x2af65f(0x238,0x2df,0x372,0x327)](),'')){if(_0x2c79c0[_0x56976f(0x133,-0x42,0x8c,0xca)](_0x2c79c0[_0x56976f(0x8e,0x18c,0xd0,0xd3)],_0x2c79c0['cTEYn'])){const _0x27cbab={};_0x27cbab[_0x2af65f(0x3eb,0x31c,0x273,0x3a4)]=_0x2c79c0['hAKHS'],_0x27cbab['content']=_0xa635ba['user'],_0x4df721[_0x2af65f(0x1a2,0x22d,0x21f,0x1ab)](_0x27cbab);}else _0x1683ca=null,_0x30fd1a['stopLoadin'+'g']();}if(_0xa635ba[_0x56976f(0x10f,0x65,0x113,0x54)]&&_0x2c79c0[_0x2af65f(0x276,0x275,0x21d,0x274)](_0xa635ba[_0x56976f(0x66,0x1e1,0x113,0x19d)][_0x2af65f(0x346,0x2df,0x391,0x339)](),'')){if(_0x2c79c0[_0x56976f(0xa7,0x101,0x8c,0x4b)](_0x2c79c0[_0x56976f(-0xb5,0x8d,0x5,-0x77)],_0x2c79c0[_0x2af65f(0x161,0x238,0x1be,0x17e)])){const _0xdc8873={};_0xdc8873[_0x56976f(0x18f,0x161,0xe9,0x180)]=_0x2c79c0[_0x56976f(-0x1f,0xb0,0x8a,-0x3e)],_0xdc8873['content']=_0xa635ba['assistant'],_0x4df721['push'](_0xdc8873);}else{_0x44c08e[_0x56976f(0x5a,0xac,0x10b,0xce)]('请选择一个模型，或先'+_0x2af65f(0x3b7,0x349,0x277,0x2ea));return;}}}}),_0x4df721;}function onGetPromptRequest(_0x2c314b){const _0x5399a1={'MmCbu':function(_0xa37082){return _0xa37082();}},{id:_0x46d212}=_0x2c314b;function _0xf806c7(_0x1a5a6d,_0x34df67,_0x3e4b69,_0x329688){return _0x113b(_0x1a5a6d-0x378,_0x34df67);}if(!_0x46d212)return;function _0x2e4776(_0x395013,_0x56cc8e,_0x322fcb,_0x578caf){return _0x113b(_0x56cc8e-0x12b,_0x395013);}console[_0x2e4776(0x140,0x1fb,0x17e,0x16e)](_0xf806c7(0x5a1,0x59a,0x522,0x54f)+_0x2e4776(0x31f,0x2d9,0x262,0x21d)+_0x46d212+')');const _0x5d0535=_0x5399a1[_0xf806c7(0x547,0x5c9,0x53b,0x51f)](buildPrompt),_0x45a755={};_0x45a755[_0xf806c7(0x410,0x340,0x46c,0x48f)]=_0x5d0535,_0x45a755['id']=_0x46d212,eventSource[_0x2e4776(0x233,0x2a1,0x352,0x1dc)](eventNames[_0x2e4776(0x1dd,0x1da,0x260,0x1d9)+_0x2e4776(0x153,0x1f1,0x20e,0x296)+_0x2e4776(0x22e,0x299,0x1be,0x1f6)],_0x45a755);}async function onExecuteRequest(_0x408808){function _0x36f3b8(_0x4cdb02,_0x2ac3fd,_0x1afadd,_0x51b4b1){return _0x113b(_0x1afadd- -0x32f,_0x2ac3fd);}const _0x9e0e9b={'NXDMl':function(_0x43bc0a,_0xc8076f){return _0x43bc0a===_0xc8076f;},'OlSwx':function(_0x23ab18,_0x37ad7a){return _0x23ab18(_0x37ad7a);},'xNEto':':checked','uDXGU':function(_0x11631a){return _0x11631a();},'vtqlf':function(_0x3f5e51,_0x688e55){return _0x3f5e51(_0x688e55);},'bcfQN':function(_0x206bc4){return _0x206bc4();},'WLUwm':function(_0x4943b5,_0x1e1850){return _0x4943b5||_0x1e1850;},'MsPQh':_0x36f3b8(-0x275,-0x20b,-0x25d,-0x191)+'PI\x20Key,\x20或\x20'+_0x36f3b8(-0xdb,-0x11d,-0x127,-0x10d),'ZeSED':'/chat/comp'+'letions','XDdAg':function(_0x350526,_0x25e8aa,_0x2810a4){return _0x350526(_0x25e8aa,_0x2810a4);},'uHtLj':_0x36f3b8(-0x173,-0x200,-0x19d,-0x194),'xnWlM':_0x1b3719(-0x181,-0x1f5,-0x11a,-0x1d7),'xgTFc':function(_0x1725b6,_0x218509){return _0x1725b6!==_0x218509;},'oeNuW':_0x36f3b8(-0x154,-0x2fa,-0x22b,-0x267),'wvwEi':function(_0x57cd15,_0x4224b1){return _0x57cd15>_0x4224b1;},'DvdgO':_0x1b3719(-0x25f,-0x246,-0x303,-0x1ed),'PBAaK':_0x1b3719(-0x210,-0x27f,-0x209,-0x266),'CTnwv':function(_0x5eae5f,_0x1d300f){return _0x5eae5f===_0x1d300f;},'fIZJC':_0x36f3b8(-0x22e,-0x202,-0x1c6,-0x23e),'oIqmz':'Request\x20ab'+'orted','JmVRX':_0x1b3719(-0x17b,-0xf2,-0x119,-0x1ab)+_0x36f3b8(-0x227,-0x23b,-0x22d,-0x1af)},{prompt:_0xc09269,id:_0x42a765}=_0x408808;if(!_0x42a765||!_0xc09269)return;currentLLMRequestController&&(currentLLMRequestController[_0x1b3719(-0x232,-0x25f,-0x32a,-0x31b)](),toastr[_0x1b3719(-0xdf,-0x12d,-0x9d,-0x132)]('LLM请求已中断，开'+_0x36f3b8(-0xad,-0x152,-0x187,-0x117)));currentLLMRequestController=new AbortController();const _0x2659a4=currentLLMRequestController['signal'];console[_0x1b3719(-0x291,-0x251,-0x242,-0x286)](_0x1b3719(-0x1ae,-0x146,-0x1aa,-0xda)+_0x1b3719(-0x2df,-0x281,-0x34e,-0x2b6)+':\x20'+_0x42a765+')',_0xc09269);const _0x23c942=_0x9e0e9b['bcfQN'](collectProfileDataFromUI),{api_url:_0x39539a,api_key:_0x4f0862,model:_0x5ca24c,temperature:_0x439b82,top_p:_0x468c37,max_tokens:_0x5e6ab3}=_0x23c942;function _0x1b3719(_0x506060,_0x3abf13,_0x5f4bf1,_0x260914){return _0x113b(_0x3abf13- -0x321,_0x5f4bf1);}if(_0x9e0e9b[_0x1b3719(-0x242,-0x221,-0x272,-0x1b7)](!_0x39539a,!_0x4f0862)||!_0x5ca24c){const _0x4860cc=_0x9e0e9b['MsPQh'];toastr[_0x1b3719(-0x2d9,-0x20b,-0x2b8,-0x228)](_0x4860cc);const _0x29cd0e={};_0x29cd0e[_0x36f3b8(-0x1f6,-0x94,-0x15b,-0x1cd)]=![],_0x29cd0e[_0x1b3719(-0x20a,-0x284,-0x2ed,-0x27e)]=_0x4860cc,_0x29cd0e['id']=_0x42a765,eventSource[_0x1b3719(-0x1a2,-0x1ab,-0x256,-0x271)](eventNames[_0x36f3b8(-0x2b4,-0x206,-0x271,-0x1d0)+_0x36f3b8(-0x2a0,-0x269,-0x1c8,-0x221)],_0x29cd0e);return;}const _0x4f9e9f=_0x39539a[_0x1b3719(-0xb1,-0x17d,-0x1f0,-0x184)](/\/$/,'')+_0x9e0e9b[_0x1b3719(-0x246,-0x194,-0xb9,-0x244)];resultTextarea[_0x36f3b8(-0x309,-0x223,-0x264,-0x2c8)]('正在处理外部请求，请'+_0x36f3b8(-0x2f3,-0x1e0,-0x253,-0x17f)),floatBallStateManager['startLoadi'+'ng']();try{const _0x42473a={};_0x42473a[_0x1b3719(-0x1b8,-0x10f,-0x1b0,-0x1d6)]=_0x5ca24c,_0x42473a[_0x1b3719(-0xf8,-0x124,-0x1dc,-0x7b)]=_0xc09269,_0x42473a[_0x1b3719(-0x26f,-0x255,-0x1c1,-0x2a8)+'e']=_0x439b82,_0x42473a[_0x1b3719(-0x1b7,-0x207,-0x249,-0x27f)]=_0x468c37,_0x42473a['max_tokens']=_0x5e6ab3,_0x42473a[_0x36f3b8(-0x111,-0x141,-0x16e,-0x108)]=![];const _0x1af47f=_0x42473a,_0x13d03c={};_0x13d03c[_0x36f3b8(-0x12b,-0x58,-0x115,-0x70)+'pe']=_0x1b3719(-0x145,-0x203,-0x20d,-0x169)+_0x36f3b8(-0x20a,-0x72,-0x13f,-0x102),_0x13d03c[_0x36f3b8(-0xd2,-0xa1,-0x14b,-0xcd)+_0x36f3b8(-0x33f,-0x215,-0x2a9,-0x23d)]=_0x36f3b8(-0x14a,-0x1b2,-0x1af,-0x150)+_0x4f0862;const _0x1871ea=await _0x9e0e9b[_0x36f3b8(-0xba,-0x167,-0x118,-0x11e)](fetch,_0x4f9e9f,{'method':_0x9e0e9b['uHtLj'],'headers':_0x13d03c,'body':JSON[_0x36f3b8(-0x2a8,-0x293,-0x21f,-0x296)](_0x1af47f),'signal':_0x2659a4}),_0x3741ef=await _0x1871ea[_0x1b3719(-0x155,-0x1a3,-0x12f,-0x1b9)]();if(_0x3741ef[_0x1b3719(-0x2ce,-0x20b,-0x24f,-0x2b2)]){let _0x3fcb17;if(_0x9e0e9b[_0x1b3719(-0x16a,-0x1e8,-0x2b2,-0x1c7)](typeof _0x3741ef[_0x36f3b8(-0x16e,-0x1c4,-0x219,-0x23f)],_0x9e0e9b['xnWlM'])&&_0x3741ef['error']['message']){if(_0x9e0e9b[_0x36f3b8(-0x27b,-0x243,-0x246,-0x1f3)](_0x9e0e9b[_0x1b3719(-0xe1,-0x144,-0x1ba,-0x19d)],_0x36f3b8(-0x1a0,-0x22a,-0x22b,-0x2ec))){const _0x7329db=new _0x4aa6b8(_0x22d572,_0x18f762,_0x9e0e9b['NXDMl'](_0x38fcd4,_0xc35ac),_0x4a25d4===_0xa0fc6e);_0x23d73e[_0x1b3719(-0xcf,-0xf5,-0x4c,-0x102)](_0x7329db);}else{_0x3fcb17=''+_0x3741ef[_0x1b3719(-0x2e0,-0x20b,-0x247,-0x1b5)][_0x36f3b8(-0x171,-0x262,-0x1a5,-0x24b)];const _0x539bb5=[];if(_0x3741ef[_0x1b3719(-0x1ef,-0x20b,-0x16f,-0x2d3)][_0x36f3b8(-0x1ec,-0x215,-0x1e8,-0x237)])_0x539bb5['push']('类型:\x20'+_0x3741ef[_0x36f3b8(-0x232,-0x2c8,-0x219,-0x174)][_0x36f3b8(-0x288,-0x257,-0x1e8,-0x1b3)]);if(_0x3741ef[_0x1b3719(-0x2a6,-0x20b,-0x153,-0x186)][_0x1b3719(-0x2ca,-0x26e,-0x31b,-0x309)])_0x539bb5[_0x1b3719(-0x2e8,-0x29c,-0x36d,-0x334)](_0x1b3719(-0x1c5,-0x190,-0xf2,-0x173)+_0x3741ef[_0x36f3b8(-0x21a,-0x157,-0x219,-0x15d)][_0x1b3719(-0x2f1,-0x26e,-0x312,-0x2ef)]);_0x9e0e9b[_0x1b3719(-0x8d,-0xfe,-0x111,-0x173)](_0x539bb5[_0x36f3b8(-0x1f3,-0x265,-0x1f1,-0x2bc)],-0xca9+-0x34b+0xff4)&&(_0x3fcb17+='\x20('+_0x539bb5['join'](',\x20')+')');}}else _0x3fcb17=''+JSON[_0x1b3719(-0x178,-0x211,-0x187,-0x158)](_0x3741ef[_0x36f3b8(-0x1d0,-0x292,-0x219,-0x1a0)]);throw new Error(_0x3fcb17);}if(!_0x1871ea['ok']){if(_0x9e0e9b[_0x1b3719(-0x182,-0x1e8,-0x1b1,-0x2b3)](_0x9e0e9b[_0x36f3b8(-0x19f,-0xcb,-0x110,-0x76)],_0x1b3719(-0x19d,-0x246,-0x29e,-0x321)))throw new Error(_0x36f3b8(-0x1d0,-0x140,-0x14d,-0x174)+_0x1871ea[_0x36f3b8(-0x332,-0x2fc,-0x268,-0x306)]+'\x20'+_0x1871ea['statusText']);else{const _0x1288a9={..._0x51a081[_0x50cd5d][_0x36f3b8(-0xab,-0xf5,-0x17c,-0x1e7)+'es'][_0x4096ab],..._0x196488[_0x2fda23]};_0xd87a88[_0x2c206f][_0x36f3b8(-0x248,-0x210,-0x17c,-0x1c0)+'es'][_0x2e0037]=_0x1288a9;}}const _0x211550=_0x3741ef['choices']?.[-0x19a0+0xc23+0xd7d]?.[_0x36f3b8(-0x160,-0x107,-0x1a5,-0xea)]?.[_0x36f3b8(-0x207,-0x194,-0x193,-0x266)]||'未收到有效回复。';resultTextarea[_0x1b3719(-0x317,-0x256,-0x1c8,-0x22c)](_0x211550);const _0x15bb62={};_0x15bb62[_0x36f3b8(-0x140,-0x97,-0x15b,-0xef)]=!![],_0x15bb62[_0x36f3b8(-0x1ea,-0x266,-0x292,-0x1f8)]=_0x211550,_0x15bb62['id']=_0x42a765,eventSource['emit'](eventNames['LLM_EXECUT'+_0x1b3719(-0x200,-0x1ba,-0x107,-0x1df)],_0x15bb62);}catch(_0x592224){if(_0x9e0e9b[_0x1b3719(-0x30f,-0x238,-0x25d,-0x15f)](_0x9e0e9b['PBAaK'],_0x9e0e9b[_0x1b3719(-0x313,-0x25d,-0x2bf,-0x1c2)]))_0x5b3ef8[_0x55ec4d][_0x36f3b8(-0x254,-0x1e4,-0x250,-0x1fc)+'e']=_0x9e0e9b[_0x36f3b8(-0x2d1,-0x223,-0x298,-0x296)](_0x2e51ba,this)['is'](_0x9e0e9b[_0x36f3b8(-0x1bf,-0xc1,-0x164,-0x186)]),_0x9e0e9b[_0x36f3b8(-0xaf,-0x78,-0x105,-0x1b7)](_0x5a5f71),_0x2d5f28['info'](_0x1b3719(-0x152,-0x1e6,-0x120,-0x146)+(_0x9e0e9b[_0x1b3719(-0x1e7,-0x128,-0x60,-0x16f)](_0x356b3e,this)['is'](':checked')?'开启':'关闭')+'。');else{if(_0x9e0e9b['CTnwv'](_0x592224[_0x36f3b8(-0x15d,-0x1c0,-0x1ed,-0x1bd)],'AbortError')){console['log'](_0x1b3719(-0x239,-0x15f,-0x207,-0x1e4)+_0x36f3b8(-0x1af,-0x1c8,-0x1ab,-0xff)+_0x36f3b8(-0x2a6,-0x26d,-0x20f,-0x2c1));const _0x54225a={};_0x54225a[_0x1b3719(-0x262,-0x1df,-0x267,-0x21b)]=_0x9e0e9b['fIZJC'],_0x54225a['message']=_0x9e0e9b[_0x36f3b8(-0xfc,-0x10c,-0x1a0,-0xe8)];const _0x21a9da={};_0x21a9da['success']=![],_0x21a9da[_0x1b3719(-0x279,-0x284,-0x247,-0x243)]=null,_0x21a9da['id']=_0x42a765,_0x21a9da[_0x1b3719(-0x19e,-0x20b,-0x284,-0x283)]=_0x54225a,eventSource['emit'](eventNames['LLM_EXECUT'+_0x36f3b8(-0x18c,-0x262,-0x1c8,-0x186)],_0x21a9da);return;}console[_0x1b3719(-0x168,-0x20b,-0x176,-0x1ac)](_0x9e0e9b[_0x36f3b8(-0x119,-0xfd,-0x12e,-0x1a3)],_0x592224);const _0x282107=_0x36f3b8(-0x212,-0x1d5,-0x1ae,-0x26f)+_0x592224[_0x36f3b8(-0x15f,-0x12d,-0x1a5,-0x21d)];resultTextarea[_0x1b3719(-0x230,-0x256,-0x2c6,-0x257)](_0x282107),toastr['error'](_0x592224['message']);const _0x44b4ff={};_0x44b4ff[_0x36f3b8(-0x1de,-0x22e,-0x15b,-0xa3)]=![],_0x44b4ff[_0x36f3b8(-0x2b2,-0x309,-0x292,-0x21a)]=_0x282107,_0x44b4ff['id']=_0x42a765,eventSource['emit'](eventNames[_0x36f3b8(-0x208,-0x25f,-0x271,-0x295)+_0x36f3b8(-0x130,-0x145,-0x1c8,-0x278)],_0x44b4ff);}}finally{currentLLMRequestController=null,floatBallStateManager[_0x1b3719(-0x18b,-0x216,-0x187,-0x243)+'g']();}}function onTestModeToggle(){const _0x4b2819={'dGGcf':':checked','fdtJZ':function(_0x17d1d3){return _0x17d1d3();},'xxNfx':function(_0xcbc739,_0x1b89d7){return _0xcbc739(_0x1b89d7);}};function _0x40263a(_0x5aea64,_0x573adf,_0x4a5bbf,_0x3834bb){return _0x113b(_0x5aea64-0x1d6,_0x573adf);}function _0x5e3af5(_0x39cf7b,_0x3cffc0,_0x5cc82b,_0x3fd445){return _0x113b(_0x39cf7b-0x2aa,_0x5cc82b);}extension_settings[extensionName][_0x40263a(0x2b5,0x1f7,0x33e,0x31e)+'e']=$(this)['is'](_0x4b2819[_0x5e3af5(0x380,0x37d,0x3f9,0x455)]),_0x4b2819['fdtJZ'](saveSettingsDebounced),toastr[_0x40263a(0x3ca,0x3a8,0x35b,0x42e)](_0x40263a(0x311,0x3e6,0x24b,0x325)+(_0x4b2819[_0x5e3af5(0x3d3,0x310,0x32e,0x434)]($,this)['is'](_0x40263a(0x34f,0x407,0x2e1,0x33d))?'开启':'关闭')+'。');}export function initLLMSettings(){const _0x1d171f={'kfTqv':function(_0x55513b,_0x5a8a47){return _0x55513b(_0x5a8a47);},'uNdEV':_0x3e99f7(0x43f,0x38a,0x36f,0x4ef)+'rl','WIvlr':function(_0x2b993,_0x12843e){return _0x2b993(_0x12843e);},'wZrAo':_0x3e99f7(0x472,0x542,0x467,0x50b)+'ey','MtaNt':_0x21d11e(0x31f,0x2ee,0x392,0x411)+_0x3e99f7(0x393,0x2be,0x44d,0x39a),'UdFIK':function(_0x31cb75,_0x1220c0){return _0x31cb75(_0x1220c0);},'uLGGS':function(_0xcee1cc,_0xd60093){return _0xcee1cc(_0xd60093);},'arLhR':function(_0x42e02c,_0x2a9467){return _0x42e02c(_0x2a9467);},'XgwUK':_0x3e99f7(0x382,0x3aa,0x450,0x36e)+_0x3e99f7(0x39d,0x2e8,0x393,0x40f)+'ue','NnkiC':_0x3e99f7(0x395,0x441,0x33a,0x3e2)+'okens','juhiS':function(_0x407eaf,_0x1a07da){return _0x407eaf(_0x1a07da);},'UhEQg':_0x3e99f7(0x3e8,0x45d,0x462,0x316)+_0x21d11e(0x2a5,0x331,0x259,0x203),'enUWu':_0x21d11e(0x262,0x34e,0x2f4,0x2c3)+_0x3e99f7(0x331,0x2bb,0x2c0,0x392),'KGDXu':_0x3e99f7(0x3f9,0x36b,0x439,0x483)+'de','QXkKw':function(_0x3557c1,_0x1b3838){return _0x3557c1(_0x1b3838);},'oyVnF':'#llm_combi'+'ned_prompt','cCEjI':_0x3e99f7(0x487,0x47d,0x4e4,0x50a),'kOSlO':'#save_llm_'+_0x21d11e(0x28a,0x2f2,0x2b2,0x321)+'tton','ISlOI':function(_0x3f0552,_0x491874){return _0x3f0552(_0x491874);},'YsBHf':_0x3e99f7(0x4a4,0x4fe,0x4ef,0x554)+'m_profile_'+_0x21d11e(0x25d,0x2fd,0x259,0x28a),'BovQK':function(_0x2aefa2,_0x24ed2d){return _0x2aefa2(_0x24ed2d);},'bMdIi':_0x21d11e(0x23f,0x1e3,0x269,0x2ac),'ypTUK':function(_0x35166f){return _0x35166f();}};profileSelect=$(_0x3e99f7(0x31e,0x313,0x35a,0x39b)+'le_select'),apiUrlInput=_0x1d171f[_0x21d11e(0x2a3,0x410,0x368,0x405)]($,_0x1d171f['uNdEV']),apiKeyInput=_0x1d171f[_0x21d11e(0x229,0x36a,0x302,0x2cf)]($,_0x1d171f[_0x3e99f7(0x473,0x45c,0x3ad,0x545)]),modelSelect=$(_0x1d171f[_0x3e99f7(0x431,0x46f,0x426,0x4b2)]),fetchModelsButton=_0x1d171f[_0x21d11e(0x355,0x468,0x3a7,0x3cd)]($,_0x3e99f7(0x457,0x407,0x3f9,0x43d)+_0x21d11e(0x39c,0x3b7,0x375,0x332)+_0x21d11e(0x305,0x32e,0x311,0x2bc)),temperatureSlider=_0x1d171f['uLGGS']($,_0x3e99f7(0x382,0x418,0x2d9,0x394)+_0x3e99f7(0x3c9,0x393,0x3a7,0x415)),temperatureValue=_0x1d171f[_0x21d11e(0x469,0x3f2,0x3bb,0x2f6)]($,_0x1d171f['XgwUK']),topPSlider=_0x1d171f[_0x21d11e(0x2f0,0x313,0x302,0x2ca)]($,_0x3e99f7(0x332,0x401,0x31f,0x341));function _0x21d11e(_0x1f52d9,_0x990538,_0x59a185,_0x4d6c08){return _0x113b(_0x59a185-0x1a0,_0x4d6c08);}topPValue=_0x1d171f[_0x21d11e(0x36c,0x3ef,0x3a7,0x3aa)]($,_0x21d11e(0x23e,0x1e5,0x23e,0x2b0)+_0x3e99f7(0x3ce,0x43b,0x345,0x309)),maxTokensSlider=$(_0x1d171f[_0x3e99f7(0x466,0x4ae,0x530,0x3f5)]),maxTokensValue=_0x1d171f[_0x21d11e(0x22f,0x1b3,0x24d,0x184)]($,_0x3e99f7(0x395,0x381,0x337,0x323)+'okens_valu'+'e'),testHistoryContainer=_0x1d171f[_0x3e99f7(0x341,0x343,0x40d,0x268)]($,_0x21d11e(0x2f2,0x458,0x38e,0x396)+_0x3e99f7(0x4ac,0x501,0x3df,0x509)),testButton=_0x1d171f[_0x21d11e(0x3fa,0x2d5,0x3a7,0x37a)]($,_0x1d171f['UhEQg']),resultTextarea=_0x1d171f[_0x21d11e(0x3a2,0x476,0x3bb,0x377)]($,_0x1d171f[_0x3e99f7(0x34e,0x2a7,0x2ca,0x36d)]),llmTestModeToggle=_0x1d171f['uLGGS']($,_0x1d171f[_0x21d11e(0x16c,0x2f6,0x228,0x1c5)]),combinedPromptTextarea=_0x1d171f[_0x21d11e(0x372,0x2bd,0x34a,0x2d4)]($,_0x1d171f[_0x21d11e(0x2d4,0x3d1,0x38f,0x31c)]),_0x1d171f['uLGGS']($,_0x3e99f7(0x43b,0x43d,0x376,0x424)+_0x3e99f7(0x3a3,0x422,0x3a9,0x36c)+_0x21d11e(0x271,0x2c3,0x24c,0x2e9))['on'](_0x1d171f[_0x21d11e(0x2c7,0x257,0x31f,0x387)],onSaveAsProfileClick),_0x1d171f[_0x3e99f7(0x49b,0x3f8,0x560,0x40f)]($,_0x1d171f[_0x3e99f7(0x446,0x441,0x4c0,0x3c9)])['on'](_0x1d171f[_0x3e99f7(0x413,0x45e,0x3a2,0x3a1)],onSaveProfileClick),_0x1d171f[_0x21d11e(0x2c5,0x270,0x2cd,0x23f)]($,_0x1d171f[_0x21d11e(0x34d,0x280,0x32b,0x3db)])['on']('click',onDeleteProfileClick),_0x1d171f[_0x3e99f7(0x4af,0x550,0x4f9,0x3f2)]($,_0x21d11e(0x368,0x37a,0x318,0x332)+'m_profile_'+_0x3e99f7(0x34d,0x275,0x36c,0x40e))['on'](_0x1d171f['cCEjI'],onImportProfileClick),_0x1d171f['BovQK']($,_0x3e99f7(0x3bb,0x333,0x40a,0x306)+_0x21d11e(0x257,0x200,0x2d2,0x276)+'button')['on'](_0x21d11e(0x375,0x307,0x393,0x2ed),onExportProfileClick),profileSelect['on'](_0x3e99f7(0x376,0x353,0x3e5,0x44c),onProfileSelectChange),fetchModelsButton['on'](_0x1d171f[_0x21d11e(0x2ca,0x3b7,0x31f,0x28b)],onFetchModelsClick),testButton['on'](_0x1d171f[_0x3e99f7(0x413,0x4e5,0x425,0x33b)],onTestLLMClick),llmTestModeToggle['on'](_0x3e99f7(0x376,0x417,0x419,0x3c7),onTestModeToggle),eventSource['on'](eventNames[_0x21d11e(0x1a0,0x281,0x24f,0x26d)+'OMPT_REQUE'+'ST'],onGetPromptRequest);function _0x3e99f7(_0x157689,_0x4fb8a7,_0x53f48c,_0x227086){return _0x113b(_0x157689-0x294,_0x53f48c);}eventSource['on'](eventNames[_0x3e99f7(0x352,0x2b4,0x2e6,0x301)+'E_REQUEST'],onExecuteRequest),temperatureSlider['on'](_0x3e99f7(0x35d,0x3be,0x39b,0x38d),()=>temperatureValue[_0x3e99f7(0x35f,0x2c3,0x384,0x42b)](temperatureSlider['val']())),temperatureValue['on'](_0x1d171f['bMdIi'],()=>temperatureSlider[_0x3e99f7(0x35f,0x363,0x305,0x416)](temperatureValue['val']())),topPSlider['on'](_0x1d171f[_0x21d11e(0x45e,0x45e,0x39a,0x363)],()=>topPValue[_0x21d11e(0x233,0x286,0x26b,0x2e1)](topPSlider[_0x21d11e(0x275,0x2ec,0x26b,0x27d)]())),topPValue['on'](_0x1d171f[_0x21d11e(0x365,0x3a8,0x39a,0x2c7)],()=>topPSlider['val'](topPValue[_0x21d11e(0x2e3,0x2fe,0x26b,0x1fd)]())),maxTokensSlider['on']('input',()=>maxTokensValue[_0x21d11e(0x225,0x252,0x26b,0x2f6)](maxTokensSlider[_0x21d11e(0x345,0x1f2,0x26b,0x338)]())),maxTokensValue['on'](_0x3e99f7(0x35d,0x3a5,0x323,0x33e),()=>maxTokensSlider[_0x21d11e(0x1ba,0x1e9,0x26b,0x294)](maxTokensValue[_0x21d11e(0x26a,0x2bf,0x26b,0x25c)]())),_0x1d171f[_0x3e99f7(0x44c,0x4b7,0x511,0x3a2)](loadLLMProfiles);}
//# sourceMappingURL=http://localhost:8000/ui-llm.js.map