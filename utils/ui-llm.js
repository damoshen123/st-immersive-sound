(function(_0x4bf0c1,_0x325217){function _0x5e0015(_0x5956e2,_0x4442bf,_0x248ef2,_0x195efb){return _0x25d6(_0x5956e2-0x30a,_0x4442bf);}const _0x34e37c=_0x4bf0c1();function _0xa75c93(_0x1929d5,_0x4e2ad6,_0x1677bd,_0x4a64f9){return _0x25d6(_0x4a64f9-0x3d5,_0x1929d5);}while(!![]){try{const _0x1cc6be=-parseInt(_0xa75c93(0x6c8,0x65c,0x5fb,0x674))/(-0xc83*-0x1+0x28d*0xb+0x81d*-0x5)*(-parseInt(_0x5e0015(0x419,0x44f,0x448,0x3ee))/(0x13b4+0xa*-0xa+-0x134e))+-parseInt(_0xa75c93(0x686,0x665,0x62f,0x5f7))/(0x1*-0x2159+-0x1349+-0x1*-0x34a5)+-parseInt(_0x5e0015(0x53a,0x586,0x5d0,0x5de))/(-0xd39+0xa3*0x2b+0x389*-0x4)+parseInt(_0x5e0015(0x5a8,0x503,0x55c,0x5c7))/(-0xa9c+0x21b5*0x1+-0x1714)+-parseInt(_0xa75c93(0x54e,0x4e8,0x503,0x572))/(0xa10+0x191a+-0x2324)*(parseInt(_0x5e0015(0x4aa,0x43d,0x471,0x502))/(0x1*0xcb4+-0x1132+-0xd*-0x59))+parseInt(_0x5e0015(0x45c,0x385,0x3eb,0x47c))/(0x20de+-0x1ca*0x3+0xc*-0x24a)*(parseInt(_0xa75c93(0x540,0x45e,0x457,0x509))/(-0x1664+-0x108+0x4b1*0x5))+parseInt(_0x5e0015(0x48b,0x44c,0x48f,0x4cc))/(-0x1e1*0x7+-0x19ae*0x1+-0x5d*-0x6b)*(parseInt(_0x5e0015(0x482,0x49d,0x45f,0x3a7))/(0x2e8+-0x3*0x791+0x1*0x13d6));if(_0x1cc6be===_0x325217)break;else _0x34e37c['push'](_0x34e37c['shift']());}catch(_0x58185d){_0x34e37c['push'](_0x34e37c['shift']());}}}(_0x5529,-0x5b7d3+-0x45*-0x36d+0x101104));const _0x1fa084=(function(){const _0x467aa7={};_0x467aa7[_0x6dfc86(0x379,0x3d1,0x443,0x308)]=function(_0xe10e32,_0xae8c77){return _0xe10e32===_0xae8c77;},_0x467aa7[_0x39f3b1(-0x75,-0xb0,0x50,-0x52)]=_0x6dfc86(0x2f5,0x2e8,0x31d,0x2af);function _0x39f3b1(_0x3aa13a,_0xe2b26c,_0x5aa927,_0x3418aa){return _0x25d6(_0x3418aa- -0x2e8,_0x3aa13a);}function _0x6dfc86(_0x1719b3,_0x24a8a4,_0x2e6581,_0x121b8c){return _0x25d6(_0x24a8a4-0x169,_0x121b8c);}_0x467aa7[_0x39f3b1(-0xd3,-0x1d3,-0x226,-0x1a0)]='GcjPC',_0x467aa7[_0x6dfc86(0x35c,0x389,0x2d0,0x3eb)]='object';const _0xbebc12=_0x467aa7;let _0x2959fe=!![];return function(_0x4c7394,_0xc6d107){const _0x3d8441={};_0x3d8441['RFVEs']=_0xbebc12[_0x4635a7(0x62c,0x691,0x5ca,0x699)];function _0x4635a7(_0x3ce0a3,_0x17c133,_0x30ffe9,_0x48d3e1){return _0x39f3b1(_0x3ce0a3,_0x17c133-0x162,_0x30ffe9-0xb8,_0x30ffe9-0x692);}const _0x1e3370=_0x3d8441,_0x1d6711=_0x2959fe?function(){function _0x3dfc33(_0x86e740,_0x1a8088,_0x15f962,_0x2b8b70){return _0x4635a7(_0x1a8088,_0x1a8088-0x46,_0x2b8b70- -0x5e8,_0x2b8b70-0x6);}function _0x3b936a(_0x4cbec1,_0x464a13,_0x5c9406,_0xc8a503){return _0x4635a7(_0x4cbec1,_0x464a13-0xab,_0x464a13- -0x2f1,_0xc8a503-0xfd);}if(_0xbebc12[_0x3dfc33(-0x7d,-0x78,0x14,0x2a)](_0xbebc12[_0x3b936a(0x339,0x34f,0x2aa,0x412)],_0xbebc12[_0x3dfc33(-0x149,-0x6f,-0x18d,-0xf6)])){let _0x5a2e73;if(typeof _0x251dc1[_0x3b936a(0x2fc,0x307,0x2a7,0x377)]===_0x1e3370[_0x3b936a(0x166,0x19b,0x109,0x27c)]&&_0x5cc440[_0x3b936a(0x2a1,0x307,0x358,0x27d)]['message']){_0x5a2e73=''+_0x320489[_0x3b936a(0x348,0x307,0x2d1,0x29e)]['message'];const _0x220ad8=[];if(_0x27fb18[_0x3b936a(0x38c,0x307,0x3d8,0x3dd)][_0x3dfc33(-0x87,-0x101,-0x9b,-0x69)])_0x220ad8[_0x3dfc33(-0x1f1,-0x168,-0x137,-0x115)]('类型:\x20'+_0x2555bb[_0x3dfc33(-0xc3,0xb1,0x6,0x10)]['type']);if(_0x227d8d[_0x3dfc33(0x85,0xa2,-0x41,0x10)][_0x3dfc33(-0xcc,-0x133,-0x39,-0xf1)])_0x220ad8[_0x3b936a(0x290,0x1e2,0x2b2,0x20c)](_0x3dfc33(-0xa5,-0xc8,-0xff,-0x28)+_0xf02cca[_0x3dfc33(0xc,-0x14,-0x54,0x10)][_0x3b936a(0x2a3,0x206,0x191,0x2d3)]);_0x220ad8[_0x3b936a(0x363,0x308,0x2c8,0x295)]>-0x16f2+0xd09+-0x1*-0x9e9&&(_0x5a2e73+='\x20('+_0x220ad8[_0x3dfc33(0x16,-0x123,0x3b,-0x43)](',\x20')+')');}else _0x5a2e73=''+_0x2bbbcd[_0x3b936a(0x2ba,0x20c,0x1f9,0x2de)](_0x470886[_0x3b936a(0x2f8,0x307,0x33b,0x252)]);throw new _0x2b0637(_0x5a2e73);}else{if(_0xc6d107){const _0xd99229=_0xc6d107[_0x3b936a(0x2f9,0x338,0x308,0x36f)](_0x4c7394,arguments);return _0xc6d107=null,_0xd99229;}}}:function(){};return _0x2959fe=![],_0x1d6711;};}()),_0x5107f9=_0x1fa084(this,function(){function _0x3c1802(_0x480bcc,_0x4842c3,_0x45d944,_0xa13535){return _0x25d6(_0xa13535-0x190,_0x480bcc);}const _0x45d7ba={};function _0x2d25ed(_0xaf9707,_0x4457a3,_0x358113,_0x58b6d4){return _0x25d6(_0x358113- -0x1a6,_0x4457a3);}_0x45d7ba[_0x2d25ed(0x8a,0x39,-0x5,0x6b)]=_0x2d25ed(0xc0,0xd4,0x7e,0xe8)+'+$';const _0xff6c89=_0x45d7ba;return _0x5107f9[_0x2d25ed(-0xa0,-0x106,-0x7e,-0xdd)]()['search'](_0xff6c89[_0x2d25ed(-0x65,0x69,-0x5,-0xb1)])['toString']()[_0x3c1802(0x263,0x2ba,0x1e8,0x2ad)+'r'](_0x5107f9)[_0x2d25ed(-0xb1,-0x5f,0x24,0x10)](_0xff6c89[_0x2d25ed(-0x79,0xe,-0x5,-0x83)]);});function _0x25d6(_0x6b4c22,_0x2ffee3){_0x6b4c22=_0x6b4c22-(0x50*-0xe+0x164a+-0x2*0x886);const _0x45602b=_0x5529();let _0x27d704=_0x45602b[_0x6b4c22];if(_0x25d6['hQTDHt']===undefined){var _0x3e5e14=function(_0xe63a75){const _0x43ab1e='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x1d0bb4='',_0x4ff828='',_0x5daf85=_0x1d0bb4+_0x3e5e14;for(let _0x463d2a=-0x26ec+0x1c85+0x1*0xa67,_0x19aefe,_0x3f4b9d,_0x65fef5=0x3d6+-0x5dd*-0x4+-0x1b4a;_0x3f4b9d=_0xe63a75['charAt'](_0x65fef5++);~_0x3f4b9d&&(_0x19aefe=_0x463d2a%(0x7*-0x2a9+0x7a*-0x1+0x7*0x2bb)?_0x19aefe*(0x472*-0x7+0x592*0x6+-0x2*0x107)+_0x3f4b9d:_0x3f4b9d,_0x463d2a++%(0x91+-0x1e29+-0x17b*-0x14))?_0x1d0bb4+=_0x5daf85['charCodeAt'](_0x65fef5+(-0x1174+0xad+0x10d1))-(-0x5*-0x4a2+-0x1b85*-0x1+-0x32a5)!==-0x1d6c+-0x7*0x28d+0x2f47?String['fromCharCode'](-0x1*0x223a+-0x1*-0x679+0x1cc0&_0x19aefe>>(-(-0x1149+-0x23b5+0x3500)*_0x463d2a&0xb*0x45+-0x1387+0x2*0x84b)):_0x463d2a:-0x5a6+-0x8*0x30d+-0x1e0e*-0x1){_0x3f4b9d=_0x43ab1e['indexOf'](_0x3f4b9d);}for(let _0x243fe8=-0x233a+-0x1cda+0x4014,_0x126a4e=_0x1d0bb4['length'];_0x243fe8<_0x126a4e;_0x243fe8++){_0x4ff828+='%'+('00'+_0x1d0bb4['charCodeAt'](_0x243fe8)['toString'](0x1365+-0x748+0xc0d*-0x1))['slice'](-(-0x24ee+0xc4+0x242c));}return decodeURIComponent(_0x4ff828);};_0x25d6['sHovXy']=_0x3e5e14,_0x25d6['yXiodB']={},_0x25d6['hQTDHt']=!![];}const _0x160ff3=_0x45602b[-0x205f+-0x1fbc+0x401b*0x1],_0x2830a9=_0x6b4c22+_0x160ff3,_0x3a7714=_0x25d6['yXiodB'][_0x2830a9];if(!_0x3a7714){const _0x7895bd=function(_0x244e57){this['iVQVlX']=_0x244e57,this['jrSxwv']=[-0xb14*-0x1+-0x329*0x2+-0x4c1,-0x1*-0x2131+0x1*-0x21a3+0x72,0x1cd1+-0x1d55+-0x2c*-0x3],this['jsmjWP']=function(){return'newState';},this['ABPUUR']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['nWHvEW']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x7895bd['prototype']['kbBtsr']=function(){const _0x1e70b1=new RegExp(this['ABPUUR']+this['nWHvEW']),_0x562c56=_0x1e70b1['test'](this['jsmjWP']['toString']())?--this['jrSxwv'][0x1321+-0xb32+-0x7ee]:--this['jrSxwv'][-0x238c+-0x1e7e+0x2105*0x2];return this['SfgfAJ'](_0x562c56);},_0x7895bd['prototype']['SfgfAJ']=function(_0x260c74){if(!Boolean(~_0x260c74))return _0x260c74;return this['IPxaLU'](this['iVQVlX']);},_0x7895bd['prototype']['IPxaLU']=function(_0x12ad90){for(let _0x46bd07=0x8a4+0x1*0x2d3+0xb77*-0x1,_0x220368=this['jrSxwv']['length'];_0x46bd07<_0x220368;_0x46bd07++){this['jrSxwv']['push'](Math['round'](Math['random']())),_0x220368=this['jrSxwv']['length'];}return _0x12ad90(this['jrSxwv'][0xe6b*-0x1+0x120a+-0x9*0x67]);},new _0x7895bd(_0x25d6)['kbBtsr'](),_0x27d704=_0x25d6['sHovXy'](_0x27d704),_0x25d6['yXiodB'][_0x2830a9]=_0x27d704;}else _0x27d704=_0x3a7714;return _0x27d704;}_0x5107f9();import{extension_settings}from'../../../../extensions.js';import{saveSettingsDebounced,eventSource}from'../../../../../script.js';import{extensionName,eventNames}from'./config.js';import{floatBallStateManager}from'./ui-float-ball.js';let profileSelect,apiUrlInput,apiKeyInput,modelSelect,fetchModelsButton,temperatureSlider,temperatureValue,topPSlider,topPValue,maxTokensSlider,maxTokensValue,testHistoryContainer,testButton,resultTextarea,llmTestModeToggle,combinedPromptTextarea,currentLLMRequestController;export function updateCombinedPrompt(_0xde9e68){function _0x2dfb61(_0x37b1b4,_0x5bd3b8,_0x44e9ba,_0x32122a){return _0x25d6(_0x32122a- -0x2e3,_0x44e9ba);}combinedPromptTextarea&&combinedPromptTextarea[_0x2dfb61(-0xe8,-0x18f,-0x1e3,-0x18c)](_0xde9e68);}export function isLLMRequestActive(){return!!currentLLMRequestController;}export function abortLLMRequest(){const _0x57fd38={};function _0x9f896(_0x3f0174,_0x5a836c,_0x1f2b56,_0xa3766c){return _0x25d6(_0xa3766c-0x1e3,_0x5a836c);}function _0x4c3e8f(_0x2bf034,_0x10bb3b,_0x489ccb,_0x1c7e0e){return _0x25d6(_0x489ccb-0x33c,_0x1c7e0e);}_0x57fd38[_0x4c3e8f(0x447,0x551,0x4ef,0x5ce)]=_0x4c3e8f(0x5cc,0x52a,0x4fd,0x5cd);const _0xa98d0c=_0x57fd38;currentLLMRequestController&&(currentLLMRequestController['abort'](),toastr[_0x9f896(0x337,0x2ca,0x3da,0x39b)](_0xa98d0c[_0x4c3e8f(0x42a,0x4f3,0x4ef,0x516)]));}function _0x5529(){const _0x33fdba=['wef1Auu','oxHvsgzIzq','CMv2B2TLt2jQzq','t0Xurxe','y3vSuMW','ALvTr1C','rvnvtfq','teXnx0Dfvf9quG','teXn6k+35Rgc5BEY5lIT5PAT77Ym5BYa','A3jlueW','m3WYmhW3FdmXFa','pc9SywjLBd4kia','x3nLBgvJDa','BKT5EKm','i2XSBv9JB21IAq','BgXTx3bYB2zPBa','CM91Cci+cIaGia','yKfmwgC','ihn0lwLZlwXSBq','r0vu','zePPuMe','ANfIq1i','sNPjteG','mxWWFdr8mNWZ','t0v2t2S','B3j0zwq','y29Kzq','Bv9WCM9MAwXL','6k+36l6t5ywLiefqssbcyq','A2HpuMi','zNbAsKG','odu0mdm5mMPNExf6va','C3rYAw5NAwz5','i2XSBv9TyxHFDa','ChzutKm','s01KsfG','DMfS','quPZy1q','Cu5SAgC','qKjIAum','i2XSBv90zw1Wzq','AhDLwKO','5RkH5PYj6ycj5lIT55Qe6ywn572U5y+V5A+85yE6','z3vqyw4','BMXIDfK','C3rYzwfT','DxLeB2K','mNWYoxW1Fdf8mG','nhWXnhWYmxWXoq','ENLgrgq','Cervuuy','zxf1zxn0igfIBW','yNv0Dg9U','AhrTBa','ExPvCwO','zgDdCxO','AhjLzG','tNDlAKG','r0TnDwO','yuDbEMu','ywfmqvi','sePPsxO','uxbmzNy','vKDqvuG','shjnAue','C0Pcs3a','qvzlAwi','EvfIAee','i2rLBgv0zv9SBa','nJG3ntqXog9MvLH3Da','q0DHBfa','5RkH5PYj6ycj5lIT55Qe6ywn572U44cc','B2TLBNm','Ag9SzgvYpsjbsq','B25JAgfUz2u','EhrHCMvHihn0lq','z0jmtvu','sKPSs0u','mtb3y29LB1i','y1nZzue','v1zltgq','lwHPC3rVCNKTzW','lMPZB24','D3n1rLG','5PYQ5Ps25yIW5PYj5Pwi5zUE5Asn44cc','B3bJwwy','BenNBMi','oMnOzwnRzwq','6ywn572U5zcn56EW5lIn6io95lI656M644cc','wuHZuMi','wLjbEha','Aw5WDxq','qMvHCMvYia','CefOuxe','CgfYC2u','z3Dfyu8','twzSyLG','wwPly2C','6ywn572Uici','u2H0s2K','icaGidWVzgL2pG','wKnhugi','ue9tva','r2f4y2q','teXnx1rfu1rFuG','vLHRAhO','nMHZverfyW','uMvXDwvZDcbHyG','teXnifrLC3qGrq','nJqXnZyYogPrueDXuW','sgfdzuK','v3nov0y','uefZrNG','De95zwW','CJ0I55sO5OI36l6t5ywLlI4U','vvzdELO','yxnZpsjZDc1PCW','tgXIBLe','C2vY','ueTrs08','y2D0yNe','Fdi4Fdf8mtr8mG','6i635y+w6k+35RgcicHjrdOG','BMvKx3bYB21WDa','ChbhA2W','rhzRChm','FdH8n3WXoxWWFa','zg93BMXVywq','ANf6zKO','pGOGicaGicaGia','C3rHDhvZvgv4Da','yxbWzw5K','vgzxA0u','Aw5MBW','CMD5rKO','y3jLyxrLt2jQzq','iowBNUwKJs4UlIi+','zM9YrwfJAa','qMPlzfK','wxbPDLO','CfbZrKO','yM9KEq','teXnioIVT+AXGUw3SUs4REATOUoaGG','wwPyv1e','ywjLBd5bssaJ','EeHUtfK','sMLzuKq','l2K+ioATO+wCQoIoT+wpLI4U','Dg9YEs1HC3nPCW','vxLgtNe','CNrLzc4','C2vHCMnO','i2XSBv9WCM9MAq','BgXzDeC','ihjVD3m9iJiIia','AgLZDg9YEq','C2LNBMfS','swDbEuW','rM5QBw8','mZn8mZj8mNWYnq','s2jsyuG','vMzKB2W','DhLWzq','6k+36ycj5OUP5lIa5lIQ5QIH5z6l77Ym5OIw5ywi','wMn1swC','5Rwl6k+v5BEY5y+w5RAi44cc','s0TIDgy','we52Bui','zwzNu2S','6k+35Rgc5AsX6lsLoIa','v2LiAM8','D1DvseC','BgriCwi','CM9MAwXLx2j1Da','C0PNvKG','ChjVzMLSzv9IDq','5AoW5lI05yw25Akd77YA5Ps25yIW5O+q56s66k+n','Eg1cywm','vxnuEem','z01TsK4','wuDqC24','txbxuKK','mNWXnxWYmxWXoa','i2XSBv9HCgLFDq','svffB0K','i2XSBv9HCgLFAW','zw50','z1bJBuW','zwfJAa','y2HVAwnLCW','icaGicaGicaGia','5AsN5QIH5z6l5Rwl6k+v5QIH5BYp5BEY','C0vLuxu','Dg9U','i2XSBv90B3bFCa','zw1PDa','wej3t3i','5OIq5yQF6i635y+wia','Ee5uzxC','ANnVBG','AM9PBG','C09eDLG','cIaGicaGicaGia','t01qvf9srvfvrq','DxnLCG','pc90zxH0yxjLyq','zvrcz3C','AefJq24','5AEl5PAW6k+35Rgc44cc','zeLRq1q','vuL3zMG','zw9XBwO','ios4QUMfJEE9RUoaGG','tLnf','CgreyLC','zMLRD1y','teXnx0vyrunvva','Bw9KzwW','qKfQvvq','i2XSBv9MzxrJAa','rv9srvnqt05trq','i2XSBv90zxn0xW','icaGicaGica8Ba','DvDhsgG','i2LTCg9YDf9SBa','zsbfCNjVCJO','iIdLT7lLIkdPMAtJGii','5lUJ56cboIa','D2fYBMLUzW','v2r0thi','C3bSAxq','C3rHCNrmB2fKAq','m3WXn3W5Fdb8mq','q1nTtLO','psjZDc1PCY10zq','sfrdwhq','ug9xC1m','q3D6t2G','CM91Ca','mJaYmZeXnKXMBgTZvW','C3rVCeXVywrPBG','kcGOlISPkYKRkq','lwzPzwXKlwnVBa','ChjVCa','C0roCge','y2XPy2S','yxbWzw5Kq2HPBa','rufnEg4','y29UDgvUDa','5OIq5yQF5A+85ywLia','thjxrfa','qKr4Cva','x21VzgvSC19IDq','ndK2nZC5nKnyDxPTwq','su9Ns2G','uLjyt0C','Bff2qve','zMeTC29SAwqGzG','6k+35Rgc6zsz6k+VoIa','r2Hcs3e','i3nHDMvFBgXTxW','AgTltNy','B2TLBNnFDMfSDq','icaGpgrPDIbJBa','AgvHzgvYCW','ExbACgW','pgKGy2XHC3m9iG','x3zHBhvL','vejwDhC','ChjVDg90ExbL','CMvHzefZvgv4Da','B25SB2fK','CNjVCJO','y3jLyxrLrwXLBq','uLv3ufC','wunIzfu','6k+v5yAf5A6544cc','B0LREvm','q2frs3C','i2XSBv9TB2rLBa','wMjuDuO','zunHug8','vvz6t2y','zxjYB3i','BgvUz3rO','zMLUza','qwjVCNrfCNjVCG','r2zwzeK','vef6qK0','sNjOuKq','mJH8mtH8mtf8mW','B1f2q1O','ChjVBxb0','teXnihrLC3qGCG','FdL8mtb8nxWXmG','5A+85ywL5AsX6lsL77Ym5PAh5lU25Qc85BYp5PEG','A2v5CW','z3rYr0C','5l2G56gU5A6A6kAb5yIG6zMK6ywn572Uici','uwD3s3K','v21vuwi','qvziBwK','B2DwrNa','ios4QUAOOEwEI+oaGG','ywjVCNrLzc4','r1vfrwq','DgfYz2v0','Bwv0Ag9K','tMHxvfy','vKjtC3K','i2v4Cg9YDf9SBa','C3reAxG','swnStu8','shbAzMi','DhjPz2DLCG','l2nOyxqVy29TCa','ywjVCNq','Cw5rrNa','wgLWBxC','teXniev4zwn1Da','6i635y+w5QIH5z6l5yIx6kgO5AsX6lsLoIa','rLbYAKS','CMvZDwX0','DgvTCgvYyxr1CG','q2vQA1a','i25LD19SBg1FCa','Bv9WCM9MAwXLxW','ChjVzMLSzv8','sMPWu3y','rg9VrLa','Chvor2C','5Q2J5zYO5Ase55cg5Asw6yoO6k+35Rgc77Ym6k+3','yxbWBhK','u1bUD2S','twHVr1K','cIaGicaGicaG','Bg9N','Aw9U','EuzOwxm','yxbPx3vYBa','D0f2BLq','wwv6u1i','sxPdEwW','y3vYCMvUDf9SBa','yxbPx2TLEq','ExPoweC','zNjSs1i','zMeTC3bPBIi+pa','B1rTuKm','B2jQzwn0','57g75z6loIa','icaGica8Dgv4Da','z3b0ltmUns10Dq','AgHUAxC','vwTVC28','vgzMuK4','lNn0lwLZlwXSBq','Ag5puem','C3nPC3rHBNq','CMf0DxjL','zgf0yq','Dg9YEs11C2vYiG','CM9Szq','ndu0mdGZnxfvA0zIDG','otCXmdC3v0nUAvDM','qvvTvMW','BMfTzq','yxjLysbJBgfZCW','CxnWAeq','ueKGs2v5lcdMIjyG','v3Hjy0m','uKzwrxm','vvzJtMm','CePTww0','ywDdBNK','i2XSBvrLC3rnBW','teXnigv4zwn1Da','5AoW5lI05yw25Akd77YA5Ps25yIWieXm','uKD2sha','CMjV','y3rvuKW','tMLyENK','sLb2uuC','EeTWELm','Eg9qq0W','Chfmy0u','5Q2J5zYO6k+35Rgc77Ym6k+356In5yczlI4','C2uGvvjmiowsJcbb','rv9srvfvrvnu','ywXzsxu','ys1ZCgLUBMvYia','r2jPsvy','C3rHDhvZ','sgL3Avq','wxDvvhu','v2ngDw4','rujfsgW','zMLSzq','qNflt1K','AxmTBgXTlwHPCW','C0HAu3e','s05oBLG','yxnZAxn0yw50','A1PhsNK','ExvVAwy','quXVC2O','DwzMzgO','wurSBgC','B0TWuM0','CNjev1q','BwvZC2fNzq','C3vJy2vZCW','z01cz0S','rKLRDeG','tfjcEK8','yxbWBgLJyxrPBW','mNDTAez5ra','lwHPC3rVCNKTDq','DhrVBG','CNrQz1e','FdH8mJz8mtz8mG','B2nJBfe','BI9QC29U','uM5jqKC','zw1WDhK','Bgv0Aw9UCW','BwvZC2fNzxm','BgXTvgvZDe1Vza','u1bIrwq','CLLIA1G','y29UC3rYDwn0BW','uMPzrvO','Avv2zM8','zgLZywjSzwq','DhjPBq','shLUsLG','AgfZt3DUuhjVCa','qxv0Ag9YAxPHDa','z0jpqwy','B1L0ree','rwjoz2i','Dg9tDhjPBMC','ChvZAa','AK9nu0K','y2HHBMDL','Dhzdr1K','tgjyt0q','i2XSBs10zxn0lq','ueKGs2v544cc','lwHPC3rVCNKTyq','zsbYzxf1zxn0ia','CMvWBgfJzq'];_0x5529=function(){return _0x33fdba;};return _0x5529();}function renderHistory(_0x427c0d=[]){const _0x4b56bb={'YjKcg':_0x58017d(0x150,0xb9,0x69,0x11d),'ZCGPb':function(_0x173ea2){return _0x173ea2();},'CaQKw':function(_0xd5b60,_0x1c3637){return _0xd5b60<_0x1c3637;},'dfXUA':function(_0x5cb8ef,_0x475c6e){return _0x5cb8ef===_0x475c6e;},'BqKOY':function(_0x4167b6,_0x6165e2){return _0x4167b6+_0x6165e2;},'UIwfh':function(_0x161ddf,_0x212004){return _0x161ddf+_0x212004;}};function _0x58017d(_0x34ec13,_0x31f7e5,_0x2113c8,_0x1340ef){return _0x25d6(_0x1340ef- -0x2d,_0x2113c8);}function _0x3da0ba(_0x1806e2,_0x4e848b,_0x54c6ca,_0x54cd99){return _0x25d6(_0x4e848b- -0x336,_0x1806e2);}testHistoryContainer[_0x58017d(0x1ae,0x1be,0x1b4,0xea)]();for(let _0x58659d=-0x1da4+0x1*-0x116d+0x2f11*0x1;_0x4b56bb[_0x3da0ba(-0xe0,-0xed,-0x1ae,-0x21)](_0x58659d,0x19c7+-0x1ab3+0x1*0xef);_0x58659d++){if(_0x4b56bb['dfXUA'](_0x3da0ba(-0x2c0,-0x253,-0x242,-0x17f),'UVcNc')){const _0x42707d={};_0x42707d[_0x58017d(0x246,0x148,0x24f,0x1d2)]='',_0x42707d[_0x3da0ba(-0x1b6,-0x235,-0x1de,-0x28c)]='';const _0x545b9b=_0x427c0d[_0x58659d]||_0x42707d,_0x3faf34=$(_0x58017d(0x1de,0x2ae,0x283,0x1d0)+_0x3da0ba(-0x10d,-0xfc,-0x155,-0x1c0)+_0x58017d(0xb5,0xd6,0x9d,0x17a)+_0x3da0ba(-0x14b,-0x111,-0xc9,-0x12f)+_0x58017d(0xf0,0x178,0x136,0x118)+'-history-g'+_0x58017d(0x1ce,0x82,0xeb,0x116)+_0x58017d(0x264,0x2a1,0x16a,0x1c4)+'\x20\x20\x20<label>'+'用户\x20#'+_0x4b56bb[_0x3da0ba(-0x27d,-0x239,-0x1fb,-0x212)](_0x58659d,0x2574+0x7*-0x539+-0xe4)+('</label>\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x58017d(0x2fb,0x271,0x18c,0x265)+_0x58017d(0x51,0x148,0x14c,0xb1)+_0x58017d(0x28d,0x299,0x20b,0x1f0)+_0x58017d(0xc9,0x1d9,0xd3,0x151)+_0x3da0ba(-0x2f1,-0x238,-0x17b,-0x2e2)+_0x3da0ba(0x24,-0x9a,-0x1b,-0xd7)+_0x3da0ba(-0x1f6,-0x169,-0x11c,-0x205)+'placeholde'+_0x58017d(0x24d,0x1df,0x11c,0x178)+'\x22>')+_0x545b9b[_0x3da0ba(-0x1a1,-0x137,-0xb1,-0x103)]+(_0x3da0ba(-0xae,-0x136,-0x7d,-0x6d)+'>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x58017d(0x115,0x25a,0x107,0x1e4)+_0x3da0ba(-0x1ec,-0x173,-0x214,-0x173))+_0x4b56bb[_0x58017d(0x233,0x101,0x217,0x1d8)](_0x58659d,-0xcf1+0x8f1*0x1+0x401)+(_0x3da0ba(-0x2c3,-0x1f8,-0x2c8,-0x123)+_0x3da0ba(-0xf2,-0x145,-0x210,-0x200)+_0x58017d(0x210,0x1a3,0x2f1,0x265)+'area\x20class'+_0x58017d(0x1fc,0x1f6,0x1ec,0x1f0)+'xtarea\x20st-'+_0x3da0ba(-0x16f,-0x238,-0x238,-0x313)+_0x3da0ba(-0x105,-0x16f,-0x164,-0x190)+'tant\x22\x20rows'+'=\x222\x22\x20place'+_0x58017d(0xdd,0x169,0xd7,0x14f)+_0x58017d(0x167,0xd2,0x113,0x18e))+_0x545b9b['assistant']+(_0x3da0ba(-0x8e,-0x136,-0xbf,-0x8e)+_0x3da0ba(-0x23d,-0x182,-0x127,-0xb9)+_0x3da0ba(-0x168,-0x19f,-0x21f,-0x1ae)+_0x58017d(0x336,0x2e4,0x1f6,0x255)));testHistoryContainer[_0x3da0ba(-0x1ff,-0x180,-0x18e,-0x1e1)](_0x3faf34);}else{const _0x27a814=_0x4b56bb[_0x58017d(0x89,0x18f,0x10f,0x167)]['split']('|');let _0x16d0b1=-0x171c+-0xf*0x9e+0x565*0x6;while(!![]){switch(_0x27a814[_0x16d0b1++]){case'0':_0xa42b0d[_0x41b67e][_0x3da0ba(-0x8e,-0xac,-0xb6,-0x58)+_0x3da0ba(-0x13f,-0x1e8,-0x11c,-0x2ba)]=_0x4a8461[_0x3da0ba(-0xf6,-0xdb,-0x17f,-0x1b8)](_0x856c60[_0x3cc84e][_0x58017d(0x105,0x135,0xef,0x115)+'es'])[-0x3*0xcff+0xca5+0x1a58];continue;case'1':delete _0x2ebdde[_0x1be17a][_0x3da0ba(-0x13b,-0x1f4,-0x235,-0x14c)+'es'][_0x18fdd7];continue;case'2':_0x4b56bb[_0x3da0ba(-0x1a2,-0x19e,-0xd7,-0x169)](_0x245074);continue;case'3':_0x3348b8['success'](_0x58017d(0x118,0x19b,0x236,0x168)+_0x54f118+'\x22\x20已删除。');continue;case'4':_0x4b56bb[_0x3da0ba(-0x250,-0x19e,-0x26d,-0x1aa)](_0x55482d);continue;}break;}}}}export function loadLLMProfiles(){const _0x423c1c={};_0x423c1c[_0x522a76(0x42a,0x4e1,0x4e6,0x4a3)]=function(_0x2b97b4,_0x45e990){return _0x2b97b4>_0x45e990;},_0x423c1c[_0x7bb22a(-0x18b,-0x217,-0x245,-0x170)]=function(_0x20bb52,_0x3bc845){return _0x20bb52!==_0x3bc845;},_0x423c1c[_0x7bb22a(-0x9c,-0x167,-0x115,-0xd8)]=_0x7bb22a(-0x1fe,-0x208,-0x2a0,-0x381),_0x423c1c[_0x522a76(0x4a7,0x43d,0x544,0x46e)]=_0x7bb22a(-0x14f,-0x282,-0x218,-0x21d);function _0x7bb22a(_0x5bbbcc,_0x2ed947,_0x342dbc,_0x8c4066){return _0x25d6(_0x342dbc- -0x385,_0x8c4066);}function _0x522a76(_0x3e0712,_0x272a33,_0x343b25,_0x5dbb33){return _0x25d6(_0x3e0712-0x327,_0x343b25);}_0x423c1c['pqLcE']=function(_0x5bc105,_0x496af6){return _0x5bc105===_0x496af6;},_0x423c1c[_0x7bb22a(-0x1b8,-0x1f9,-0x25e,-0x2e0)]='change';const _0x1cbaca=_0x423c1c,_0x1c964a=extension_settings[extensionName]['llm_profil'+'es']||{},_0x5da437=extension_settings[extensionName]['current_ll'+_0x7bb22a(-0x304,-0x194,-0x237,-0x2fd)];profileSelect['empty'](),Object[_0x7bb22a(-0xda,-0x1dc,-0x12a,-0x1bd)](_0x1c964a)['forEach'](_0x10e991=>{function _0x482b8a(_0x125e26,_0xb48d59,_0x9b3b27,_0x41a664){return _0x7bb22a(_0x125e26-0x8b,_0xb48d59-0x16b,_0xb48d59- -0x50,_0x41a664);}function _0x1be853(_0x3718b9,_0x36e991,_0x17ad80,_0x21ff43){return _0x7bb22a(_0x3718b9-0xd0,_0x36e991-0x169,_0x17ad80-0x4a1,_0x21ff43);}if(_0x1cbaca[_0x1be853(0x2c6,0x2b5,0x25c,0x266)](_0x1cbaca['qnQFp'],_0x1cbaca[_0x1be853(0x23b,0x26d,0x29c,0x2f7)])){const _0x41dc07=new Option(_0x10e991,_0x10e991,_0x1cbaca[_0x482b8a(-0x3b6,-0x2e5,-0x303,-0x328)](_0x10e991,_0x5da437),_0x1cbaca[_0x1be853(0x2d9,0x184,0x20c,0x1b3)](_0x10e991,_0x5da437));profileSelect[_0x482b8a(-0x2c3,-0x21f,-0x231,-0x205)](_0x41dc07);}else{_0x169894=''+_0x28eea5[_0x1be853(0x2f9,0x345,0x36a,0x392)][_0x1be853(0x19d,0x2bd,0x225,0x205)];const _0x27d4a6=[];if(_0x4c9962['error'][_0x482b8a(-0x1aa,-0x200,-0x28e,-0x1ce)])_0x27d4a6[_0x482b8a(-0x322,-0x2ac,-0x218,-0x2d2)](_0x1be853(0x2f2,0x388,0x3ad,0x3fa)+_0x137016[_0x1be853(0x29b,0x2b2,0x36a,0x326)]['type']);if(_0x45abd0['error']['code'])_0x27d4a6[_0x482b8a(-0x2bf,-0x2ac,-0x2e4,-0x362)](_0x1be853(0x28c,0x2a5,0x332,0x264)+_0x46d82d['error'][_0x482b8a(-0x2e7,-0x288,-0x277,-0x2da)]);_0x1cbaca[_0x1be853(0x281,0x1ff,0x21f,0x19e)](_0x27d4a6[_0x482b8a(-0x260,-0x186,-0x211,-0xd3)],0x1628+0x20f6+-0x371e)&&(_0x47dca6+='\x20('+_0x27d4a6[_0x482b8a(-0x157,-0x1da,-0x18f,-0x206)](',\x20')+')');}}),profileSelect[_0x7bb22a(-0x1da,-0x208,-0x22e,-0x184)]()&&profileSelect[_0x522a76(0x594,0x547,0x62e,0x567)](_0x1cbaca[_0x522a76(0x44e,0x478,0x436,0x418)]);}function onProfileSelectChange(){const _0x416231={'XNvmB':function(_0x223851,_0x1d45b6){return _0x223851(_0x1d45b6);},'sEeQu':_0x1170ab(0x5a7,0x5b9,0x51f,0x4c8)+_0x1170ab(0x295,0x2b3,0x376,0x35b),'aYdiF':function(_0x330daa,_0x4d1fb4){return _0x330daa(_0x4d1fb4);},'sJBKp':function(_0x3c95a4){return _0x3c95a4();}},_0x5ca133=_0x416231[_0x454862(0x41e,0x46c,0x38c,0x4f2)]($,this)[_0x1170ab(0x4c1,0x3fd,0x3e3,0x423)]();function _0x454862(_0xc6f5ac,_0x28d3b5,_0x58ec78,_0x4aedf0){return _0x25d6(_0x28d3b5-0x292,_0xc6f5ac);}if(!_0x5ca133)return;const _0x44a84a=extension_settings[extensionName][_0x454862(0x376,0x3d4,0x354,0x34c)+'es'],_0x4c89f6=_0x44a84a[_0x5ca133];if(_0x4c89f6){apiUrlInput[_0x454862(0x404,0x3e9,0x35b,0x3e0)](_0x4c89f6[_0x1170ab(0x453,0x452,0x512,0x53b)]||''),apiKeyInput[_0x454862(0x34b,0x3e9,0x416,0x435)](_0x4c89f6['api_key']||''),modelSelect[_0x454862(0x48a,0x3a9,0x337,0x30d)]();const _0x4ec6b7=_0x4c89f6[_0x454862(0x518,0x49e,0x497,0x512)]||_0x416231[_0x454862(0x478,0x485,0x4b1,0x3f3)];modelSelect['append'](new Option(_0x4ec6b7,_0x4ec6b7,!![],!![]));const _0x18a84a=_0x4c89f6[_0x454862(0x4f4,0x508,0x49f,0x4ef)+'e']??-0x1*0x1f3+-0xf3c+0x112f*0x1+0.7;temperatureSlider[_0x1170ab(0x4b3,0x3f1,0x3e3,0x389)](_0x18a84a),temperatureValue['val'](_0x18a84a);const _0x5517a1=_0x4c89f6['top_p']??0x1239+0x685*0x1+-0x3*0x83f;topPSlider[_0x1170ab(0x366,0x35f,0x3e3,0x434)](_0x5517a1),topPValue[_0x454862(0x365,0x3e9,0x3cd,0x420)](_0x5517a1);const _0x15cf7f=_0x4c89f6['max_tokens']??-0x543+-0x26fb+0x7b5*0x6;maxTokensSlider[_0x454862(0x401,0x3e9,0x335,0x3e4)](_0x15cf7f),maxTokensValue[_0x1170ab(0x345,0x34d,0x3e3,0x44c)](_0x15cf7f),_0x416231['aYdiF'](renderHistory,_0x4c89f6[_0x454862(0x534,0x460,0x4ad,0x3d9)]),extension_settings[extensionName][_0x1170ab(0x5e9,0x4a3,0x516,0x484)+_0x454862(0x490,0x3e0,0x497,0x483)]=_0x5ca133,_0x416231[_0x454862(0x379,0x406,0x42b,0x385)](saveSettingsDebounced);}function _0x1170ab(_0x2f1093,_0x5b6956,_0x2d5d03,_0x228962){return _0x25d6(_0x2d5d03-0x28c,_0x2f1093);}llmTestModeToggle[_0x1170ab(0x51c,0x570,0x4b2,0x548)]('checked',extension_settings[extensionName]['llmTestMod'+'e']);}function collectProfileDataFromUI(){const _0x4cb6b7={'ldHqb':_0x45c9f5(-0x40,-0x5b,0x23,0x1d),'zcAfl':function(_0x2c95c4,_0x14483f){return _0x2c95c4(_0x14483f);},'gNbZq':_0x45c9f5(0xf3,0x2a,0x192,0x5d)+_0x45c9f5(-0x74,-0x10c,-0x23,-0xcf)+_0x546821(0x7b,-0x44,0x133,0x5a),'hFmKh':_0x546821(0x79,0x12d,-0x1f,0x130)+'-history-g'+_0x546821(0x3,-0x94,0x8c,0x4b),'QgwKy':function(_0x437bba,_0x1b3738){return _0x437bba(_0x1b3738);},'JlSjm':function(_0x23a007,_0x562962,_0x47d2ea){return _0x23a007(_0x562962,_0x47d2ea);}},_0x35d265=[];function _0x546821(_0x4854de,_0x2f7165,_0x5c4f20,_0x3856e3){return _0x25d6(_0x4854de- -0x21e,_0x2f7165);}function _0x45c9f5(_0x2c879e,_0x31a132,_0x2cc1cc,_0x1be51c){return _0x25d6(_0x2c879e- -0x1a4,_0x31a132);}return $(_0x4cb6b7['hFmKh'])['each'](function(){function _0x241956(_0x24fa92,_0x29e3dd,_0x1cd946,_0x741e13){return _0x45c9f5(_0x741e13-0x114,_0x1cd946,_0x1cd946-0x70,_0x741e13-0x168);}function _0x377b90(_0x408fe9,_0x393e2c,_0xcdcee0,_0xabb4bf){return _0x546821(_0x393e2c-0x45f,_0xcdcee0,_0xcdcee0-0xa7,_0xabb4bf-0x12f);}if(_0x4cb6b7[_0x241956(0x19a,0x174,0x169,0x14f)]===_0x4cb6b7[_0x377b90(0x463,0x420,0x493,0x4b8)]){const _0x44a8d9=_0x4cb6b7['zcAfl']($,this)[_0x241956(0x118,0x203,0x216,0x1c0)](_0x241956(0x20f,0x28c,0x1ea,0x207)+_0x241956(0x39,0x62,-0x14,0x80)+_0x377b90(0x3f2,0x3ea,0x4b3,0x42d))['val'](),_0x3738c6=$(this)[_0x377b90(0x532,0x491,0x4f2,0x450)](_0x4cb6b7['gNbZq'])[_0x377b90(0x3bc,0x398,0x3b5,0x44e)](),_0x439fe7={};_0x439fe7[_0x377b90(0x44b,0x440,0x3c6,0x4b3)]=_0x44a8d9,_0x439fe7[_0x241956(0xdb,0x14a,0xa,0x71)]=_0x3738c6,_0x35d265[_0x241956(0xea,0xe9,0x3a,0x99)](_0x439fe7);}else{if(_0x2ea0d1){const _0xd6e24=_0x30835f['apply'](_0x6e5eb,arguments);return _0x7ba8a0=null,_0xd6e24;}}}),{'api_url':apiUrlInput['val'](),'api_key':apiKeyInput[_0x546821(-0xc7,-0x189,-0xb3,-0xef)](),'model':modelSelect[_0x45c9f5(-0x4d,0x7d,0x7e,-0x95)](),'temperature':_0x4cb6b7[_0x546821(0x40,-0x4f,0xf,0xf4)](parseFloat,temperatureSlider[_0x45c9f5(-0x4d,-0x108,0x3f,-0x115)]()),'top_p':parseFloat(topPSlider[_0x546821(-0xc7,-0xe8,-0x97,-0x2c)]()),'max_tokens':_0x4cb6b7['JlSjm'](parseInt,maxTokensSlider['val'](),-0x6a3*0x1+0x3cc+0x2e1),'history':_0x35d265};}function onSaveProfileClick(){const _0x55e7ed={'rgyFJ':function(_0x186fe8,_0x384d66){return _0x186fe8!==_0x384d66;},'UVCzZ':_0x89de3b(0x2c9,0x25a,0x3af,0x2d5),'wAvnT':_0x89de3b(0x1a7,0x24c,0x2d2,0x219),'Brzyz':'没有选中的配置。','aGAze':function(_0x5b0279){return _0x5b0279();},'wsuFX':function(_0x1ca2b6){return _0x1ca2b6();}};function _0x89de3b(_0x3df07a,_0x21cbc1,_0x199fea,_0xa8b301){return _0x25d6(_0xa8b301-0x105,_0x21cbc1);}const _0x356bfe=profileSelect[_0x236e12(0x15d,0x13b,0x7b,0x136)]();function _0x236e12(_0x2d291f,_0x406567,_0x3cef43,_0x238d2f){return _0x25d6(_0x406567- -0x1c,_0x238d2f);}if(!_0x356bfe){if(_0x55e7ed[_0x89de3b(0x294,0x240,0x238,0x2be)](_0x55e7ed[_0x89de3b(0x1ce,0x356,0x25f,0x2ab)],_0x55e7ed[_0x236e12(0x1fa,0x26b,0x2ba,0x195)])){toastr[_0x89de3b(0x3ac,0x254,0x2d4,0x31c)](_0x55e7ed['Brzyz']);return;}else _0x4e0c0b=''+_0x423df7['stringify'](_0x2ef4dc['error']);}extension_settings[extensionName][_0x236e12(0x204,0x126,0xb0,0x1ad)+'es'][_0x356bfe]=_0x55e7ed[_0x89de3b(0x19c,0x216,0x1e3,0x273)](collectProfileDataFromUI),_0x55e7ed[_0x236e12(0x197,0x16a,0x175,0x137)](saveSettingsDebounced),toastr[_0x89de3b(0x16d,0x156,0x13e,0x20f)](_0x236e12(0x1a6,0x179,0xea,0x256)+_0x356bfe+'\x22\x20已保存。');}function onSaveAsProfileClick(){const _0x29fde3={'aaLAR':function(_0x30385a,_0x4eab04){return _0x30385a(_0x4eab04);},'CejkP':function(_0x1bad46,_0x3a4c12){return _0x1bad46===_0x3a4c12;},'jOMSI':_0x4b4e7e(0x516,0x58d,0x567,0x4ed),'gDdWY':function(_0xb4563e){return _0xb4563e();}},_0x2d4d75=_0x29fde3[_0x4c1bed(0x455,0x430,0x4d5,0x469)](prompt,'请输入新的配置名称：');function _0x4b4e7e(_0x2f17f7,_0x349b78,_0x3d4960,_0x4d08cc){return _0x25d6(_0x4d08cc-0x362,_0x3d4960);}if(!_0x2d4d75||_0x29fde3[_0x4c1bed(0x53b,0x6a3,0x5dd,0x505)](_0x2d4d75[_0x4c1bed(0x43b,0x3be,0x487,0x4b5)](),'')){toastr[_0x4c1bed(0x564,0x642,0x57d,0x54f)](_0x29fde3[_0x4b4e7e(0x4c2,0x51d,0x41c,0x48c)]);return;}const _0x3ccad5=extension_settings[extensionName][_0x4b4e7e(0x445,0x502,0x3fb,0x4a4)+'es'];function _0x4c1bed(_0x518626,_0xa4103,_0x50a49b,_0x2bd607){return _0x25d6(_0x50a49b-0x366,_0xa4103);}if(_0x3ccad5[_0x2d4d75]){toastr[_0x4b4e7e(0x4f5,0x5f0,0x5b8,0x5b0)](_0x4b4e7e(0x5ce,0x5c5,0x46e,0x4f7)+_0x2d4d75+'\x22\x20已存在。');return;}_0x3ccad5[_0x2d4d75]=collectProfileDataFromUI(),extension_settings[extensionName][_0x4c1bed(0x5f0,0x693,0x5f0,0x557)+_0x4b4e7e(0x3f3,0x4e9,0x453,0x4b0)]=_0x2d4d75,_0x29fde3['gDdWY'](saveSettingsDebounced),loadLLMProfiles(),toastr[_0x4b4e7e(0x3c7,0x4e4,0x502,0x46c)](_0x4c1bed(0x4b0,0x445,0x4fb,0x43a)+_0x2d4d75+'\x22\x20已创建并选中。');}function onDeleteProfileClick(){const _0x2af4fe={'ogVFp':function(_0x569266,_0x2429de){return _0x569266!==_0x2429de;},'dIkCT':_0x31a57e(0x40a,0x45b,0x391,0x457),'FCkEg':'assistant','JzILH':'没有选中的配置。','GAyDA':function(_0x47ade8,_0x4e8a60){return _0x47ade8<=_0x4e8a60;},'BBbiC':'不能删除最后一个配置'+'。','ZcuIg':function(_0x264b55,_0x395184){return _0x264b55(_0x395184);},'AJscT':function(_0x4542b1,_0x50b4f1){return _0x4542b1===_0x50b4f1;},'gBOAf':'VPNcU','xKpzS':_0x31a57e(0x3ca,0x490,0x3a6,0x3d9),'xHnLY':'4|0|3|2|1','JiYRD':function(_0x17ade5){return _0x17ade5();}},_0x2842ab=profileSelect[_0x31a57e(0x362,0x2f1,0x302,0x2aa)]();function _0x402f63(_0x454bbe,_0x58272b,_0xda75af,_0x3fce6b){return _0x25d6(_0x3fce6b-0x107,_0x454bbe);}function _0x31a57e(_0x41927f,_0x303fa1,_0x1d8477,_0x3884cb){return _0x25d6(_0x41927f-0x20b,_0x1d8477);}if(!_0x2842ab){toastr[_0x31a57e(0x422,0x3c3,0x3c4,0x43e)](_0x2af4fe[_0x31a57e(0x354,0x374,0x3b4,0x317)]);return;}if(_0x2af4fe['GAyDA'](Object[_0x402f63(0x39d,0x2a9,0x308,0x362)](extension_settings[extensionName][_0x31a57e(0x34d,0x41c,0x348,0x398)+'es'])['length'],0x47*-0x1+-0xfd9*0x1+0x1021*0x1)){toastr[_0x31a57e(0x459,0x396,0x49c,0x44a)](_0x2af4fe[_0x402f63(0x283,0x17f,0x33c,0x261)]);return;}if(_0x2af4fe[_0x402f63(0x3a1,0x329,0x25a,0x2de)](confirm,_0x402f63(0x337,0x340,0x36b,0x364)+_0x2842ab+'\x22\x20吗？')){if(_0x2af4fe[_0x402f63(0x1de,0x317,0x1b5,0x25f)](_0x2af4fe[_0x402f63(0x157,0x155,0x14f,0x22c)],_0x2af4fe[_0x31a57e(0x2f9,0x36d,0x395,0x356)])){if(_0x433428['user']&&_0x2af4fe[_0x402f63(0x2e9,0x40b,0x32b,0x368)](_0x467e35['user']['trim'](),'')){const _0x319108={};_0x319108[_0x31a57e(0x4a8,0x4a7,0x4d7,0x4e8)]=_0x2af4fe[_0x31a57e(0x40f,0x406,0x479,0x45b)],_0x319108[_0x402f63(0x3e0,0x323,0x3f0,0x332)]=_0x474c29[_0x402f63(0x26c,0x3d8,0x2cb,0x306)],_0x190d21[_0x31a57e(0x334,0x2ad,0x368,0x321)](_0x319108);}if(_0x265383[_0x31a57e(0x30c,0x2c4,0x267,0x2b4)]&&_0x2af4fe['ogVFp'](_0x1e63d2[_0x402f63(0x14d,0x1a4,0x1f0,0x208)][_0x31a57e(0x32c,0x24f,0x3e4,0x26c)](),'')){const _0x6894e9={};_0x6894e9[_0x31a57e(0x4a8,0x500,0x488,0x4e1)]=_0x2af4fe['FCkEg'],_0x6894e9[_0x402f63(0x261,0x2e8,0x336,0x332)]=_0x53d2f3[_0x402f63(0x1ef,0x1b5,0x2d3,0x208)],_0x4409fa[_0x402f63(0x289,0x1ba,0x2fa,0x230)](_0x6894e9);}}else{const _0x5a0083=_0x2af4fe[_0x402f63(0x260,0x37e,0x221,0x2cb)][_0x402f63(0x270,0x3d7,0x3e4,0x320)]('|');let _0x3fb602=-0x1*-0x1021+-0xe9*0x2+-0xe4f;while(!![]){switch(_0x5a0083[_0x3fb602++]){case'0':extension_settings[extensionName][_0x31a57e(0x495,0x401,0x518,0x4d7)+_0x31a57e(0x359,0x2a6,0x2ff,0x433)]=Object[_0x402f63(0x354,0x302,0x29c,0x362)](extension_settings[extensionName][_0x31a57e(0x34d,0x3b6,0x3ec,0x3ca)+'es'])[0x899*0x2+0xf60+-0x2092*0x1];continue;case'1':toastr[_0x31a57e(0x315,0x35b,0x23e,0x3a2)]('配置\x20\x22'+_0x2842ab+_0x31a57e(0x420,0x40a,0x3b2,0x485));continue;case'2':_0x2af4fe[_0x31a57e(0x3d0,0x34e,0x423,0x48b)](loadLLMProfiles);continue;case'3':_0x2af4fe['JiYRD'](saveSettingsDebounced);continue;case'4':delete extension_settings[extensionName]['llm_profil'+'es'][_0x2842ab];continue;}break;}}}}function onExportProfileClick(){const _0x5e8aab={};_0x5e8aab[_0x34475d(0x61c,0x637,0x647,0x5ef)]=function(_0x17c1b3,_0x38ef9e){return _0x17c1b3!==_0x38ef9e;};function _0x34475d(_0x2b9914,_0x4fcbcb,_0x5a9205,_0x2ecda9){return _0x25d6(_0x2b9914-0x3d4,_0x2ecda9);}_0x5e8aab[_0x2852d2(0x536,0x4d8,0x591,0x532)]=_0x34475d(0x583,0x5d0,0x514,0x540),_0x5e8aab[_0x2852d2(0x4fe,0x59d,0x569,0x54f)]=_0x2852d2(0x4cb,0x53c,0x524,0x55b)+'。';const _0x2c419b=_0x5e8aab,_0x5b5bef=profileSelect[_0x2852d2(0x5cd,0x536,0x5b7,0x52b)]();if(!_0x5b5bef){if(_0x2c419b[_0x34475d(0x61c,0x56f,0x608,0x567)](_0x2c419b['YwUTu'],_0x34475d(0x583,0x4fc,0x622,0x553)))_0x556ed5[_0x34475d(0x622,0x61a,0x625,0x641)](_0x3c593b[_0x2852d2(0x516,0x4e8,0x4b0,0x579)]);else{toastr['warning'](_0x2c419b[_0x2852d2(0x544,0x59d,0x548,0x646)]);return;}}const _0x150927=extension_settings[extensionName][_0x34475d(0x516,0x536,0x5ba,0x4d8)+'es'][_0x5b5bef],_0x3c8f40={..._0x150927},_0x18ad8d=_0x3c8f40;function _0x2852d2(_0x260788,_0x1e5d06,_0xc88d1a,_0x43a0ae){return _0x25d6(_0x1e5d06-0x3df,_0x43a0ae);}delete _0x18ad8d[_0x2852d2(0x5f2,0x665,0x605,0x64f)],delete _0x18ad8d[_0x34475d(0x65f,0x6d2,0x588,0x587)],delete _0x18ad8d[_0x2852d2(0x5d9,0x5eb,0x634,0x595)];const _0x3e4c78={};_0x3e4c78[_0x5b5bef]=_0x18ad8d;const _0x3344e8=_0x3e4c78,_0x595bbb={};_0x595bbb[_0x34475d(0x5a9,0x653,0x4e4,0x5cf)]=_0x34475d(0x4e2,0x4a3,0x47e,0x57a)+_0x2852d2(0x4b6,0x4f4,0x5ce,0x57c);const _0x29ede1=new Blob([JSON[_0x34475d(0x527,0x606,0x538,0x596)](_0x3344e8,null,-0x1*0x9ee+0x1*-0x1dda+0x24*0x11b)],_0x595bbb),_0xe8f191=URL[_0x2852d2(0x677,0x599,0x5d5,0x5e3)+_0x34475d(0x4bf,0x3ff,0x46e,0x3e5)](_0x29ede1),_0x86392e=document[_0x34475d(0x618,0x6b6,0x53c,0x5a3)+'ent']('a');_0x86392e[_0x2852d2(0x59b,0x54a,0x57e,0x475)]=_0xe8f191,_0x86392e[_0x34475d(0x586,0x519,0x503,0x616)]='st_is_llm_'+_0x34475d(0x64e,0x6d8,0x5e0,0x5c7)+_0x5b5bef+_0x34475d(0x559,0x4b7,0x4b9,0x5bd),document[_0x34475d(0x594,0x4d5,0x4f1,0x557)][_0x34475d(0x5fd,0x5f7,0x525,0x5a6)+'d'](_0x86392e),_0x86392e[_0x34475d(0x5fc,0x65f,0x53a,0x677)](),URL[_0x2852d2(0x5be,0x514,0x456,0x462)+'ctURL'](_0xe8f191);}function onImportProfileClick(){function _0x201710(_0x206a2e,_0x238506,_0x2d3e3e,_0x260d0d){return _0x25d6(_0x238506-0x195,_0x260d0d);}const _0x485c5a={'opcYf':_0x201710(0x432,0x3bf,0x344,0x2e5),'WbpEk':_0x5a5972(-0x3f,-0xfa,-0xc3,-0xbe),'gPcmL':_0x5a5972(-0x92,-0x1f1,-0x1fa,-0x135),'MhoGY':function(_0x40ab35){return _0x40ab35();},'WPxtY':function(_0x37c70a){return _0x37c70a();},'xoPCL':_0x5a5972(-0xc3,-0x15c,0x3e,-0xa3)+'效。','kCnDA':_0x5a5972(-0x234,-0x2cb,-0x230,-0x1fc),'VGPUH':function(_0x26de1d){return _0x26de1d();},'fhYFc':_0x5a5972(-0x1c3,-0x22f,-0x20c,-0x216)+_0x5a5972(-0x1dd,-0x25a,-0x1be,-0x1cc)+_0x5a5972(-0xa6,-0x62,-0x99,-0x9a),'YSOeC':'AbortError','fikwV':'Request\x20ab'+_0x5a5972(-0x1cb,-0x19e,-0x1d9,-0x1b1),'TAzBM':_0x201710(0x3dd,0x30e,0x2a9,0x37c),'dJiRa':'input','HynJX':_0x201710(0x318,0x291,0x337,0x217),'AXIAU':_0x201710(0x3c1,0x31a,0x31e,0x2bc)},_0x3ce33d=document[_0x5a5972(-0x17,-0xc5,-0x1e,-0xb9)+_0x201710(0x2eb,0x382,0x2f5,0x320)](_0x485c5a[_0x5a5972(-0x248,-0x19d,-0x1c4,-0x1b6)]);_0x3ce33d[_0x201710(0x3cd,0x36a,0x2c1,0x429)]=_0x485c5a[_0x201710(0x2f1,0x2b7,0x337,0x2b2)];function _0x5a5972(_0x4f67ff,_0x27350e,_0x56a00c,_0xe476d2){return _0x25d6(_0xe476d2- -0x2fd,_0x56a00c);}_0x3ce33d['accept']=_0x485c5a['AXIAU'],_0x3ce33d[_0x201710(0x3b8,0x312,0x2c4,0x310)]=_0x13eacd=>{const _0x546776={'cSseA':_0x485c5a['kCnDA'],'GfVdI':function(_0x35d73b){function _0xdc55bc(_0x555d02,_0x582f77,_0x1151ea,_0x53f4d9){return _0x25d6(_0x555d02- -0x2c0,_0x53f4d9);}return _0x485c5a[_0xdc55bc(-0x14e,-0x95,-0x1a2,-0x111)](_0x35d73b);},'DooFP':_0x485c5a['fhYFc'],'HiwiT':_0x485c5a['YSOeC'],'MflbX':_0x485c5a[_0x1bb25d(-0x124,-0x44,-0x92,-0xce)]};function _0x1bb25d(_0x196202,_0x3b55a5,_0x1f9838,_0x4bd615){return _0x201710(_0x196202-0x193,_0x1f9838- -0x431,_0x1f9838-0x14b,_0x4bd615);}const _0x475df2=_0x13eacd['target']['files'][0x1*0x28d+-0x2464+0x21d7];function _0x591ec1(_0x553a20,_0x3c5735,_0x410123,_0x93b4af){return _0x201710(_0x553a20-0x6f,_0x93b4af- -0x2e0,_0x410123-0x6f,_0x553a20);}if(_0x475df2){if(_0x485c5a[_0x591ec1(0x1b7,0x154,0x98,0x108)]!==_0x485c5a[_0x1bb25d(0xa,-0xff,-0x49,0x96)]){const _0x36c6ab={};_0x36c6ab[_0x1bb25d(-0x17f,-0xe9,-0x165,-0x170)]=_0x546776[_0x1bb25d(-0x1d4,-0x150,-0x11a,-0xb9)];const _0xeeb5fd=_0x36c6ab,_0x4ac990=_0x546776[_0x591ec1(0x37,0x131,0x1ba,0x107)](_0x9ee180),{history:_0x4d87e4}=_0x4ac990,_0x54f661=[];return _0x4d87e4[_0x1bb25d(-0xa7,-0x1a8,-0xe0,-0x3)](_0x25751c=>{function _0x4c95d1(_0x4179d5,_0x202075,_0x1bee68,_0xbcb126){return _0x591ec1(_0x202075,_0x202075-0x1e9,_0x1bee68-0x1b8,_0xbcb126- -0x4a);}if(_0x25751c[_0x4c95d1(0xad,0x60,0x127,0x6a)]&&_0x25751c[_0x4c95d1(0x141,0x14b,-0x75,0x6a)][_0x2ee460(0x1a9,0x20a,0x1aa,0x130)]()!==''){const _0x1ec576={};_0x1ec576['role']=_0x2ee460(0x3a8,0x2e8,0x27e,0x28f),_0x1ec576[_0x4c95d1(0x28,0x45,0x2f,0x96)]=_0x25751c[_0x2ee460(0x2e5,0x2e8,0x320,0x2f7)],_0x54f661[_0x4c95d1(-0xe3,-0x120,-0x19,-0x6c)](_0x1ec576);}function _0x2ee460(_0x3ae26d,_0x2bf267,_0x210cdb,_0x4948a8){return _0x591ec1(_0x3ae26d,_0x2bf267-0x64,_0x210cdb-0x1c6,_0x2bf267-0x234);}if(_0x25751c[_0x2ee460(0x138,0x1ea,0x1a2,0x15f)]&&_0x25751c[_0x2ee460(0x11b,0x1ea,0x260,0x2c4)][_0x4c95d1(0x21,-0x2,-0x14a,-0x74)]()!==''){const _0x3c19c5={};_0x3c19c5[_0x2ee460(0x3be,0x386,0x2a9,0x35e)]=_0xeeb5fd['culRl'],_0x3c19c5['content']=_0x25751c['assistant'],_0x54f661[_0x2ee460(0x193,0x212,0x22d,0x1bb)](_0x3c19c5);}}),_0x54f661;}else{const _0x297ed7=new FileReader();_0x297ed7[_0x1bb25d(-0xfc,-0xd5,-0x5a,-0xf0)]=_0x22b602=>{function _0x23c384(_0x248c58,_0x4f2e9e,_0x41f139,_0x4ad202){return _0x1bb25d(_0x248c58-0xad,_0x4f2e9e-0x19,_0x4ad202-0x3cb,_0x41f139);}function _0x12e192(_0x19a8d1,_0x66c6d1,_0x2edae6,_0x149c3c){return _0x591ec1(_0x66c6d1,_0x66c6d1-0x149,_0x2edae6-0x5d,_0x149c3c-0x8f);}if(_0x485c5a[_0x23c384(0x257,0x307,0x2d7,0x2b7)]===_0x485c5a[_0x23c384(0x22a,0x2d5,0x358,0x2b7)])try{const _0x158438=JSON[_0x23c384(0x304,0x2fc,0x329,0x2c0)](_0x22b602[_0x12e192(0x16d,0x262,0x1ea,0x1a9)][_0x23c384(0x3fc,0x455,0x337,0x3a4)]);let _0xdfb424=0x259d*0x1+0x6d*0xa+-0x29df;for(const _0x2bb5fd in _0x158438){if(_0x485c5a['WbpEk']===_0x485c5a[_0x12e192(0x1d4,0x6c,0xdd,0x132)]){const _0x3b2df1={};_0x3b2df1['role']=_0x23c384(0x2ba,0x20e,0x227,0x230),_0x3b2df1[_0x12e192(0x1d5,0x23b,0x187,0x16f)]=_0xfe53a7['assistant'],_0x52ae64[_0x12e192(0x50,-0x2,-0x65,0x6d)](_0x3b2df1);}else Object[_0x23c384(0x2e9,0x29f,0x2ce,0x36f)][_0x12e192(0x18,0x15,-0x58,0x67)+'erty']['call'](_0x158438,_0x2bb5fd)&&(extension_settings[extensionName][_0x23c384(0x1bd,0x281,0x2c3,0x271)+'es'][_0x2bb5fd]?extension_settings[extensionName][_0x12e192(0x7e,-0x2,-0x15,0x86)+'es'][_0x2bb5fd]={...extension_settings[extensionName][_0x12e192(0x4e,0x9c,0xbc,0x86)+'es'][_0x2bb5fd],..._0x158438[_0x2bb5fd]}:extension_settings[extensionName][_0x23c384(0x24f,0x1d3,0x190,0x271)+'es'][_0x2bb5fd]=_0x158438[_0x2bb5fd],_0xdfb424++);}_0x485c5a[_0x12e192(0x29f,0x21a,0x246,0x1c5)](saveSettingsDebounced),_0x485c5a['WPxtY'](loadLLMProfiles),toastr[_0x23c384(0x16c,0x2c4,0x2ba,0x239)](_0x12e192(0x239,0xc2,0x206,0x170)+_0xdfb424+_0x12e192(0x126,0xd5,0x1e8,0x14b));}catch(_0x5a20e0){toastr[_0x12e192(0xd4,0x1ef,0x14a,0x192)](_0x485c5a[_0x12e192(-0x7b,0x91,0xa,0x33)]);}else{_0x569a8c[_0x12e192(0x287,0x1ef,0x1b9,0x1c7)](_0x546776[_0x23c384(0x2cf,0x307,0x2eb,0x3ab)]);const _0x3b25c1={};_0x3b25c1['name']=_0x546776[_0x12e192(-0x54,0x58,-0x86,0x3c)],_0x3b25c1['message']=_0x546776[_0x23c384(0x2da,0x22f,0x22b,0x2c2)];const _0x250716={};_0x250716[_0x23c384(0x1c5,0x1f1,0x1e3,0x239)]=![],_0x250716['result']=null,_0x250716['id']=_0xaeab5e,_0x250716[_0x23c384(0x31c,0x3fb,0x37b,0x37d)]=_0x3b25c1,_0x566ee5[_0x23c384(0x3ac,0x2e5,0x324,0x325)](_0x5cab46['LLM_EXECUT'+_0x12e192(0x203,0x1cd,0x1fb,0x153)],_0x250716);return;}},_0x297ed7[_0x591ec1(0x1b4,0x10d,0xc2,0xf6)](_0x475df2);}}},_0x3ce33d[_0x201710(0x3f6,0x3bd,0x396,0x41d)]();}async function onFetchModelsClick(){const _0x3fdd54={};function _0x648e61(_0x4dbd21,_0x1a8a12,_0x5a09b3,_0x5e180b){return _0x25d6(_0x5a09b3-0x31a,_0x4dbd21);}_0x3fdd54[_0x561c09(-0x9,-0x13,0x1,-0xd5)]='没有选中的配置。',_0x3fdd54['eTBgw']=_0x648e61(0x54b,0x5ba,0x519,0x5fa),_0x3fdd54[_0x561c09(-0x46,-0xea,0x5b,0x70)]='没有选中的配置可导出'+'。',_0x3fdd54[_0x561c09(0xd4,0x153,0x47,0x2c)]='applicatio'+_0x648e61(0x4d0,0x3ce,0x42f,0x4d4),_0x3fdd54[_0x561c09(0x66,0x46,0x20,0x106)]=function(_0x235c2a,_0x44a34c){return _0x235c2a!==_0x44a34c;};function _0x561c09(_0x3bff53,_0x122280,_0x59b0b7,_0x2993cb){return _0x25d6(_0x3bff53- -0x1b9,_0x59b0b7);}_0x3fdd54[_0x648e61(0x4af,0x5cf,0x4f3,0x4d3)]=_0x561c09(-0xbf,-0x1d,-0x141,-0x80),_0x3fdd54[_0x561c09(0x9d,-0x18,0xb2,0x141)]=function(_0x3aaef9,_0x58d655){return _0x3aaef9||_0x58d655;},_0x3fdd54['HJiIz']='请输入\x20API\x20Ba'+_0x648e61(0x478,0x373,0x40c,0x3a2)+_0x561c09(-0x8a,-0x57,-0x104,-0x24),_0x3fdd54[_0x561c09(-0x64,-0x47,-0x5e,-0x1f)]=function(_0x379305,_0x3cee18){return _0x379305+_0x3cee18;},_0x3fdd54[_0x561c09(-0xad,0x33,-0x58,-0x52)]='/models',_0x3fdd54[_0x648e61(0x3ae,0x402,0x476,0x44a)]=_0x561c09(0x84,0x13a,0xdf,0x68)+_0x561c09(0x7b,0x2,0x12c,0x34)+_0x561c09(-0xc4,-0x13,-0xc0,-0x11c)+_0x648e61(0x650,0x591,0x5a8,0x4e5)+_0x648e61(0x548,0x43b,0x4e0,0x4a2)+'.',_0x3fdd54[_0x648e61(0x44a,0x44a,0x4f5,0x4bf)]=function(_0x497fc8,_0x42401b){return _0x497fc8===_0x42401b;},_0x3fdd54[_0x648e61(0x58a,0x4a3,0x4ac,0x503)]='ltEJW',_0x3fdd54[_0x561c09(0x1a,0x11,0x27,0xdc)]=_0x561c09(0x54,0xf2,-0x17,-0x20),_0x3fdd54[_0x648e61(0x485,0x406,0x44d,0x451)]=_0x648e61(0x54c,0x575,0x57e,0x4e4),_0x3fdd54[_0x648e61(0x392,0x4af,0x450,0x430)]=function(_0x3cc6e9,_0x20d7bd){return _0x3cc6e9>_0x20d7bd;},_0x3fdd54[_0x561c09(0xbb,0xf3,0x162,0x17d)]=function(_0x3c6544,_0x1689d3){return _0x3c6544===_0x1689d3;},_0x3fdd54[_0x561c09(0xdb,0x95,0x73,0x145)]=_0x561c09(0xcf,0x1b,0xe7,0xc8),_0x3fdd54['YjXWQ']=_0x648e61(0x4bd,0x563,0x4b4,0x4c7),_0x3fdd54[_0x648e61(0x604,0x61d,0x560,0x63b)]='AXPUz';const _0x3363ed=_0x3fdd54,_0x2dee25=apiUrlInput['val'](),_0x4d569c=apiKeyInput[_0x561c09(-0x62,-0x53,0x6e,-0x3f)]();if(_0x3363ed[_0x648e61(0x53b,0x61d,0x570,0x615)](!_0x2dee25,!_0x4d569c)){toastr['warning'](_0x3363ed[_0x648e61(0x520,0x53a,0x48a,0x47e)]);return;}const _0x87476e=_0x3363ed['pvTNC'](_0x2dee25[_0x648e61(0x4a6,0x3d7,0x44c,0x450)](/\/$/,''),_0x3363ed[_0x648e61(0x42a,0x4b6,0x426,0x456)]),_0x29c087=fetchModelsButton[_0x648e61(0x47f,0x49b,0x482,0x4af)]();fetchModelsButton[_0x648e61(0x449,0x3ab,0x482,0x482)](_0x3363ed[_0x648e61(0x4b5,0x427,0x476,0x553)]),fetchModelsButton[_0x648e61(0x5e5,0x561,0x540,0x5db)](_0x561c09(-0x99,0xd,-0xf1,0x12),!![]),floatBallStateManager['startLoadi'+'ng']();try{if(_0x3363ed[_0x561c09(0x22,-0x2f,0x72,-0x6)](_0x3363ed[_0x561c09(-0x27,-0xfc,-0x51,0x8a)],_0x3363ed['KbRaH']))_0x1138b4+='\x20('+_0x360b65[_0x648e61(0x4ec,0x4b7,0x515,0x523)](',\x20')+')';else{const _0x493170={};_0x493170[_0x648e61(0x4cd,0x367,0x43e,0x378)+_0x561c09(0xcb,0xe7,0x40,0x27)]='Bearer\x20'+_0x4d569c;const _0x246c07={};_0x246c07[_0x648e61(0x503,0x656,0x580,0x4a2)]=_0x561c09(-0x73,0x29,-0xcc,0x7),_0x246c07[_0x648e61(0x4e2,0x5f7,0x555,0x560)]=_0x493170;const _0x4a5ba6=await fetch(_0x87476e,_0x246c07),_0x4d1400=await _0x4a5ba6[_0x648e61(0x544,0x4ba,0x514,0x453)]();if(_0x4d1400[_0x648e61(0x48a,0x5d3,0x568,0x5f9)]){let _0x42d194;if(_0x3363ed[_0x648e61(0x51f,0x491,0x4f5,0x4e1)](typeof _0x4d1400[_0x561c09(0x95,0x35,-0x2c,0x98)],'object')&&_0x4d1400[_0x561c09(0x95,0x14f,0x16e,0x8c)]['message']){if(_0x3363ed[_0x648e61(0x46e,0x605,0x539,0x5b6)]('IDwLW',_0x3363ed[_0x561c09(-0x86,-0xcb,-0x105,-0x162)])){_0x42d194=''+_0x4d1400[_0x561c09(0x95,0xf6,0x112,0x11f)][_0x648e61(0x4c8,0x409,0x423,0x3e2)];const _0x2c0944=[];if(_0x4d1400[_0x648e61(0x565,0x5d3,0x568,0x64a)]['type'])_0x2c0944['push'](_0x648e61(0x5f9,0x523,0x5ab,0x4ff)+_0x4d1400[_0x561c09(0x95,0xa3,0x67,0xf7)][_0x561c09(0x1c,-0x2e,0xd5,0x6e)]);if(_0x4d1400[_0x561c09(0x95,-0xd,0xaa,0x157)]['code'])_0x2c0944[_0x648e61(0x3eb,0x38d,0x443,0x472)](_0x561c09(0x5d,0x114,-0x44,0x16)+_0x4d1400[_0x561c09(0x95,0xc1,0xb7,0x139)][_0x648e61(0x4d6,0x4dd,0x467,0x420)]);if(_0x3363ed[_0x561c09(-0x83,-0x12f,0x48,-0xb9)](_0x2c0944[_0x648e61(0x49f,0x584,0x569,0x4dc)],-0xcdb*-0x1+-0x110c+0x431*0x1)){if(_0x3363ed[_0x648e61(0x501,0x618,0x58e,0x57c)](_0x3363ed[_0x561c09(0xdb,0x7a,0x148,0xa7)],_0x3363ed[_0x561c09(0x9,0x2e,-0xc9,0x87)])){_0x18e384[_0x648e61(0x611,0x58d,0x531,0x4c7)](_0x3363ed[_0x648e61(0x510,0x49f,0x4ca,0x4df)]);return;}else _0x42d194+='\x20('+_0x2c0944[_0x561c09(0x42,-0xf,-0x78,0x11d)](',\x20')+')';}}else{const _0x234872={};_0x234872[_0x561c09(0xe4,0x10f,0x190,0x1b3)]=_0x3363ed[_0x561c09(0x48,0x92,0xc7,-0x1)],_0x234872[_0x648e61(0x4d7,0x553,0x545,0x53a)]=_0x18e85f[_0x648e61(0x5a8,0x5a8,0x519,0x4f8)],_0x29ed46['push'](_0x234872);}}else _0x42d194=''+JSON['stringify'](_0x4d1400[_0x561c09(0x95,0x30,0x152,0x15d)]);throw new Error(_0x42d194);}if(!_0x4a5ba6['ok']){if(_0x3363ed[_0x561c09(0x8d,0xd7,0x8c,0x1e)]!==_0x3363ed['YCbdU'])throw new _0xade4ce(_0x648e61(0x4e4,0x4ef,0x58d,0x60b)+_0x22b5cc[_0x561c09(-0xc2,-0x57,-0x15f,0x17)]+'\x20'+_0x300bd5['statusText']);else throw new Error('获取模型列表失败:\x20'+_0x4a5ba6['status']+'\x20'+_0x4a5ba6['statusText']);}const _0x6cd791=_0x4d1400[_0x561c09(0xe2,0x1a2,0x151,0xce)]||[],_0x51c32b=modelSelect[_0x561c09(-0x62,-0xe4,-0x88,-0x8d)]();modelSelect[_0x561c09(-0xa2,-0x12b,-0x16,-0x45)](),_0x6cd791[_0x561c09(0x3,-0xaf,0x32,-0x75)](_0x32390f=>{function _0x374db7(_0xe1e69d,_0x4bd1e7,_0x95b51c,_0x39af3c){return _0x561c09(_0x95b51c-0x13b,_0x4bd1e7-0xe2,_0x4bd1e7,_0x39af3c-0x110);}function _0x7755d1(_0x30a78e,_0x3810d9,_0x4f658b,_0x38fe5a){return _0x561c09(_0x38fe5a-0x47d,_0x3810d9-0xf5,_0x4f658b,_0x38fe5a-0x136);}if(_0x3363ed[_0x374db7(0x248,0x15d,0x1a1,0x11e)](_0x3363ed[_0x7755d1(0x40b,0x57d,0x4e7,0x49d)],_0x3363ed['KKbtf'])){const _0x29a0ac=_0x2a8817[_0x7755d1(0x421,0x4de,0x4d9,0x41b)]();if(!_0x29a0ac){_0x3f4614[_0x7755d1(0x567,0x40b,0x4e8,0x4db)](_0x3363ed['HrMiA']);return;}const _0x1606b1=_0x10d28a[_0x3b1ef0]['llm_profil'+'es'][_0x29a0ac],_0x398dd2={..._0x1606b1},_0x490bb2=_0x398dd2;delete _0x490bb2[_0x374db7(0x292,0x126,0x208,0x208)],delete _0x490bb2[_0x374db7(0x297,0x1ee,0x20d,0x264)],delete _0x490bb2['model'];const _0x2da065={};_0x2da065[_0x29a0ac]=_0x490bb2;const _0x5aeb3b=_0x2da065,_0x372f54={};_0x372f54['type']=_0x3363ed[_0x7755d1(0x4e5,0x4fc,0x5fa,0x551)];const _0x2100a6=new _0x4c4d7e([_0x38430a[_0x374db7(0x94,0x15,0xd5,0x153)](_0x5aeb3b,null,-0x1*-0xfb+-0x2*0xe6e+0x1be5)],_0x372f54),_0x4b2360=_0x5d2235[_0x7755d1(0x3af,0x49a,0x529,0x47e)+_0x374db7(0xf8,0x57,0x6d,0xae)](_0x2100a6),_0x5f3715=_0x55b190[_0x374db7(0x1c1,0x1c4,0x1c6,0x282)+'ent']('a');_0x5f3715[_0x7755d1(0x3ac,0x482,0x492,0x42f)]=_0x4b2360,_0x5f3715[_0x7755d1(0x3da,0x455,0x3e1,0x476)]='st_is_llm_'+_0x7755d1(0x493,0x521,0x5e6,0x53e)+_0x29a0ac+_0x7755d1(0x3a3,0x372,0x485,0x449),_0x48fba8[_0x374db7(0x195,0x153,0x142,0x130)][_0x7755d1(0x479,0x469,0x47c,0x4ed)+'d'](_0x5f3715),_0x5f3715[_0x374db7(0x153,0x157,0x1aa,0x105)](),_0x28f427[_0x374db7(0xd6,0xa7,0xb7,-0x13)+'ctURL'](_0x4b2360);}else modelSelect[_0x7755d1(0x4ec,0x503,0x559,0x47a)](new Option(_0x32390f['id'],_0x32390f['id']));}),_0x51c32b&&_0x6cd791['some'](_0x32652a=>_0x32652a['id']===_0x51c32b)&&modelSelect[_0x648e61(0x4ac,0x41d,0x471,0x513)](_0x51c32b),toastr['success'](_0x561c09(0x3f,0x34,0x30,-0x61)+_0x6cd791[_0x648e61(0x647,0x616,0x569,0x583)]+_0x648e61(0x4b5,0x564,0x57c,0x4ca));}}catch(_0xee58a1){toastr[_0x648e61(0x520,0x590,0x568,0x613)](_0xee58a1[_0x561c09(-0xb0,-0xf3,-0x7e,-0x172)]);}finally{fetchModelsButton[_0x648e61(0x478,0x4b3,0x482,0x40f)](_0x29c087),fetchModelsButton[_0x561c09(0x6d,0x3f,0x106,-0x1a)]('disabled',![]),floatBallStateManager[_0x648e61(0x4de,0x51a,0x53d,0x4e4)+'g']();}}async function onTestLLMClick(){const _0x2c33f0={'RnIBG':function(_0x2065ea,_0x1741d5){return _0x2065ea>_0x1741d5;},'krKPL':_0x1eb812(0x180,0x120,0x1da,0x19d),'BjKdY':function(_0x11967b,_0x4509fc){return _0x11967b===_0x4509fc;},'alYIu':_0x47f384(0xc0,0x34,0x37,0x31),'yzNXG':_0x47f384(0x183,0xbb,0x11d,0x170),'RUwPW':function(_0x23fa5c,_0x51b968){return _0x23fa5c!==_0x51b968;},'SPnwk':_0x1eb812(0x200,0x1cc,0x218,0x1d6),'gvOWg':function(_0x2c00b2,_0x34d9ae){return _0x2c00b2!==_0x34d9ae;},'MEGGb':function(_0x3b1be8,_0x493836){return _0x3b1be8!==_0x493836;},'ePwLu':_0x47f384(0x1cb,0x134,0x108,0x1ec),'ZbTuJ':_0x47f384(-0x6d,0x2f,0xaa,-0x4f),'AVKib':_0x1eb812(0x274,0x25c,0x202,0x17c)+_0x47f384(0x20e,0x187,0x236,0x21a)+'|31|3|13|1'+'7|32|24|20'+_0x47f384(0x35,0xdf,0x34,0x17c)+'25|6|11|4|'+'16|27|22|2'+'6|29|30|33'+_0x47f384(0x1b1,0xda,0x10e,0x80)+'3','YGPsn':function(_0x1168fa,_0x3d57fd){return _0x1168fa(_0x3d57fd);},'TSUSh':_0x1eb812(0xd6,0x20b,0x190,0x115)+_0x1eb812(0x35e,0x2e5,0x292,0x224)+'button','BDxqP':_0x1eb812(0x1c7,0x258,0x241,0x2b4),'WiHjo':_0x47f384(0x17a,0xbc,0xcb,0x39),'IQEoI':_0x1eb812(0x112,0x2b8,0x1e4,0x166)+'le_select','rYbkX':function(_0x5d138b,_0x3a3125){return _0x5d138b(_0x3a3125);},'TfWkE':_0x47f384(0xd5,0x82,0x14c,0xb)+_0x47f384(0x4,0xa9,-0x12,0xed),'uyDoi':_0x1eb812(0x1a0,0x219,0x174,0x249)+'rature_val'+'ue','XBwOr':function(_0x449cd0,_0x522972){return _0x449cd0(_0x522972);},'pdDbW':_0x47f384(0x261,0x197,0x110,0xef)+_0x47f384(0x151,0x1a7,0x1e0,0x127)+_0x47f384(0x16e,0x95,0x8,0x8d),'stDix':function(_0x3ff666,_0x291207){return _0x3ff666(_0x291207);},'AVHmi':_0x1eb812(0x285,0x2de,0x291,0x1bf)+_0x47f384(0xb1,0x10e,0x78,0x1a3)+'ton','MpWRI':function(_0xf3da89,_0x5a2f77){return _0xf3da89(_0x5a2f77);},'ALosj':_0x47f384(0xb9,0x13c,0x160,0x92)+_0x1eb812(0x1df,0x1f4,0x248,0x1e7)+_0x47f384(0xf4,0x3f,0xeb,0x1d),'hAcCn':function(_0x5d8e28,_0x1038b2){return _0x5d8e28(_0x1038b2);},'sODvX':_0x47f384(0x5f,0x59,0xe0,0x63),'HTCXt':function(_0x59e117,_0x38e467){return _0x59e117(_0x38e467);},'UVzOf':_0x1eb812(0x101,0xc2,0x16d,0x16d)+_0x47f384(0x216,0x167,0x89,0x121)+'e','cgtbq':_0x47f384(0x58,0x118,0x1b7,0x85)+'rl','jUmGW':_0x1eb812(0x20e,0x80,0x147,0x73)+_0x1eb812(0x2a8,0x27d,0x1e7,0x20d),'uWGHh':function(_0x1f0882,_0x572bb3){return _0x1f0882(_0x572bb3);},'JjpSv':_0x1eb812(0x264,0x2d3,0x250,0x1f5)+_0x47f384(0x4f,0x110,0x188,0x1c6)+_0x47f384(-0x6e,0x3f,-0x2c,0x121),'qsphD':'#llmTestMo'+'de','oTmRC':_0x47f384(0x8c,0x11a,0x12a,0x9f)+'ey','WmUQb':function(_0x34266c){return _0x34266c();},'dgCqz':_0x47f384(0x1e4,0x13e,0xbf,0x1c8)+_0x1eb812(0x1eb,0x2c5,0x28e,0x1d7),'pAkol':function(_0x5d880c,_0x48a8ad){return _0x5d880c(_0x48a8ad);},'fpZJH':_0x1eb812(0x17e,0x218,0x22c,0x157)+_0x1eb812(0x22b,0x274,0x292,0x27e)+'button','UnLts':_0x47f384(0x8d,0x123,0xc3,0x147)+_0x1eb812(0x309,0x1c7,0x257,0x2ea),'tvCGY':function(_0x59ef99,_0x265c36){return _0x59ef99(_0x265c36);},'EBEHl':'#llm_test_'+_0x47f384(0x7f,0x95,0x47,0x116),'JVJCo':_0x1eb812(0x212,0x176,0x154,0x12d)+_0x47f384(0x17b,0x131,0x1bc,0xa0),'LrWDP':function(_0x4688a6,_0x577536){return _0x4688a6||_0x577536;},'VXkhz':_0x47f384(0x51,0x7d,0x77,0x53)+_0x47f384(0xc0,0x20,0xa7,0x40)+_0x47f384(0xe7,0x5d,0xf2,0xc4),'ucSAT':_0x1eb812(0x173,0x181,0x1ef,0x1f8)+'获取模型列表。','pDUQF':function(_0x4d8f25,_0x573362){return _0x4d8f25+_0x573362;},'tOyel':_0x1eb812(0xf5,0x6d,0x10a,0x138)+'.','LbXOD':'disabled','hubxI':function(_0x5e6835,_0x360230){return _0x5e6835===_0x360230;},'cvvJJ':'Eptci','IOgKh':function(_0x5eb792,_0x3e51d2){return _0x5eb792===_0x3e51d2;},'yzUqj':'请输入至少一条用户测'+_0x47f384(0x22a,0x175,0x150,0x15e),'GbiIV':_0x47f384(0x1a1,0x106,0x179,0x1bb),'IzCyl':function(_0x10cda5,_0x5e6c28,_0x57f7ed){return _0x10cda5(_0x5e6c28,_0x57f7ed);},'yQbhA':_0x1eb812(0x14a,0x225,0x1b2,0x116),'GhBKq':'applicatio'+'n/json','gtrGG':function(_0x5ef873,_0x20f302){return _0x5ef873===_0x20f302;},'lQvAQ':'object','tLjNF':function(_0x573b68,_0x157f01){return _0x573b68>_0x157f01;},'hnOPC':function(_0x188c48,_0x3cfd94){return _0x188c48!==_0x3cfd94;},'CSmNZ':_0x47f384(0xfe,0x112,0x19b,0x1a7),'PKQKO':_0x47f384(0x45,0xb5,0x17a,0x38),'KMdHX':_0x47f384(0xd4,0x186,0x1c1,0x263)+_0x47f384(0x67,0x94,0xa9,0x7b)+_0x47f384(0x6b,0xf7,0x4b,0x1b5),'wjwPS':_0x47f384(0x8a,0xcd,0x6a,0x115)+_0x47f384(0x1b5,0x171,0x11f,0x20e)};currentLLMRequestController&&(currentLLMRequestController[_0x1eb812(0x32f,0x228,0x288,0x1e7)](),toastr[_0x1eb812(0x2a3,0x13f,0x1d1,0x24e)](_0x2c33f0['JVJCo']));currentLLMRequestController=new AbortController();const _0xa94527=currentLLMRequestController[_0x1eb812(0x269,0x155,0x1e8,0x235)],_0x228b82=collectProfileDataFromUI(),{api_url:_0x235f1d,api_key:_0x30491b,model:_0x48c1e4,temperature:_0x24536e,top_p:_0x25c6f9,max_tokens:_0x322191,history:_0x401ffb}=_0x228b82;if(_0x2c33f0[_0x47f384(0x111,0x15b,0xf8,0x98)](!_0x235f1d,!_0x30491b)){toastr[_0x47f384(0x1a4,0x145,0x199,0xc2)](_0x2c33f0[_0x47f384(0x17e,0xca,0x50,0x2b)]);return;}function _0x47f384(_0x2f5e36,_0x3f253d,_0x3fa5ce,_0x42d3dc){return _0x25d6(_0x3f253d- -0xd2,_0x2f5e36);}if(!_0x48c1e4){toastr['warning'](_0x2c33f0['ucSAT']);return;}const _0x18af78=_0x2c33f0[_0x47f384(0x119,0x93,0x66,0x8b)](_0x235f1d[_0x47f384(0x45,0x60,0xf,-0x6)](/\/$/,''),'/chat/comp'+_0x47f384(-0x2,0x46,0x79,-0x11));function _0x1eb812(_0x53b6aa,_0x5faf97,_0x21712b,_0x3717a8){return _0x25d6(_0x21712b-0x19,_0x5faf97);}resultTextarea[_0x1eb812(0x13f,0x208,0x170,0x9a)](_0x2c33f0[_0x1eb812(0x183,0x297,0x1bd,0x145)]),testButton[_0x47f384(0x134,0x154,0x1a9,0x1ec)](_0x2c33f0[_0x47f384(0x120,0x5b,-0x80,-0x72)],!![]),floatBallStateManager['startLoadi'+'ng']();try{if(_0x2c33f0['hubxI'](_0x47f384(0x146,0x7e,0x127,-0x4),_0x2c33f0['cvvJJ'])){_0x588233=''+_0x300726[_0x1eb812(0x1eb,0x338,0x267,0x289)][_0x1eb812(0x177,0x61,0x122,0x15f)];const _0x418992=[];if(_0x5a5df6[_0x47f384(0x164,0x17c,0x123,0xe4)]['type'])_0x418992[_0x47f384(0x13,0x57,-0x5a,0x70)](_0x47f384(0x258,0x1bf,0x216,0x19a)+_0x303d54[_0x47f384(0x255,0x17c,0x126,0x17d)][_0x47f384(0x122,0x103,0x106,0x148)]);if(_0xaa23bf[_0x47f384(0x15e,0x17c,0x169,0x167)][_0x1eb812(0x9e,0x1f0,0x166,0xc4)])_0x418992['push'](_0x47f384(0x80,0x144,0x177,0x196)+_0x2b2afe[_0x1eb812(0x334,0x2e0,0x267,0x323)][_0x1eb812(0x1c9,0xee,0x166,0x18a)]);_0x2c33f0[_0x1eb812(0x17f,0x95,0x12f,0x201)](_0x418992[_0x47f384(0xe5,0x17d,0x1da,0x1f6)],-0x347*-0x7+0x2a3*-0x1+0xe2*-0x17)&&(_0x446044+='\x20('+_0x418992[_0x47f384(0x13a,0x129,0x83,0x61)](',\x20')+')');}else{const _0x29a098=[];_0x401ffb['forEach'](_0x2fa0c5=>{const _0x3de6c4={};function _0x4be8a3(_0x3b1251,_0x25d407,_0x527b00,_0x59e740){return _0x1eb812(_0x3b1251-0x31,_0x59e740,_0x3b1251-0x244,_0x59e740-0x9f);}_0x3de6c4[_0x4be8a3(0x3ed,0x429,0x467,0x38c)]=_0x2c33f0[_0x4be8a3(0x399,0x3aa,0x30f,0x30a)];function _0x3ba394(_0x20902e,_0x463f70,_0x139e19,_0x3c6779){return _0x47f384(_0x139e19,_0x20902e- -0x1b9,_0x139e19-0x92,_0x3c6779-0x13d);}const _0x3aced4=_0x3de6c4;if(_0x2c33f0['BjKdY'](_0x2c33f0[_0x4be8a3(0x351,0x32c,0x38a,0x321)],_0x2c33f0[_0x4be8a3(0x4e9,0x50b,0x58f,0x545)]))_0x35f63e['abort'](),_0x249651[_0x3ba394(-0xd3,-0x78,0xe,-0x19e)](_0x3aced4[_0x4be8a3(0x3ed,0x4cd,0x3c3,0x434)]);else{if(_0x2fa0c5[_0x4be8a3(0x45c,0x4fb,0x4d1,0x3ee)]&&_0x2c33f0[_0x4be8a3(0x4a2,0x4b6,0x4bf,0x535)](_0x2fa0c5[_0x4be8a3(0x45c,0x523,0x50b,0x44c)]['trim'](),'')){const _0x3a1967={};_0x3a1967[_0x3ba394(0x12,0x7b,0x15,0xf4)]=_0x2c33f0[_0x4be8a3(0x4dd,0x498,0x47c,0x4d9)],_0x3a1967[_0x4be8a3(0x488,0x4c3,0x534,0x4ae)]=_0x2fa0c5[_0x4be8a3(0x45c,0x3c9,0x516,0x40f)],_0x29a098[_0x4be8a3(0x386,0x41e,0x2c1,0x31f)](_0x3a1967);}if(_0x2fa0c5[_0x4be8a3(0x35e,0x382,0x418,0x40a)]&&_0x2c33f0['gvOWg'](_0x2fa0c5[_0x4be8a3(0x35e,0x41d,0x3ac,0x38f)]['trim'](),'')){if(_0x2c33f0['MEGGb'](_0x2c33f0['ePwLu'],_0x2c33f0['ePwLu']))_0x41b21e[_0x4be8a3(0x3b4,0x388,0x470,0x379)](_0x169408);else{const _0x24ffaf={};_0x24ffaf[_0x3ba394(0x12,0xcf,0x3e,0x3a)]=_0x2c33f0[_0x3ba394(-0x40,0x8,0x47,0x92)],_0x24ffaf[_0x3ba394(-0x60,0x8,0x60,-0x9d)]=_0x2fa0c5[_0x3ba394(-0x18a,-0x20a,-0x167,-0x13d)],_0x29a098['push'](_0x24ffaf);}}}});if(_0x2c33f0[_0x1eb812(0x1ec,0x295,0x24a,0x2d2)](_0x29a098[_0x1eb812(0x1e1,0x192,0x268,0x2b0)],0x8fd*0x2+-0x18bd+0x6c3)){toastr[_0x47f384(0x10b,0x145,0x94,0x108)](_0x2c33f0[_0x1eb812(0x18a,0x1dd,0x182,0xb7)]),resultTextarea[_0x47f384(0x150,0x85,0x3c,0xe8)](_0x2c33f0[_0x47f384(0xb1,0x24,-0x89,0xa6)]);return;}const _0x538b41={};_0x538b41[_0x1eb812(0x1f9,0x20b,0x225,0x207)]=_0x48c1e4,_0x538b41[_0x47f384(-0x12,0x47,0x3,-0x8e)]=_0x29a098,_0x538b41['temperatur'+'e']=_0x24536e,_0x538b41['top_p']=_0x25c6f9,_0x538b41['max_tokens']=_0x322191,_0x538b41[_0x1eb812(0xc6,0x119,0x179,0x216)]=![];const _0x4749db=_0x538b41,_0x5059d0=await _0x2c33f0[_0x47f384(0x21e,0x1b7,0x290,0x1ee)](fetch,_0x18af78,{'method':_0x2c33f0[_0x1eb812(0x1e0,0x17f,0x18f,0xb5)],'headers':{'Content-Type':_0x2c33f0[_0x47f384(0x209,0x164,0x178,0x23a)],'Authorization':_0x47f384(0x45,0xbd,0xb1,0xd3)+_0x30491b},'body':JSON[_0x1eb812(0x12f,0x234,0x16c,0x232)](_0x4749db),'signal':_0xa94527}),_0x35ca7a=await _0x5059d0[_0x47f384(0x1b5,0x128,0x1f3,0xf6)]();if(_0x35ca7a[_0x1eb812(0x2f1,0x2a2,0x267,0x348)]){let _0x3268d9;if(_0x2c33f0[_0x47f384(0x1b8,0x18a,0x17d,0x1d0)](typeof _0x35ca7a['error'],_0x2c33f0[_0x47f384(0x81,0x161,0x1e9,0x1e1)])&&_0x35ca7a[_0x1eb812(0x2f1,0x330,0x267,0x1e1)][_0x47f384(0x16,0x37,-0x4d,0xb9)]){_0x3268d9=''+_0x35ca7a['error'][_0x47f384(0xe0,0x37,0x1b,0xac)];const _0xc07692=[];if(_0x35ca7a[_0x47f384(0xfc,0x17c,0xbd,0x103)][_0x1eb812(0x2a0,0x288,0x1ee,0x179)])_0xc07692[_0x1eb812(0x8b,0x1ef,0x142,0x151)](_0x47f384(0x287,0x1bf,0x128,0x239)+_0x35ca7a[_0x1eb812(0x2c8,0x1da,0x267,0x1a9)][_0x47f384(0x17c,0x103,0x162,0x112)]);if(_0x35ca7a[_0x1eb812(0x207,0x1d4,0x267,0x29f)][_0x47f384(0x14,0x7b,0xd8,-0x40)])_0xc07692[_0x1eb812(0xe0,0xf5,0x142,0x176)](_0x47f384(0x87,0x144,0x1c4,0x174)+_0x35ca7a[_0x47f384(0xa2,0x17c,0x228,0x194)][_0x47f384(-0x26,0x7b,0xcf,0xc8)]);_0x2c33f0['tLjNF'](_0xc07692[_0x47f384(0xa7,0x17d,0x181,0x166)],-0xa55+-0x173e+0x2193)&&(_0x3268d9+='\x20('+_0xc07692[_0x1eb812(0x1b4,0x15a,0x214,0x2e6)](',\x20')+')');}else{if(_0x2c33f0[_0x47f384(0x1fe,0x1c6,0xfa,0x26d)]('pITCc',_0x2c33f0[_0x1eb812(0x234,0x256,0x235,0x1af)]))_0x3268d9=''+JSON[_0x47f384(0xcd,0x81,0xa7,0x9d)](_0x35ca7a[_0x47f384(0x12e,0x17c,0xbe,0x195)]);else{const _0x18a5d4=_0x2c33f0[_0x47f384(0xef,0xa3,-0x5,0x74)][_0x47f384(0xfd,0x147,0xfa,0x115)]('|');let _0x44eeae=0x1*-0x18d0+-0x1a*0x161+0x3caa;while(!![]){switch(_0x18a5d4[_0x44eeae++]){case'0':_0x2c33f0[_0x47f384(0x1ae,0x115,0xc9,0x1c1)](_0xbf2c17,_0x2c33f0['TSUSh'])['on'](_0x2c33f0[_0x1eb812(0x304,0x21c,0x247,0x228)],_0xa0eea0);continue;case'1':_0x45213c['on'](_0x2c33f0[_0x1eb812(0x1fa,0x179,0x1f6,0x213)],()=>_0x5f564f['val'](_0x45591a['val']()));continue;case'2':_0x1aef30=_0x30eaa5(_0x2c33f0[_0x1eb812(0x257,0x247,0x204,0x13c)]);continue;case'3':_0x4df45b=_0x2c33f0['rYbkX'](_0x4f1692,_0x2c33f0[_0x1eb812(0x1b6,0x1fc,0x1d0,0x15e)]);continue;case'4':_0x5818ef['on'](_0x1eb812(0x2da,0x1fa,0x241,0x28d),_0x174fc6);continue;case'5':_0x17f49f=_0x33dfba(_0x2c33f0[_0x47f384(0x11c,0x8f,0x48,0xe5)]);continue;case'6':_0x2c33f0['XBwOr'](_0x253fa5,_0x2c33f0[_0x1eb812(0x1e3,0x1e4,0x222,0x288)])['on'](_0x2c33f0[_0x47f384(0xe8,0x15c,0x163,0x15e)],_0x86e7d);continue;case'7':_0x2c33f0[_0x47f384(0x20c,0x198,0x25a,0x1a0)](_0x1c3df5,_0x2c33f0[_0x47f384(0x146,0x18e,0x1a1,0xb0)])['on'](_0x2c33f0[_0x47f384(0xe9,0x15c,0x20a,0x166)],_0x5a35a1);continue;case'8':_0x1812eb=_0x2c33f0[_0x47f384(0xc4,0x116,0x168,0x1d0)](_0x3a454b,_0x1eb812(0x86,0x1b9,0x15a,0x10d)+'ned_prompt');continue;case'9':_0x53c196=_0x4a8f1f(_0x2c33f0[_0x47f384(0xdf,0x32,-0x1f,0x71)]);continue;case'10':_0xe70cb=_0x2c33f0[_0x1eb812(0x1da,0x205,0x21b,0x2af)](_0x54ae4d,_0x47f384(0xfd,0x89,0xbc,-0xe)+_0x47f384(0xed,0x1c8,0x14b,0x1ca));continue;case'11':_0x3909f6['on'](_0x2c33f0[_0x47f384(0x158,0x12a,0x200,0x171)],_0xceb995);continue;case'12':_0x4a9c4e=_0x2c33f0[_0x1eb812(0x1f3,0x252,0x210,0x237)](_0x37050a,'#llm_top_p');continue;case'13':_0x276b26=_0x2c33f0[_0x1eb812(0x1df,0x1af,0x237,0x2cf)](_0x26164b,_0x2c33f0[_0x47f384(0x10b,0x17b,0xc0,0xc7)]);continue;case'14':_0x3601c5['on'](_0x2c33f0[_0x1eb812(0x14c,0x218,0x1f6,0x155)],()=>_0x4f639f[_0x47f384(0xc6,0x85,-0x36,0x6)](_0x1cd83f['val']()));continue;case'15':_0x1d8581=_0x5ccd30(_0x2c33f0[_0x1eb812(0x100,0x171,0x1c4,0x1a6)]);continue;case'16':_0x1a68c2['on'](_0x2c33f0[_0x47f384(0x1aa,0x15c,0x9a,0x164)],_0x1c6064);continue;case'17':_0x5571bb=_0xea3ba6(_0x2c33f0[_0x1eb812(0x1c0,0x163,0x151,0x1bb)]);continue;case'18':_0x1b8165=_0x2c33f0[_0x1eb812(0x1c2,0x79,0x135,0x145)](_0x52239a,_0x1eb812(0x1bb,0x2ea,0x263,0x30f)+'_select');continue;case'19':_0x2c33f0[_0x1eb812(0x2c8,0x191,0x22b,0x2c8)](_0x43c546,_0x2c33f0[_0x1eb812(0x295,0x371,0x294,0x2bb)])['on'](_0x2c33f0[_0x1eb812(0x16a,0x308,0x247,0x324)],_0x2ae942);continue;case'20':_0x4223e1=_0x511f3c(_0x2c33f0[_0x47f384(-0x27,0xd,-0xc4,0xcf)]);continue;case'21':_0x3d60f6=_0x2c33f0['uWGHh'](_0xfb9573,_0x2c33f0[_0x47f384(0x192,0x1bd,0x226,0x1fc)]);continue;case'22':_0x115477['on'](_0x4e34e0[_0x1eb812(0xf6,0x123,0x153,0x8e)+_0x47f384(0x190,0x12c,0x187,0xd6)+'ST'],_0x27a6c7);continue;case'23':_0x2c33f0[_0x1eb812(0x345,0x24a,0x278,0x1a7)](_0x27ff2b);continue;case'24':_0x2dc591=_0x2c33f0['stDix'](_0x4b56af,_0x2c33f0[_0x1eb812(0x165,0x217,0x183,0x1c5)]);continue;case'25':_0x2c33f0['pAkol'](_0x4c99ef,_0x2c33f0[_0x1eb812(0x1b3,0x13c,0x16a,0x225)])['on'](_0x47f384(0x216,0x156,0x1d8,0xb0),_0x3dd4ca);continue;case'26':_0x53c3f6['on'](_0x3010f6[_0x1eb812(0x1c9,0x17f,0x224,0x2fc)+_0x47f384(0x8,0x21,-0x8a,-0xb)],_0x34c8eb);continue;case'27':_0x3a954c['on'](_0x2c33f0[_0x1eb812(0x263,0x138,0x215,0x2cb)],_0x19f046);continue;case'28':_0x48c4e6['on'](_0x2c33f0['WiHjo'],()=>_0xcaae45[_0x1eb812(0xca,0x16d,0x170,0x1a5)](_0x5bb4ae[_0x1eb812(0x1d5,0x101,0x170,0x185)]()));continue;case'29':_0x1594a9['on'](_0x47f384(0xc4,0xbc,-0x10,0x67),()=>_0x353b6d[_0x1eb812(0x93,0x24c,0x170,0x148)](_0x302769[_0x1eb812(0x19c,0x193,0x170,0x1c2)]()));continue;case'30':_0x4f0a74['on'](_0x2c33f0['WiHjo'],()=>_0x33e3b7[_0x1eb812(0x153,0xdb,0x170,0x20b)](_0x5a5d50[_0x1eb812(0x227,0xd1,0x170,0x1d1)]()));continue;case'31':_0x3cc4d3=_0x2f8abb(_0x2c33f0['UnLts']);continue;case'32':_0x406d15=_0x2c33f0[_0x47f384(-0x5,0x5a,-0x1,0x107)](_0x3de72e,_0x2c33f0[_0x1eb812(0x17b,0x7a,0x114,0xa5)]);continue;case'33':_0x18ca8d['on'](_0x2c33f0[_0x1eb812(0x2bd,0x138,0x1f6,0x2bf)],()=>_0x39f8ad[_0x47f384(0xdc,0x85,0xb8,0x101)](_0x545caa[_0x47f384(-0x13,0x85,0x26,0x109)]()));continue;}break;}}}throw new Error(_0x3268d9);}if(!_0x5059d0['ok'])throw new Error(_0x47f384(0x32,0x10a,0x75,0xb9)+_0x5059d0['status']+'\x20'+_0x5059d0[_0x47f384(0x126,0xe3,0x15a,0x20)]);const _0x568067=_0x35ca7a['choices']?.[-0x15d5+-0xf97+-0x77c*-0x5]?.[_0x47f384(0xe2,0x37,0xb5,-0x35)]?.[_0x1eb812(0x1ad,0x18c,0x244,0x1b5)]||_0x2c33f0[_0x1eb812(0x241,0x18f,0x1c3,0x1f3)];resultTextarea[_0x1eb812(0x15b,0x15c,0x170,0x251)](_0x568067);const _0x5678c1={};_0x5678c1[_0x1eb812(0x195,0x190,0x123,0x10e)]=!![],_0x5678c1[_0x47f384(0xeb,0x1c9,0x2aa,0x17b)]=_0x35ca7a,eventSource[_0x1eb812(0x13a,0x1f8,0x20f,0x2bd)](eventNames[_0x47f384(0x60,0xc9,0xc0,0xe0)+_0x1eb812(0x1f5,0x93,0x152,0xe7)],_0x5678c1);}}catch(_0x4ae188){if(_0x2c33f0[_0x1eb812(0x16d,0x188,0x1d6,0x24c)](_0x4ae188['name'],_0x47f384(0x18f,0x17f,0xe5,0x17d))){console[_0x47f384(0x157,0x1b1,0x211,0x293)](_0x2c33f0[_0x47f384(0xea,0x84,0xdc,0x14e)]);return;}console[_0x1eb812(0x19c,0x1c3,0x267,0x2bd)](_0x2c33f0['wjwPS'],_0x4ae188);const _0x4c7c02=_0x1eb812(0x2c0,0x281,0x24e,0x205)+_0x4ae188[_0x47f384(0xe1,0x37,0x41,0x61)];resultTextarea[_0x47f384(0xb8,0x85,0xcd,0x8a)](_0x4c7c02),toastr[_0x47f384(0x117,0x17c,0x1e1,0x210)](_0x4ae188['message']);const _0x505ca7={};_0x505ca7[_0x1eb812(0xc3,0xe3,0x123,0x183)]=![],_0x505ca7[_0x47f384(0xea,0x1c9,0x19c,0x173)]=_0x4c7c02,eventSource['emit'](eventNames['LLM_TEST_R'+_0x47f384(0x41,0x67,-0x4f,-0x37)],_0x505ca7);}finally{testButton['prop'](_0x2c33f0['LbXOD'],![]),currentLLMRequestController=null,floatBallStateManager[_0x1eb812(0x2d1,0x2a8,0x23c,0x16c)+'g']();}}function buildPrompt(){const _0x16662d={};_0x16662d[_0x1d9ad9(0x172,0x14c,0xbb,0x19e)]=function(_0x81b7f5,_0x13fbe8){return _0x81b7f5!==_0x13fbe8;},_0x16662d[_0x3598a3(-0x79,-0x148,0x36,-0xce)]=_0x1d9ad9(0x33,0xbf,0x9d,-0x76);const _0x42e5fa=_0x16662d;function _0x3598a3(_0x499126,_0x4bec4a,_0x384f9b,_0x54b61d){return _0x25d6(_0x499126- -0x25f,_0x384f9b);}const _0x2f70c3=collectProfileDataFromUI(),{history:_0xe4ce3d}=_0x2f70c3;function _0x1d9ad9(_0x533178,_0x2aed9f,_0x38366d,_0x41a8f5){return _0x25d6(_0x533178- -0xda,_0x41a8f5);}const _0x2a8b93=[];return _0xe4ce3d[_0x3598a3(-0xa3,-0x149,-0x32,-0x88)](_0x2b11f7=>{const _0x219620={};_0x219620[_0x4fdc20(0x2a1,0x2d9,0x2d7,0x375)]=_0x4fdc20(0x2d3,0x245,0x385,0x2d7);function _0x65bf11(_0x588a81,_0x2dbc1d,_0x3e8f49,_0x405a94){return _0x3598a3(_0x2dbc1d-0x6a,_0x2dbc1d-0xc9,_0x588a81,_0x405a94-0x14c);}function _0x4fdc20(_0x2321b0,_0x51c887,_0x824af2,_0x489f00){return _0x3598a3(_0x489f00-0x3bc,_0x51c887-0x14d,_0x51c887,_0x489f00-0xe8);}const _0x51287c=_0x219620;if(_0x2b11f7[_0x4fdc20(0x39d,0x409,0x389,0x35c)]&&_0x42e5fa[_0x65bf11(0x9d,0x57,-0x8b,-0x3f)](_0x2b11f7[_0x65bf11(0xa7,0xa,-0x2,0xb7)]['trim'](),'')){if(_0x42e5fa[_0x65bf11(0x106,0x57,-0x7,0xb7)](_0x4fdc20(0x1cf,0x265,0x2d3,0x26a),_0x42e5fa['gMmJN'])){_0x5ec0bd[_0x65bf11(0x44,0x22,0x26,-0x4c)](_0x51287c[_0x65bf11(-0x54,0x23,-0x19,0x1d)]);return;}else{const _0x55aed9={};_0x55aed9[_0x65bf11(0x4e,0xa8,-0xf,0x18a)]=_0x65bf11(-0x31,0xa,0x5a,0x7b),_0x55aed9[_0x65bf11(0x95,0x36,0x5e,0x4b)]=_0x2b11f7[_0x65bf11(-0x65,0xa,-0x6f,0x44)],_0x2a8b93[_0x65bf11(-0x1a0,-0xcc,-0xae,-0x18e)](_0x55aed9);}}if(_0x2b11f7['assistant']&&_0x42e5fa[_0x4fdc20(0x370,0x376,0x44e,0x3a9)](_0x2b11f7['assistant'][_0x4fdc20(0x271,0x2f2,0x1bc,0x27e)](),'')){const _0x5a90d9={};_0x5a90d9[_0x65bf11(-0x2,0xa8,-0x1b,0x52)]='assistant',_0x5a90d9['content']=_0x2b11f7[_0x4fdc20(0x285,0x214,0x1cb,0x25e)],_0x2a8b93[_0x4fdc20(0x229,0x2dd,0x2a4,0x286)](_0x5a90d9);}}),_0x2a8b93;}function onGetPromptRequest(_0x1d5534){const _0x45abfb={'Vfdol':function(_0x5c812f){return _0x5c812f();}};function _0x483d16(_0x43abd7,_0x3ca717,_0x447ae5,_0x2202f8){return _0x25d6(_0x447ae5-0x2d7,_0x2202f8);}const {id:_0x877354}=_0x1d5534;if(!_0x877354)return;console['log'](_0x483d16(0x44f,0x570,0x4ba,0x568)+_0x483d16(0x4be,0x474,0x484,0x513)+_0x877354+')');const _0x4ba671=_0x45abfb[_0x483d16(0x507,0x555,0x4ab,0x54d)](buildPrompt),_0x187508={};_0x187508[_0x483d16(0x5e7,0x4a8,0x52e,0x533)]=_0x4ba671,_0x187508['id']=_0x877354;function _0x3acd92(_0x13db72,_0x4963d0,_0x555a09,_0x13d712){return _0x25d6(_0x555a09- -0x1e2,_0x4963d0);}eventSource['emit'](eventNames[_0x483d16(0x427,0x463,0x411,0x498)+'OMPT_RESPO'+_0x483d16(0x4f8,0x556,0x4df,0x46a)],_0x187508);}async function onExecuteRequest(_0x3459d8){function _0xffa004(_0x44ada7,_0x2481ca,_0x1bfb3f,_0x197de9){return _0x25d6(_0x44ada7- -0x18d,_0x197de9);}const _0x945932={'JPvQG':function(_0x4ff5a3,_0x2d586f){return _0x4ff5a3(_0x2d586f);},'rrDWT':'.st-is-llm'+_0xffa004(-0x5d,0x57,-0x113,-0x1b)+'ssistant','RGvHp':function(_0x2536e6,_0x2ac2a4,_0x4e2177){return _0x2536e6(_0x2ac2a4,_0x4e2177);},'kZGJy':function(_0xae3dd6,_0x1a3c58){return _0xae3dd6===_0x1a3c58;},'lCgnb':_0x5cdcd2(0x44d,0x466,0x533,0x50b),'bALXg':function(_0x39b028,_0x213431){return _0x39b028>_0x213431;},'sDNpa':function(_0x20e0a4,_0x4d36a5){return _0x20e0a4||_0x4d36a5;},'UsTxC':_0xffa004(-0x52,-0x49,-0x125,0x29)+_0x5cdcd2(0x392,0x3d9,0x3e8,0x38b),'nlbtY':function(_0x73a7c4){return _0x73a7c4();},'ZHSNn':function(_0x4c79d8,_0x1af38b){return _0x4c79d8+_0x1af38b;},'qNlhg':_0xffa004(0xe1,0x128,0xea,0xa8)+_0x5cdcd2(0x277,0x2ee,0x212,0x2df),'sJgVH':_0x5cdcd2(0x3ee,0x454,0x38e,0x3a0)+'稍候...','PAsFx':function(_0x442e75,_0x55023c){return _0x442e75!==_0x55023c;},'pJmYm':'rtjgQ','ypZpl':function(_0x3228ad,_0x5bf9e3,_0x58caff){return _0x3228ad(_0x5bf9e3,_0x58caff);},'YHsRb':_0xffa004(0xc,-0x16,0x38,0xed),'NwKjH':_0x5cdcd2(0x243,0x2e4,0x283,0x21a)+_0x5cdcd2(0x364,0x2eb,0x27f,0x2b3),'WVKLd':'gAWBY','lhoBQ':'pNVWq','wWUHG':function(_0x219a31,_0x3b9006){return _0x219a31===_0x3b9006;},'KQMug':_0xffa004(0xa5,0xab,0x1d,0xeb),'KNNnX':_0x5cdcd2(0x3c9,0x42a,0x3bc,0x4bf),'puNGg':'未收到有效回复。','guPan':'AbortError','dUuNQ':_0x5cdcd2(0x2bf,0x2bd,0x2b7,0x1f8)+'e\x20request\x20'+_0x5cdcd2(0x3fe,0x439,0x403,0x3bf),'OEvOk':_0xffa004(0x11,0xb,0x1c,0x99)+'orted','hkKNv':_0xffa004(0xe5,0x2d,0x192,0x79)+_0x5cdcd2(0x469,0x3ea,0x320,0x35a)},{prompt:_0x512695,id:_0x4131e1}=_0x3459d8;if(_0x945932[_0xffa004(0x9a,-0x22,0x8,0x67)](!_0x4131e1,!_0x512695))return;currentLLMRequestController&&(currentLLMRequestController[_0x5cdcd2(0x4c9,0x445,0x44c,0x4bf)](),toastr['info'](_0x945932[_0xffa004(0x58,0x5c,-0x3d,0x5e)]));currentLLMRequestController=new AbortController();const _0x424281=currentLLMRequestController['signal'];console[_0xffa004(0xf6,0x18,0xb6,0x115)](_0x5cdcd2(0x1e4,0x2be,0x1f6,0x22e)+'M\x20执行请求\x20(ID'+':\x20'+_0x4131e1+')',_0x512695);function _0x5cdcd2(_0x10dd83,_0x2b98d7,_0x15e732,_0xbe10bf){return _0x25d6(_0x2b98d7-0x1d6,_0x15e732);}const _0x21d595=_0x945932[_0xffa004(-0x2e,0x89,0x8c,-0x7e)](collectProfileDataFromUI),{api_url:_0x22f4d1,api_key:_0x3cc222,model:_0x211a4a,temperature:_0x28e3aa,top_p:_0x21d601,max_tokens:_0x885508}=_0x21d595;if(!_0x22f4d1||!_0x3cc222||!_0x211a4a){const _0x21c1fe='API\x20URL,\x20A'+_0xffa004(-0xad,0x14,-0x69,0x2)+'Model\x20未配置。';toastr[_0xffa004(0xc1,0xb6,0x13b,0x72)](_0x21c1fe);const _0x6a3776={};_0x6a3776['success']=![],_0x6a3776[_0xffa004(0xe8,0xd3,0x15e,0x114)]=_0x21c1fe,_0x6a3776['id']=_0x4131e1,eventSource[_0xffa004(0x69,0x97,0x114,0x5)](eventNames[_0x5cdcd2(0x42a,0x3e1,0x3f8,0x3d0)+_0x5cdcd2(0x303,0x3e5,0x4a1,0x399)],_0x6a3776);return;}const _0x4d9ea9=_0x945932['ZHSNn'](_0x22f4d1[_0xffa004(-0x5b,0x43,-0xbd,-0xae)](/\/$/,''),_0x945932[_0xffa004(-0x34,-0x17,-0x108,0x9f)]);resultTextarea[_0x5cdcd2(0x40d,0x32d,0x250,0x2e6)](_0x945932[_0x5cdcd2(0x375,0x3b7,0x2e6,0x303)]),floatBallStateManager[_0x5cdcd2(0x404,0x3f0,0x488,0x42e)+'ng']();try{if(_0x945932['PAsFx'](_0x945932[_0x5cdcd2(0x232,0x2ba,0x29d,0x319)],_0xffa004(-0x7b,-0x76,0x30,0x4f))){if(_0x176a73[_0xc45040][_0xffa004(-0x4b,-0xa0,0x1a,-0x10)+'es'][_0x11456f]){const _0x41350c={..._0x3f595d[_0xe195f7]['llm_profil'+'es'][_0xe18fc5],..._0x89d78[_0x1840d2]};_0x154d00[_0x52b0df]['llm_profil'+'es'][_0x3f4d32]=_0x41350c;}else _0x2072f3[_0x137836][_0xffa004(-0x4b,-0xfc,-0xad,-0xe3)+'es'][_0x172749]=_0x23cdf9[_0x6bf5bf];_0x5b40b4++;}else{const _0x5c5ed6={};_0x5c5ed6[_0xffa004(0x7f,0x11b,0x33,0xcd)]=_0x211a4a,_0x5c5ed6[_0x5cdcd2(0x2bc,0x2ef,0x332,0x29c)]=_0x512695,_0x5c5ed6['temperatur'+'e']=_0x28e3aa,_0x5c5ed6['top_p']=_0x21d601,_0x5c5ed6['max_tokens']=_0x885508,_0x5c5ed6['stream']=![];const _0x1f6416=_0x5c5ed6,_0x2790dc=await _0x945932[_0xffa004(0xaf,0x136,0x1d,0x177)](fetch,_0x4d9ea9,{'method':_0x945932[_0x5cdcd2(0x425,0x362,0x2cf,0x414)],'headers':{'Content-Type':_0x945932[_0xffa004(-0x21,-0xae,0x58,-0x6)],'Authorization':_0xffa004(0x2,0x5f,-0x2d,0xe3)+_0x3cc222},'body':JSON[_0x5cdcd2(0x2bf,0x329,0x3c7,0x2d7)](_0x1f6416),'signal':_0x424281}),_0x576284=await _0x2790dc[_0x5cdcd2(0x475,0x3d0,0x405,0x310)]();if(_0x576284[_0xffa004(0xc1,0x14f,0x116,0xe4)]){if(_0x945932[_0xffa004(0x16,0xcc,-0x17,-0x51)](_0x945932[_0xffa004(-0xa,0xcd,-0xac,-0x99)],_0x945932['lhoBQ'])){let _0x8917be;if(_0x945932[_0x5cdcd2(0x42f,0x3b4,0x3c4,0x43d)](typeof _0x576284[_0xffa004(0xc1,0x15e,0x51,-0x10)],_0x5cdcd2(0x3ff,0x466,0x471,0x4c9))&&_0x576284[_0xffa004(0xc1,0x4c,0x87,0x104)][_0x5cdcd2(0x375,0x2df,0x357,0x33b)]){if(_0x945932[_0x5cdcd2(0x2ec,0x2d8,0x27c,0x3a5)](_0x945932['KQMug'],_0x945932[_0xffa004(-0x8d,-0x1,-0x146,-0xab)])){const _0x338da5=[];return _0x945932[_0xffa004(-0xa0,-0x5c,-0x140,-0x5e)](_0x5bfb60,_0xffa004(0x10a,0xac,0x1a7,0x7c)+_0x5cdcd2(0x3f3,0x35a,0x3a0,0x38b)+_0xffa004(0x94,0x4a,0x58,0xa3))[_0x5cdcd2(0x48c,0x3c5,0x47b,0x389)](function(){const _0x2f0838=_0x3daa26(this)['find'](_0x38b09b(0x37a,0x3f7,0x40e,0x3dc)+_0x1fc1fd(0x30,0xc7,0x6b,0x4)+_0x1fc1fd(0x77,0x156,0x130,0x9d))['val']();function _0x1fc1fd(_0x1a29b4,_0x7d039e,_0x1e6535,_0x48a4e8){return _0xffa004(_0x48a4e8-0x81,_0x7d039e-0x199,_0x1e6535-0x1a1,_0x1a29b4);}function _0x38b09b(_0x4caff5,_0x46573a,_0x1368c7,_0x56d1c9){return _0xffa004(_0x56d1c9-0x2d2,_0x46573a-0x11d,_0x1368c7-0x15b,_0x46573a);}const _0x325831=_0x945932[_0x38b09b(0x306,0x231,0x267,0x232)](_0xd32923,this)[_0x1fc1fd(0xf2,0x10b,0x12e,0x144)](_0x945932[_0x1fc1fd(-0x61,0x14,-0x2b,-0x4)])[_0x1fc1fd(0x105,-0x5d,0x3,0x4b)](),_0x4d6927={};_0x4d6927[_0x1fc1fd(0x27,0x49,0x88,0xf3)]=_0x2f0838,_0x4d6927[_0x1fc1fd(0x7b,0x34,-0x5d,-0xb)]=_0x325831,_0x338da5[_0x1fc1fd(0x3a,0x87,-0xa7,0x1d)](_0x4d6927);}),{'api_url':_0x171323[_0xffa004(-0x36,0x1a,-0xa3,0x1a)](),'api_key':_0x2362ef[_0xffa004(-0x36,-0x76,-0xcb,0x75)](),'model':_0x449a26['val'](),'temperature':_0x945932[_0xffa004(-0xa0,-0x17e,0x3b,-0x138)](_0x5bd00e,_0x2643d8[_0xffa004(-0x36,-0x93,-0x10e,-0x55)]()),'top_p':_0x52d785(_0x4faa4d['val']()),'max_tokens':_0x945932[_0x5cdcd2(0x303,0x2bf,0x370,0x2bd)](_0x34c639,_0x44896e[_0x5cdcd2(0x2a6,0x32d,0x3cf,0x351)](),0x37*-0x28+-0x10bf*0x1+0x1961),'history':_0x338da5};}else{_0x8917be=''+_0x576284['error']['message'];const _0x439b42=[];if(_0x576284['error'][_0xffa004(0x48,-0x8,-0x53,0xea)])_0x439b42['push'](_0xffa004(0x104,0xb3,0x1b9,0x127)+_0x576284[_0x5cdcd2(0x3c1,0x424,0x357,0x4a8)][_0x5cdcd2(0x3ed,0x3ab,0x47a,0x488)]);if(_0x576284[_0x5cdcd2(0x352,0x424,0x436,0x4ab)]['code'])_0x439b42['push'](_0xffa004(0x89,0x6e,0x103,0x113)+_0x576284['error'][_0xffa004(-0x40,-0x2e,-0xeb,-0xa7)]);_0x439b42[_0x5cdcd2(0x348,0x425,0x3a5,0x401)]>0x24b8+-0x5*-0x6c7+0x2d3*-0x19&&(_0x8917be+='\x20('+_0x439b42[_0xffa004(0x6e,0xd1,0xa9,0x83)](',\x20')+')');}}else _0x8917be=''+JSON[_0xffa004(-0x3a,0x18,-0x111,0x27)](_0x576284[_0xffa004(0xc1,0xad,0x11d,0x38)]);throw new Error(_0x8917be);}else{let _0x4f3f17;if(_0x945932['kZGJy'](typeof _0x599475[_0xffa004(0xc1,0x12c,0x8e,0x2d)],_0x945932[_0xffa004(-0x4,-0x79,-0xd9,0x73)])&&_0xd373d7[_0xffa004(0xc1,0x45,0x6a,0x168)][_0x5cdcd2(0x213,0x2df,0x26f,0x2ad)]){_0x4f3f17=''+_0xa699b3['error'][_0xffa004(-0x84,-0x5a,-0x6e,-0x114)];const _0x35c20a=[];if(_0x4de8bc[_0x5cdcd2(0x398,0x424,0x46b,0x407)][_0x5cdcd2(0x37d,0x3ab,0x3f8,0x318)])_0x35c20a[_0xffa004(-0x64,-0xe1,-0x144,0x7d)](_0xffa004(0x104,0xae,0x15e,0x13f)+_0x40aef8[_0xffa004(0xc1,0xf7,0x59,0xf2)][_0xffa004(0x48,0x117,-0x7d,-0x45)]);if(_0x2388a6['error'][_0x5cdcd2(0x3e0,0x323,0x330,0x2e5)])_0x35c20a['push'](_0xffa004(0x89,0x3c,0x6a,0xf2)+_0x1185a4[_0x5cdcd2(0x385,0x424,0x416,0x3d4)][_0xffa004(-0x40,0x22,0x26,-0x115)]);_0x945932[_0x5cdcd2(0x2ca,0x31a,0x23f,0x334)](_0x35c20a[_0xffa004(0xc2,0x161,0xea,-0xc)],-0x1655*0x1+-0x5*-0x211+0xc00)&&(_0x4f3f17+='\x20('+_0x35c20a[_0x5cdcd2(0x403,0x3d1,0x464,0x337)](',\x20')+')');}else _0x4f3f17=''+_0x3f3fe1[_0x5cdcd2(0x2c2,0x329,0x402,0x2f2)](_0x162db8[_0xffa004(0xc1,0xd4,0x92,0x183)]);throw new _0x593880(_0x4f3f17);}}if(!_0x2790dc['ok'])throw new Error('请求失败:\x20'+_0x2790dc[_0x5cdcd2(0x29d,0x2cd,0x300,0x335)]+'\x20'+_0x2790dc['statusText']);const _0x152cd4=_0x576284[_0xffa004(0x63,0x6d,-0x4b,-0x20)]?.[-0x3*-0xc9a+0x924+-0x1779*0x2]?.[_0xffa004(-0x84,-0x5,-0xb,-0x2a)]?.[_0xffa004(0x9e,0x45,0x12e,-0x3b)]||_0x945932[_0xffa004(0xf0,0xcb,0xd3,0x82)];resultTextarea['val'](_0x152cd4);const _0x162491={};_0x162491['success']=!![],_0x162491[_0xffa004(0xe8,0x12,0x153,0x10e)]=_0x152cd4,_0x162491['id']=_0x4131e1,eventSource[_0xffa004(0x69,-0x1,0x13d,-0x25)](eventNames['LLM_EXECUT'+'E_RESPONSE'],_0x162491);}}catch(_0x1340cf){if(_0x945932[_0xffa004(0x51,0x5a,0xcc,0xdd)](_0x1340cf[_0x5cdcd2(0x551,0x477,0x4a1,0x4bb)],_0x945932[_0xffa004(-0x2f,0x15,-0x17,0x48)])){if(_0x945932['wWUHG'](_0xffa004(0xde,0xda,0x174,0x109),_0x5cdcd2(0x414,0x441,0x51a,0x410))){console['log'](_0x945932['dUuNQ']);const _0x1b7662={};_0x1b7662['name']=_0xffa004(0xc4,0x32,-0x13,0x158),_0x1b7662[_0xffa004(-0x84,0x5a,0x2f,0x32)]=_0x945932[_0xffa004(-0x42,0x54,-0x3a,0x74)];const _0x148f3e={};_0x148f3e[_0x5cdcd2(0x371,0x2e0,0x31a,0x22f)]=![],_0x148f3e[_0xffa004(0xe8,0xf0,0xe6,0x1c1)]=null,_0x148f3e['id']=_0x4131e1,_0x148f3e[_0x5cdcd2(0x388,0x424,0x4bc,0x353)]=_0x1b7662,eventSource[_0xffa004(0x69,0x5e,0xad,0x34)](eventNames['LLM_EXECUT'+'E_RESPONSE'],_0x148f3e);return;}else _0x52a9e6=''+_0x20349b['stringify'](_0xffa3f0['error']);}console[_0xffa004(0xc1,0xef,0xb5,0xf)](_0x945932[_0x5cdcd2(0x3d5,0x40e,0x42e,0x34c)],_0x1340cf);const _0x22e7f5=_0x5cdcd2(0x39c,0x40b,0x4ad,0x35d)+_0x1340cf['message'];resultTextarea[_0xffa004(-0x36,-0xac,-0xd2,-0x8e)](_0x22e7f5),toastr[_0xffa004(0xc1,0x43,0xbe,0x6)](_0x1340cf['message']);const _0x47143e={};_0x47143e[_0xffa004(-0x83,-0x121,-0x13f,0x1f)]=![],_0x47143e['result']=_0x22e7f5,_0x47143e['id']=_0x4131e1,eventSource[_0xffa004(0x69,-0x60,-0x75,-0x36)](eventNames[_0xffa004(0x7e,-0x2c,0xb0,-0x4b)+_0x5cdcd2(0x30b,0x3e5,0x311,0x441)],_0x47143e);}finally{currentLLMRequestController=null,floatBallStateManager['stopLoadin'+'g']();}}function onTestModeToggle(){function _0x2a10e6(_0x48fe1e,_0x127266,_0x3ab172,_0x12f90f){return _0x25d6(_0x3ab172- -0x26,_0x48fe1e);}function _0x5c4312(_0x5ae859,_0x17cd1d,_0x14ca18,_0x1c10c2){return _0x25d6(_0x14ca18-0x3a5,_0x1c10c2);}const _0x5dc6b2={'llYtG':function(_0x3b5d48,_0x48729c){return _0x3b5d48(_0x48729c);},'NhWTV':_0x2a10e6(0x246,0xc8,0x164,0x16d),'gMBgK':function(_0xcd76e8){return _0xcd76e8();}};extension_settings[extensionName][_0x2a10e6(0x11f,0xbe,0xf4,0x92)+'e']=_0x5dc6b2['llYtG']($,this)['is'](_0x5dc6b2['NhWTV']),_0x5dc6b2[_0x2a10e6(0x4,0x22,0xe5,0x1bd)](saveSettingsDebounced),toastr[_0x2a10e6(0x204,0x26b,0x192,0x1df)](_0x2a10e6(0xfe,0x1fc,0x1cc,0x200)+(_0x5dc6b2[_0x2a10e6(0x135,0x26a,0x1a6,0x167)]($,this)['is'](_0x5dc6b2[_0x2a10e6(0x16e,0x2ec,0x241,0x1f0)])?'开启':'关闭')+'。');}export function initLLMSettings(){function _0x1d2d21(_0x2b8cc2,_0x45303d,_0x1e9dba,_0x32bf6c){return _0x25d6(_0x2b8cc2- -0x3a1,_0x45303d);}const _0x367a3f={'SPbEd':function(_0x24b91a,_0x46e1f0){return _0x24b91a(_0x46e1f0);},'gxvvt':_0x1d2d21(-0x24d,-0x2b5,-0x20d,-0x29a)+_0x1d2d21(-0x168,-0x9c,-0x221,-0xb1)+'e','AUmVl':function(_0x1372df,_0x7f1d1d){return _0x1372df(_0x7f1d1d);},'oKpRm':'#llm_api_k'+'ey','sHZSq':'#llm_fetch'+'_models_bu'+'tton','fCCxQ':_0x1f9bcd(0x1df,0x106,0x76,0x1b3)+_0x1f9bcd(0x199,0x16b,0x16a,0x1a3),'obDDp':_0x1d2d21(-0x16a,-0x165,-0x1d3,-0x188)+_0x1d2d21(-0x1bf,-0x266,-0x156,-0xfc)+_0x1f9bcd(-0xd4,0x7,0x87,0x3d),'uffdj':_0x1f9bcd(0x1af,0x11e,0x79,0x181),'Xipmw':function(_0x356937,_0x26acad){return _0x356937(_0x26acad);},'LlbnQ':_0x1f9bcd(-0x3b,0x4a,0xf1,-0x5)+_0x1d2d21(-0x226,-0x27f,-0x19f,-0x2f1),'hlsKk':_0x1d2d21(-0x276,-0x2d8,-0x2f7,-0x1b4),'UJOoA':_0x1d2d21(-0x273,-0x199,-0x32b,-0x27b)+_0x1f9bcd(0xdb,0xc4,0x15f,0x47),'Fnjmo':'#llm_top_p','WxIcC':_0x1d2d21(-0x213,-0x2b7,-0x193,-0x18e),'xNTew':_0x1f9bcd(0xb4,0x51,0x120,0x9)+_0x1f9bcd(0x22e,0x190,0x126,0x227),'RjYEZ':function(_0x55de1d,_0xb58d5e){return _0x55de1d(_0xb58d5e);},'HpZfb':_0x1f9bcd(0x1bd,0xeb,0xda,0x168)+'_value','BgMDX':'#export_ll'+_0x1d2d21(-0x128,-0xd1,-0xa4,-0x14f)+_0x1d2d21(-0x23a,-0x24a,-0x2c7,-0x289),'oYtDA':function(_0x2e7fa0,_0x2768e1){return _0x2e7fa0(_0x2768e1);},'QpLfv':_0x1f9bcd(-0x3c,0x37,0xe1,0xca)+_0x1d2d21(-0x1f3,-0x2ac,-0x11e,-0x114),'NiXzy':_0x1f9bcd(0x90,0x140,0x1bb,0x1cd)+_0x1f9bcd(-0x19,0x35,-0xa2,0x55),'Ukoso':function(_0x268527){return _0x268527();},'rLrAm':'#import_ll'+'m_profile_'+_0x1d2d21(-0x23a,-0x2b3,-0x290,-0x22c),'WsNWF':function(_0x47a0a6,_0x3b31ee){return _0x47a0a6(_0x3b31ee);},'yFhYs':_0x1f9bcd(0x56,0x106,0x74,0x95)+_0x1d2d21(-0x23a,-0x2bf,-0x1dc,-0x288),'iUvfo':function(_0x381807,_0x47a001){return _0x381807(_0x47a001);},'ShtKi':'#llm_profi'+'le_select'},_0x5428f7=(_0x1f9bcd(0x112,0xc8,0x42,0xa4)+'|4|15|30|1'+_0x1f9bcd(0xbb,0x111,0x56,0x14b)+_0x1f9bcd(0xb3,0x58,0x6a,0x8b)+_0x1d2d21(-0x264,-0x2d8,-0x2c1,-0x280)+_0x1d2d21(-0x14c,-0x106,-0x1fc,-0x83)+'|22|6|10|2'+_0x1f9bcd(0x11f,0x59,0xa4,0x11e)+_0x1d2d21(-0x28e,-0x1ff,-0x2b1,-0x28a)+'7')[_0x1d2d21(-0x188,-0x186,-0x1e6,-0xb4)]('|');let _0x30247b=0x1*-0x281+0x5*-0x2a0+-0x1*-0xfa1;function _0x1f9bcd(_0x3f648d,_0x1a2c29,_0xb3bf,_0x50040a){return _0x25d6(_0x1a2c29- -0x10a,_0x3f648d);}while(!![]){switch(_0x5428f7[_0x30247b++]){case'0':maxTokensValue=_0x367a3f[_0x1f9bcd(-0x43,0x11,0xf,-0xa3)]($,_0x367a3f['gxvvt']);continue;case'1':llmTestModeToggle=$(_0x1d2d21(-0x2bb,-0x36a,-0x2a7,-0x302)+'de');continue;case'2':apiKeyInput=_0x367a3f[_0x1d2d21(-0x101,-0xd1,-0x143,-0x1bc)]($,_0x367a3f[_0x1d2d21(-0x29a,-0x242,-0x23c,-0x228)]);continue;case'3':fetchModelsButton['on'](_0x1f9bcd(0x16b,0x11e,0x95,0x16e),onFetchModelsClick);continue;case'4':fetchModelsButton=_0x367a3f[_0x1f9bcd(0x266,0x196,0x19f,0x10a)]($,_0x367a3f[_0x1f9bcd(0x3c,-0xb,-0xe2,-0xdb)]);continue;case'5':resultTextarea=_0x367a3f[_0x1d2d21(-0x101,-0xd2,-0x43,-0x1d7)]($,_0x367a3f['fCCxQ']);continue;case'6':llmTestModeToggle['on'](_0x1d2d21(-0x276,-0x1b8,-0x1d9,-0x2f7),onTestModeToggle);continue;case'7':$(_0x367a3f['obDDp'])['on'](_0x367a3f[_0x1f9bcd(-0xc0,-0x5,0x79,-0xa8)],onSaveProfileClick);continue;case'8':topPValue['on'](_0x1d2d21(-0x213,-0x166,-0x25d,-0x235),()=>topPSlider[_0x1f9bcd(0xc1,0x4d,-0x2f,0xf6)](topPValue[_0x1d2d21(-0x24a,-0x2e0,-0x1e0,-0x246)]()));continue;case'9':maxTokensSlider=_0x367a3f[_0x1d2d21(-0x130,-0x10a,-0xcc,-0x172)]($,_0x367a3f[_0x1d2d21(-0x1f9,-0x222,-0x253,-0x2cb)]);continue;case'10':eventSource['on'](eventNames[_0x1d2d21(-0x267,-0x256,-0x18b,-0x29d)+'OMPT_REQUE'+'ST'],onGetPromptRequest);continue;case'11':profileSelect['on'](_0x367a3f['hlsKk'],onProfileSelectChange);continue;case'12':testHistoryContainer=_0x367a3f['Xipmw']($,_0x367a3f['UJOoA']);continue;case'13':topPSlider=_0x367a3f[_0x1d2d21(-0x130,-0x12d,-0x12a,-0x16f)]($,_0x367a3f[_0x1d2d21(-0x1d0,-0x1d3,-0x274,-0x139)]);continue;case'14':temperatureSlider['on'](_0x367a3f['WxIcC'],()=>temperatureValue[_0x1f9bcd(-0x7,0x4d,-0x41,-0x2c)](temperatureSlider['val']()));continue;case'15':temperatureSlider=_0x367a3f['SPbEd']($,_0x367a3f[_0x1d2d21(-0x1a8,-0x268,-0x169,-0x263)]);continue;case'16':maxTokensValue['on'](_0x367a3f[_0x1f9bcd(-0x13,-0x29,-0x29,-0x6c)],()=>maxTokensSlider[_0x1f9bcd(0xb8,0x4d,0x9f,0xa8)](maxTokensValue[_0x1d2d21(-0x24a,-0x1e5,-0x1f3,-0x296)]()));continue;case'17':topPValue=_0x367a3f[_0x1f9bcd(0xb3,0x14,0x85,0xdc)]($,_0x367a3f[_0x1d2d21(-0x135,-0x1e7,-0x1da,-0x144)]);continue;case'18':_0x367a3f['RjYEZ']($,_0x367a3f['BgMDX'])['on'](_0x367a3f[_0x1f9bcd(-0xcf,-0x5,-0x58,-0x4)],onExportProfileClick);continue;case'19':topPSlider['on'](_0x367a3f['WxIcC'],()=>topPValue[_0x1d2d21(-0x24a,-0x2c3,-0x1d9,-0x2dd)](topPSlider[_0x1d2d21(-0x24a,-0x1f0,-0x2b0,-0x2ff)]()));continue;case'20':$(_0x1f9bcd(0x102,0x16e,0x22b,0x221)+_0x1f9bcd(0x16a,0xd6,0x85,0x51)+_0x1f9bcd(0x6f,0xea,0xb5,0x15d))['on'](_0x367a3f[_0x1d2d21(-0x29c,-0x2cc,-0x2db,-0x288)],onSaveAsProfileClick);continue;case'21':temperatureValue['on'](_0x367a3f[_0x1d2d21(-0x2c0,-0x37a,-0x2d2,-0x2a5)],()=>temperatureSlider[_0x1d2d21(-0x24a,-0x18e,-0x1c4,-0x298)](temperatureValue[_0x1f9bcd(0x3a,0x4d,0x98,-0x7c)]()));continue;case'22':testButton['on'](_0x367a3f[_0x1d2d21(-0x29c,-0x277,-0x35d,-0x341)],onTestLLMClick);continue;case'23':combinedPromptTextarea=_0x367a3f[_0x1d2d21(-0x27b,-0x1d1,-0x253,-0x327)]($,_0x367a3f[_0x1d2d21(-0x230,-0x26a,-0x178,-0x27d)]);continue;case'24':eventSource['on'](eventNames['LLM_EXECUT'+'E_REQUEST'],onExecuteRequest);continue;case'25':modelSelect=_0x367a3f['Xipmw']($,_0x367a3f[_0x1f9bcd(0x1a,-0x1e,0x54,-0x8e)]);continue;case'26':maxTokensSlider['on'](_0x367a3f[_0x1f9bcd(0x95,-0x29,0x3a,0x80)],()=>maxTokensValue[_0x1f9bcd(-0x1d,0x4d,-0x35,0x36)](maxTokensSlider[_0x1d2d21(-0x24a,-0x2eb,-0x241,-0x1bb)]()));continue;case'27':_0x367a3f[_0x1d2d21(-0x10c,-0xa0,-0x65,-0x122)](loadLLMProfiles);continue;case'28':_0x367a3f[_0x1d2d21(-0x283,-0x1d5,-0x27d,-0x217)]($,_0x367a3f['rLrAm'])['on'](_0x367a3f[_0x1d2d21(-0x29c,-0x314,-0x2d7,-0x266)],onImportProfileClick);continue;case'29':testButton=_0x367a3f[_0x1f9bcd(0x104,0x98,0xfc,0x31)]($,_0x367a3f[_0x1d2d21(-0x11c,-0x1b8,-0x155,-0xcf)]);continue;case'30':temperatureValue=_0x367a3f[_0x1d2d21(-0x282,-0x25d,-0x325,-0x294)]($,_0x1d2d21(-0x246,-0x1a6,-0x191,-0x29a)+'rature_val'+'ue');continue;case'31':_0x367a3f[_0x1d2d21(-0x27b,-0x252,-0x1bd,-0x19b)]($,'#delete_ll'+_0x1d2d21(-0x128,-0xcc,-0x139,-0xa7)+_0x1d2d21(-0x23a,-0x23f,-0x251,-0x189))['on']('click',onDeleteProfileClick);continue;case'32':apiUrlInput=_0x367a3f[_0x1f9bcd(-0x46,0x1c,-0xf,0xb7)]($,'#llm_api_u'+'rl');continue;case'33':profileSelect=_0x367a3f[_0x1f9bcd(0xc,0x14,-0x98,0x7e)]($,_0x367a3f[_0x1f9bcd(0x140,0x8c,0x160,0x4f)]);continue;}break;}}
//# sourceMappingURL=http://localhost:8000/ui-llm.js.map